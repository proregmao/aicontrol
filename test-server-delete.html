<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æœåŠ¡å™¨åˆ é™¤åŠŸèƒ½æµ‹è¯•</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://unpkg.com/element-plus/dist/index.full.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/element-plus/dist/index.css">
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .test-container { max-width: 800px; margin: 0 auto; }
        .server-item { 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            padding: 10px; 
            border: 1px solid #ddd; 
            margin: 5px 0; 
            border-radius: 4px; 
        }
        .delete-btn { 
            background: #f56565; 
            color: white; 
            border: none; 
            padding: 5px 10px; 
            border-radius: 4px; 
            cursor: pointer; 
        }
        .delete-btn:hover { background: #e53e3e; }
    </style>
</head>
<body>
    <div id="app">
        <div class="test-container">
            <h1>ğŸ”§ æœåŠ¡å™¨åˆ é™¤åŠŸèƒ½æµ‹è¯•</h1>
            <p>æµ‹è¯•åˆ é™¤æœåŠ¡å™¨åæ˜¯å¦ä»åˆ—è¡¨ä¸­ç§»é™¤</p>
            
            <div v-if="serverConfigs.length === 0" style="text-align: center; color: #666; padding: 20px;">
                âœ… æ‰€æœ‰æœåŠ¡å™¨å·²åˆ é™¤ï¼ä¿®å¤æˆåŠŸï¼
            </div>
            
            <div v-for="server in serverConfigs" :key="server.id" class="server-item">
                <div>
                    <strong>{{ server.name }}</strong> - {{ server.ip }}:{{ server.port }} ({{ server.protocol }})
                    <span :style="{ color: server.connected ? 'green' : 'red' }">
                        {{ server.connected ? 'å·²è¿æ¥' : 'æœªè¿æ¥' }}
                    </span>
                </div>
                <button class="delete-btn" @click="deleteServer(server)">åˆ é™¤</button>
            </div>
            
            <div style="margin-top: 20px;">
                <p><strong>å½“å‰æœåŠ¡å™¨æ•°é‡:</strong> {{ serverConfigs.length }}</p>
                <button @click="resetServers" style="padding: 10px 20px; background: #4299e1; color: white; border: none; border-radius: 4px; cursor: pointer;">
                    é‡ç½®æœåŠ¡å™¨åˆ—è¡¨
                </button>
            </div>
        </div>
    </div>

    <script>
        const { createApp, ref } = Vue;
        const { ElMessage, ElMessageBox } = ElementPlus;

        createApp({
            setup() {
                // æœåŠ¡å™¨é…ç½®åˆ—è¡¨
                const serverConfigs = ref([
                    {
                        id: 1,
                        name: 'WEB-SERVER-01',
                        ip: '192.168.1.10',
                        port: 22,
                        protocol: 'ssh',
                        username: 'admin',
                        connected: true,
                        description: 'WebæœåŠ¡å™¨'
                    },
                    {
                        id: 2,
                        name: 'DB-SERVER-01',
                        ip: '192.168.1.11',
                        port: 22,
                        protocol: 'ssh',
                        username: 'root',
                        connected: true,
                        description: 'æ•°æ®åº“æœåŠ¡å™¨'
                    },
                    {
                        id: 3,
                        name: 'APP-SERVER-01',
                        ip: '192.168.1.12',
                        port: 3389,
                        protocol: 'rdp',
                        username: 'administrator',
                        connected: false,
                        description: 'åº”ç”¨æœåŠ¡å™¨'
                    }
                ]);

                // åˆ é™¤æœåŠ¡å™¨ - ä¿®å¤åçš„ç‰ˆæœ¬
                const deleteServer = async (server) => {
                    try {
                        await ElMessageBox.confirm(
                            `ç¡®å®šè¦åˆ é™¤æœåŠ¡å™¨ ${server.name} å—ï¼Ÿ`,
                            'ç¡®è®¤åˆ é™¤',
                            {
                                confirmButtonText: 'ç¡®å®š',
                                cancelButtonText: 'å–æ¶ˆ',
                                type: 'warning'
                            }
                        );
                        
                        // ä»æœåŠ¡å™¨åˆ—è¡¨ä¸­ç§»é™¤è¯¥æœåŠ¡å™¨
                        const index = serverConfigs.value.findIndex(s => s.id === server.id);
                        if (index > -1) {
                            serverConfigs.value.splice(index, 1);
                        }
                        
                        ElMessage.success('æœåŠ¡å™¨åˆ é™¤æˆåŠŸ');
                    } catch (error) {
                        // ç”¨æˆ·å–æ¶ˆåˆ é™¤
                    }
                };

                // é‡ç½®æœåŠ¡å™¨åˆ—è¡¨
                const resetServers = () => {
                    serverConfigs.value = [
                        {
                            id: 1,
                            name: 'WEB-SERVER-01',
                            ip: '192.168.1.10',
                            port: 22,
                            protocol: 'ssh',
                            username: 'admin',
                            connected: true,
                            description: 'WebæœåŠ¡å™¨'
                        },
                        {
                            id: 2,
                            name: 'DB-SERVER-01',
                            ip: '192.168.1.11',
                            port: 22,
                            protocol: 'ssh',
                            username: 'root',
                            connected: true,
                            description: 'æ•°æ®åº“æœåŠ¡å™¨'
                        },
                        {
                            id: 3,
                            name: 'APP-SERVER-01',
                            ip: '192.168.1.12',
                            port: 3389,
                            protocol: 'rdp',
                            username: 'administrator',
                            connected: false,
                            description: 'åº”ç”¨æœåŠ¡å™¨'
                        }
                    ];
                    ElMessage.info('æœåŠ¡å™¨åˆ—è¡¨å·²é‡ç½®');
                };

                return {
                    serverConfigs,
                    deleteServer,
                    resetServers
                };
            }
        }).use(ElementPlus).mount('#app');
    </script>
</body>
</html>
