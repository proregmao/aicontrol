# æ™ºèƒ½è®¾å¤‡ç®¡ç†ç³»ç»Ÿæ¶æ„è®¾è®¡æ–‡æ¡£

## ğŸ“‹ æ–‡æ¡£ä¿¡æ¯
- **é¡¹ç›®åç§°**: æ™ºèƒ½è®¾å¤‡ç®¡ç†ç³»ç»Ÿ (Smart Device Management System)
- **æ¶æ„ç‰ˆæœ¬**: v1.0
- **è®¾è®¡æ—¥æœŸ**: 2025-09-15
- **æ¶æ„å¸ˆ**: AI Assistant (System Architect)
- **æŠ€æœ¯æ ˆ**: Go + Vue3 + PostgreSQL + Redis

## ğŸ—ï¸ æ•´ä½“æ¶æ„è®¾è®¡

### ç³»ç»Ÿæ¶æ„å›¾
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æ™ºèƒ½è®¾å¤‡ç®¡ç†ç³»ç»Ÿ                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                     å‰ç«¯å±‚ (Frontend)                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Vue3 + Element Plus + TypeScript + Vite                â”‚ â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚ â”‚
â”‚  â”‚ â”‚ ç³»ç»Ÿæ¦‚è§ˆ â”‚ â”‚ æ¸©åº¦ç›‘æ§ â”‚ â”‚ æœåŠ¡å™¨  â”‚ â”‚ æ–­è·¯å™¨  â”‚        â”‚ â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚ â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚ â”‚
â”‚  â”‚ â”‚AIæ™ºèƒ½æ§åˆ¶â”‚ â”‚ æ™ºèƒ½å‘Šè­¦ â”‚ â”‚ å®‰å…¨æ§åˆ¶ â”‚                    â”‚ â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                     ç½‘å…³å±‚ (Gateway)                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Nginx åå‘ä»£ç† + è´Ÿè½½å‡è¡¡ + SSLç»ˆç«¯                      â”‚ â”‚
â”‚  â”‚ APIè·¯ç”± + é™æ€èµ„æºæœåŠ¡ + WebSocketä»£ç†                   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                     åº”ç”¨å±‚ (Backend)                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Go + Gin + GORM + WebSocket                             â”‚ â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚ â”‚
â”‚  â”‚ â”‚ æ¸©åº¦æœåŠ¡ â”‚ â”‚ æœåŠ¡å™¨  â”‚ â”‚ æ–­è·¯å™¨  â”‚ â”‚ å‘Šè­¦æœåŠ¡ â”‚        â”‚ â”‚
â”‚  â”‚ â”‚ Service â”‚ â”‚ Service â”‚ â”‚ Service â”‚ â”‚ Service â”‚        â”‚ â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚ â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚ â”‚
â”‚  â”‚ â”‚AIæ§åˆ¶   â”‚ â”‚ å®‰å…¨æœåŠ¡ â”‚ â”‚ é€šçŸ¥æœåŠ¡ â”‚                    â”‚ â”‚
â”‚  â”‚ â”‚ Service â”‚ â”‚ Service â”‚ â”‚ Service â”‚                    â”‚ â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                     æ•°æ®å±‚ (Data)                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ PostgreSQL (ä¸»æ•°æ®åº“) + Redis (ç¼“å­˜/å®æ—¶æ•°æ®)            â”‚ â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚ â”‚
â”‚  â”‚ â”‚ è®¾å¤‡æ•°æ® â”‚ â”‚ ç”¨æˆ·æ•°æ® â”‚ â”‚ é…ç½®æ•°æ® â”‚ â”‚ æ—¥å¿—æ•°æ® â”‚        â”‚ â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                     è®¾å¤‡å±‚ (Devices)                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ RS485-ETH-M04 + RS485-18B20-6H1 + LX47LE-125          â”‚ â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚ â”‚
â”‚  â”‚ â”‚ æ¸©åº¦ä¼ æ„Ÿå™¨â”‚ â”‚ æ™ºèƒ½æ–­è·¯å™¨â”‚ â”‚ ç›®æ ‡æœåŠ¡å™¨â”‚                    â”‚ â”‚
â”‚  â”‚ â”‚ (4è·¯)   â”‚ â”‚ (2ä¸ª)   â”‚ â”‚ (2å°)   â”‚                    â”‚ â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”§ æŠ€æœ¯æ¶æ„é€‰å‹

### å‰ç«¯æŠ€æœ¯æ ˆ
```typescript
// æ ¸å¿ƒæ¡†æ¶
Vue3 + Composition API + TypeScript
Element Plus UIç»„ä»¶åº“
Vite æ„å»ºå·¥å…·
Pinia çŠ¶æ€ç®¡ç†
Vue Router è·¯ç”±ç®¡ç†

// å¼€å‘å·¥å…·
ESLint + Prettier ä»£ç è§„èŒƒ
Husky + lint-staged Gité’©å­
Vitest å•å…ƒæµ‹è¯•
Playwright E2Eæµ‹è¯•
```

### åç«¯æŠ€æœ¯æ ˆ
```go
// æ ¸å¿ƒæ¡†æ¶
Go 1.21+
Gin Webæ¡†æ¶
GORM ORMæ¡†æ¶
WebSocket å®æ—¶é€šä¿¡

// æ•°æ®å­˜å‚¨
PostgreSQL ä¸»æ•°æ®åº“
Redis ç¼“å­˜å’Œå®æ—¶æ•°æ®
```

### åŸºç¡€è®¾æ–½
```yaml
# éƒ¨ç½²ç¯å¢ƒ
Docker + Docker Compose
Nginx åå‘ä»£ç†
SSL/TLS åŠ å¯†ä¼ è¾“

# ç›‘æ§å‘Šè­¦
Prometheus + Grafana ç›‘æ§
é’‰é’‰æœºå™¨äººé€šçŸ¥
```

## ğŸ“Š æ•°æ®æµè®¾è®¡

### å®æ—¶æ•°æ®æµ
```
è®¾å¤‡æ•°æ®é‡‡é›†æµç¨‹:
æ¸©åº¦ä¼ æ„Ÿå™¨ â†’ RS485-ETH-M04 â†’ Goåç«¯ â†’ Redisç¼“å­˜ â†’ WebSocket â†’ Vueå‰ç«¯

æ–­è·¯å™¨æ§åˆ¶æµç¨‹:
Vueå‰ç«¯ â†’ Goåç«¯ â†’ LX47LE-125æ–­è·¯å™¨ â†’ çŠ¶æ€åé¦ˆ â†’ Redis â†’ WebSocket â†’ Vueå‰ç«¯

æœåŠ¡å™¨ç®¡ç†æµç¨‹:
Vueå‰ç«¯ â†’ Goåç«¯ â†’ SSHè¿æ¥ â†’ ç›®æ ‡æœåŠ¡å™¨ â†’ æ‰§è¡Œç»“æœ â†’ Goåç«¯ â†’ Vueå‰ç«¯
```

### æ•°æ®å­˜å‚¨ç­–ç•¥
```sql
-- å®æ—¶æ•°æ® (Redis)
æ¸©åº¦æ•°æ®: 5ç§’é—´éš”, TTL 24å°æ—¶
è®¾å¤‡çŠ¶æ€: å®æ—¶æ›´æ–°, TTL 1å°æ—¶
ç”¨æˆ·ä¼šè¯: TTL 30åˆ†é’Ÿ

-- å†å²æ•°æ® (PostgreSQL)
åˆ†é’Ÿæ•°æ®: 1åˆ†é’Ÿå¹³å‡å€¼, ä¿å­˜1å‘¨
å°æ—¶æ•°æ®: 1å°æ—¶å¹³å‡å€¼, ä¿å­˜1æœˆ
æ—¥æ•°æ®: 1å¤©å¹³å‡å€¼, ä¿å­˜1å¹´
```

## ğŸ›ï¸ æ¨¡å—åˆ’åˆ†è®¾è®¡

### åç«¯æ¨¡å—ç»“æ„
```
backend/
â”œâ”€â”€ cmd/                    # åº”ç”¨å…¥å£
â”‚   â””â”€â”€ server/
â”‚       â””â”€â”€ main.go
â”œâ”€â”€ internal/               # å†…éƒ¨åŒ…
â”‚   â”œâ”€â”€ api/               # APIè·¯ç”±å’Œå¤„ç†å™¨
â”‚   â”‚   â”œâ”€â”€ v1/
â”‚   â”‚   â”‚   â”œâ”€â”€ dashboard/     # ç³»ç»Ÿæ¦‚è§ˆAPI
â”‚   â”‚   â”‚   â”œâ”€â”€ temperature/   # æ¸©åº¦ç›‘æ§API
â”‚   â”‚   â”‚   â”œâ”€â”€ server/        # æœåŠ¡å™¨ç®¡ç†API
â”‚   â”‚   â”‚   â”œâ”€â”€ breaker/       # æ–­è·¯å™¨æ§åˆ¶API
â”‚   â”‚   â”‚   â”œâ”€â”€ aicontrol/     # AIæ™ºèƒ½æ§åˆ¶API
â”‚   â”‚   â”‚   â”œâ”€â”€ alarm/         # æ™ºèƒ½å‘Šè­¦API
â”‚   â”‚   â”‚   â””â”€â”€ security/      # å®‰å…¨æ§åˆ¶API
â”‚   â”‚   â””â”€â”€ middleware/        # ä¸­é—´ä»¶
â”‚   â”œâ”€â”€ service/           # ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”‚   â”œâ”€â”€ temperature/
â”‚   â”‚   â”œâ”€â”€ server/
â”‚   â”‚   â”œâ”€â”€ breaker/
â”‚   â”‚   â”œâ”€â”€ aicontrol/
â”‚   â”‚   â”œâ”€â”€ alarm/
â”‚   â”‚   â””â”€â”€ security/
â”‚   â”œâ”€â”€ repository/        # æ•°æ®è®¿é—®å±‚
â”‚   â”‚   â”œâ”€â”€ postgres/
â”‚   â”‚   â””â”€â”€ redis/
â”‚   â”œâ”€â”€ model/            # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ config/           # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ pkg/              # å·¥å…·åŒ…
â”‚   â”‚   â”œâ”€â”€ modbus/       # Modbusé€šä¿¡
â”‚   â”‚   â”œâ”€â”€ ssh/          # SSHè¿æ¥
â”‚   â”‚   â”œâ”€â”€ dingtalk/     # é’‰é’‰é€šçŸ¥
â”‚   â”‚   â””â”€â”€ websocket/    # WebSocket
â”‚   â””â”€â”€ types/            # ç±»å‹å®šä¹‰
â””â”€â”€ migrations/           # æ•°æ®åº“è¿ç§»
```

### å‰ç«¯æ¨¡å—ç»“æ„
```
frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/           # å…¬å…±ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ common/          # é€šç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ charts/          # å›¾è¡¨ç»„ä»¶
â”‚   â”‚   â””â”€â”€ forms/           # è¡¨å•ç»„ä»¶
â”‚   â”œâ”€â”€ views/               # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Dashboard/       # ç³»ç»Ÿæ¦‚è§ˆ
â”‚   â”‚   â”œâ”€â”€ Temperature/     # æ¸©åº¦ç›‘æ§
â”‚   â”‚   â”œâ”€â”€ Server/          # æœåŠ¡å™¨ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ Breaker/         # æ–­è·¯å™¨æ§åˆ¶
â”‚   â”‚   â”œâ”€â”€ AIControl/       # AIæ™ºèƒ½æ§åˆ¶
â”‚   â”‚   â”œâ”€â”€ Alarm/           # æ™ºèƒ½å‘Šè­¦
â”‚   â”‚   â””â”€â”€ Security/        # å®‰å…¨æ§åˆ¶
â”‚   â”œâ”€â”€ stores/              # PiniaçŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ api/                 # APIæ¥å£
â”‚   â”œâ”€â”€ types/               # TypeScriptç±»å‹
â”‚   â”œâ”€â”€ utils/               # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ composables/         # ç»„åˆå¼å‡½æ•°
â”‚   â””â”€â”€ router/              # è·¯ç”±é…ç½®
â””â”€â”€ public/                  # é™æ€èµ„æº

## ğŸ”„ é€šä¿¡åè®®è®¾è®¡

### WebSocketé€šä¿¡
```typescript
// WebSocketæ¶ˆæ¯æ ¼å¼
interface WSMessage {
  type: 'temperature' | 'server' | 'breaker' | 'alarm' | 'heartbeat'
  action: 'update' | 'alert' | 'status' | 'ping'
  data: any
  timestamp: number
}

// å®æ—¶æ•°æ®æ¨é€
æ¸©åº¦æ•°æ®æ¨é€: æ¯5ç§’æ¨é€ä¸€æ¬¡æœ€æ–°æ¸©åº¦æ•°æ®
è®¾å¤‡çŠ¶æ€æ¨é€: çŠ¶æ€å˜åŒ–æ—¶ç«‹å³æ¨é€
å‘Šè­¦æ¨é€: å‘Šè­¦è§¦å‘æ—¶ç«‹å³æ¨é€
å¿ƒè·³æ£€æµ‹: æ¯30ç§’ä¸€æ¬¡å¿ƒè·³åŒ…
```

### Modbusé€šä¿¡åè®®
```go
// Modbusè®¾å¤‡é€šä¿¡é…ç½®
type ModbusConfig struct {
    Host     string `json:"host"`     // è®¾å¤‡IPåœ°å€
    Port     int    `json:"port"`     // ç«¯å£å·(503/505)
    SlaveID  byte   `json:"slave_id"` // ä»ç«™åœ°å€
    Timeout  int    `json:"timeout"`  // è¶…æ—¶æ—¶é—´(ç§’)
}

// æ¸©åº¦ä¼ æ„Ÿå™¨è¯»å–
func ReadTemperature(config ModbusConfig) ([]float64, error)

// æ–­è·¯å™¨æ§åˆ¶
func ControlBreaker(config ModbusConfig, action string) error
```

### SSHé€šä¿¡åè®®
```go
// SSHè¿æ¥é…ç½®
type SSHConfig struct {
    Host       string `json:"host"`        // æœåŠ¡å™¨IP
    Port       int    `json:"port"`        // SSHç«¯å£
    Username   string `json:"username"`    // ç”¨æˆ·å
    Password   string `json:"password"`    // å¯†ç 
    PrivateKey string `json:"private_key"` // ç§é’¥è·¯å¾„
    Timeout    int    `json:"timeout"`     // è¶…æ—¶æ—¶é—´
}

// SSHå‘½ä»¤æ‰§è¡Œ
func ExecuteSSHCommand(config SSHConfig, command string) (string, error)
```

## ğŸ” å®‰å…¨æ¶æ„è®¾è®¡

### è®¤è¯æˆæƒ
```go
// JWT Tokenç»“æ„
type JWTClaims struct {
    UserID   uint   `json:"user_id"`
    Username string `json:"username"`
    Role     string `json:"role"`
    jwt.StandardClaims
}

// æƒé™çº§åˆ«
const (
    RoleViewer = "viewer"   // åªè¯»æƒé™
    RoleOperator = "operator" // æ“ä½œæƒé™
    RoleAdmin = "admin"     // ç®¡ç†å‘˜æƒé™
)
```

### æ“ä½œå®¡è®¡
```go
// å®¡è®¡æ—¥å¿—ç»“æ„
type AuditLog struct {
    ID        uint      `json:"id"`
    UserID    uint      `json:"user_id"`
    Action    string    `json:"action"`    // æ“ä½œç±»å‹
    Resource  string    `json:"resource"`  // æ“ä½œèµ„æº
    Details   string    `json:"details"`   // æ“ä½œè¯¦æƒ…
    IP        string    `json:"ip"`        // å®¢æˆ·ç«¯IP
    UserAgent string    `json:"user_agent"` // ç”¨æˆ·ä»£ç†
    CreatedAt time.Time `json:"created_at"`
}
```

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–è®¾è®¡

### ç¼“å­˜ç­–ç•¥
```redis
# Redisç¼“å­˜é”®è®¾è®¡
temperature:realtime:{sensor_id}    # å®æ—¶æ¸©åº¦æ•°æ®
server:status:{server_id}           # æœåŠ¡å™¨çŠ¶æ€
breaker:status:{breaker_id}         # æ–­è·¯å™¨çŠ¶æ€
user:session:{user_id}              # ç”¨æˆ·ä¼šè¯
alarm:rules                         # å‘Šè­¦è§„åˆ™ç¼“å­˜
```

### æ•°æ®åº“ä¼˜åŒ–
```sql
-- ç´¢å¼•è®¾è®¡
CREATE INDEX idx_temperature_sensor_time ON temperature_data(sensor_id, created_at);
CREATE INDEX idx_audit_user_time ON audit_logs(user_id, created_at);
CREATE INDEX idx_alarm_status_time ON alarm_logs(status, created_at);

-- åˆ†åŒºè¡¨è®¾è®¡
CREATE TABLE temperature_data_2025_01 PARTITION OF temperature_data
FOR VALUES FROM ('2025-01-01') TO ('2025-02-01');
```

---

**æ¶æ„çŠ¶æ€**: âœ… å·²å®Œæˆ
**å®¡æ ¸çŠ¶æ€**: å¾…å®¡æ ¸
**ä¸‹ä¸€æ­¥**: æ•°æ®åº“è®¾è®¡
```
