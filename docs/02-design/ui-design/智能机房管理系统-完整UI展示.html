<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ™ºèƒ½æœºæˆ¿ç®¡ç†ç³»ç»Ÿ - å®Œæ•´UIå±•ç¤º</title>
    <style>
        /* åŸºäºfrontendçš„Element Plusè®¾è®¡ç³»ç»Ÿ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            height: 100%;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background-color: #f5f5f5;
        }

        #app {
            min-height: 100vh;
            background-color: #f5f5f5;
            display: flex;
            align-items: flex-start;
            justify-content: center;
            padding-top: 0;
        }

        /* é¡µé¢å®¹å™¨ - ä¸¥æ ¼æŒ‰ç…§frontendè®¾è®¡ */
        .page-container {
            width: 1400px;
            height: 1080px;
            margin: 0 auto;
            background: white;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            overflow: hidden;
        }

        .main-layout {
            display: flex;
            height: 100%;
        }

        /* å·¦ä¾§èœå• - ä¸¥æ ¼æŒ‰ç…§frontendè®¾è®¡ */
        .sidebar {
            width: 200px;
            background: #001529;
            color: white;
            flex-shrink: 0;
        }

        .logo {
            height: 64px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-bottom: 1px solid #1f1f1f;
            margin-bottom: 20px;
        }

        .logo h2 {
            color: white;
            font-size: 18px;
            font-weight: 600;
        }

        .sidebar-menu {
            border: none;
            height: calc(100% - 84px);
            overflow-y: auto;
        }

        .menu-item {
            height: 50px;
            line-height: 50px;
            padding: 0 15px;
            color: #fff;
            background-color: transparent;
            border: none;
            width: 100%;
            text-align: left;
            cursor: pointer;
            font-size: 13px;
            transition: background-color 0.3s;
            display: block;
        }

        .menu-item:hover {
            background-color: #1890ff !important;
        }

        .menu-item.active {
            background-color: #1890ff;
        }

        .submenu-item {
            height: 40px;
            line-height: 40px;
            padding: 0 25px;
            font-size: 12px;
            color: rgba(255, 255, 255, 0.8);
            background-color: transparent;
            border: none;
            width: 100%;
            text-align: left;
            cursor: pointer;
            display: none;
        }

        .submenu-item.show {
            display: block;
        }

        .submenu-item:hover {
            background-color: #1890ff !important;
            color: #fff;
        }

        .submenu-item.active {
            background-color: #1890ff;
            color: #fff;
        }

        .menu-arrow {
            position: absolute;
            right: 16px;
            top: 50%;
            transform: translateY(-50%);
            transition: transform 0.3s ease;
            color: rgba(255, 255, 255, 0.6);
            width: 16px;
            height: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .menu-arrow::before {
            content: '';
            display: inline-block;
            width: 0;
            height: 0;
            border-style: solid;
        }

        .menu-arrow.right::before {
            border-left: 8px solid rgba(255, 255, 255, 0.6);
            border-top: 6px solid transparent;
            border-bottom: 6px solid transparent;
            border-right: none;
        }

        .menu-arrow.down::before {
            border-top: 8px solid rgba(255, 255, 255, 0.6);
            border-left: 6px solid transparent;
            border-right: 6px solid transparent;
            border-bottom: none;
        }

        .menu-item:hover .menu-arrow.right::before {
            border-left-color: white;
        }

        .menu-item:hover .menu-arrow.down::before {
            border-top-color: white;
        }

        .menu-item {
            position: relative;
        }

        .menu-item:hover .menu-arrow {
            color: white;
        }

        .submenu-group {
            overflow: hidden;
            transition: all 0.3s ease;
            background-color: rgba(0, 0, 0, 0.1);
        }

        .submenu-group .submenu-item {
            margin-left: 20px;
            width: calc(100% - 20px);
            border-left: 2px solid transparent;
        }

        .submenu-group .submenu-item:hover {
            border-left-color: #1890ff;
        }

        .submenu-group .submenu-item.active {
            border-left-color: #1890ff;
        }

        /* å³ä¾§å†…å®¹åŒºåŸŸ - ä¸¥æ ¼æŒ‰ç…§frontendè®¾è®¡ */
        .content-area {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        /* é¢åŒ…å±‘å¯¼èˆª - ä¸¥æ ¼æŒ‰ç…§frontendè®¾è®¡ */
        .breadcrumb-nav {
            height: 60px;
            background: white;
            border-bottom: 1px solid #e8e8e8;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px;
        }

        .nav-actions {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .nav-actions .btn {
            color: #666;
            background: none;
            border: none;
            cursor: pointer;
            padding: 8px 12px;
            border-radius: 4px;
            transition: color 0.3s;
        }

        .nav-actions .btn:hover {
            color: #1890ff;
        }

        /* ä¸»è¦å†…å®¹ - ä¸¥æ ¼æŒ‰ç…§frontendè®¾è®¡ */
        .main-content {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
        }

        /* é¡µé¢å¸ƒå±€ç»„ä»¶ - åŸºäºPageLayout.vue */
        .page-layout {
            padding: 20px;
        }

        .page-header {
            margin-bottom: 20px;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .page-header h1 {
            margin: 0 0 10px 0;
            color: #1890ff;
            font-size: 24px;
            font-weight: 600;
        }

        .page-header p {
            margin: 0;
            color: #666;
            font-size: 14px;
        }

        /* ç»Ÿè®¡å¡ç‰‡åŒºåŸŸ */
        .stats-section {
            margin-bottom: 20px;
        }

        .status-cards {
            display: flex;
            gap: 20px;
            margin-bottom: 0;
        }

        /* ç»Ÿè®¡å¡ç‰‡ - åŸºäºStatCard.vue */
        .status-card {
            flex: 1;
            height: 120px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            position: relative;
        }

        .status-card:hover {
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            transform: translateY(-2px);
        }

        .status-item {
            display: flex;
            align-items: center;
            height: 100%;
            padding: 16px;
        }

        .status-icon {
            margin-right: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
        }

        .status-info {
            flex: 1;
        }

        .status-info h3 {
            margin: 0 0 10px 0;
            font-size: 14px;
            color: #666;
            font-weight: 500;
        }

        .status-value {
            margin: 0 0 5px 0;
            font-size: 24px;
            font-weight: bold;
            line-height: 1;
            color: #1890ff;
        }

        .status-subtitle {
            margin: 0;
            font-size: 12px;
            color: #999;
        }

        /* çŠ¶æ€æ ·å¼ */
        .status-card.success {
            border-left: 4px solid #52c41a;
        }

        .status-card.warning {
            border-left: 4px solid #faad14;
        }

        .status-card.danger {
            border-left: 4px solid #ff4d4f;
        }

        .status-card.info {
            border-left: 4px solid #1890ff;
        }

        /* åŠŸèƒ½å¡ç‰‡ */
        .function-card {
            margin-bottom: 20px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .function-card .card-header {
            padding: 18px 20px;
            border-bottom: 1px solid #f0f0f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .function-card .card-header h3 {
            margin: 0;
            font-size: 16px;
            font-weight: 600;
            color: #262626;
        }

        .function-card .card-body {
            padding: 20px;
        }

        /* æŒ‰é’®æ ·å¼ - Element Plusé£æ ¼ */
        .btn {
            display: inline-block;
            padding: 8px 15px;
            font-size: 14px;
            border-radius: 4px;
            border: 1px solid #d9d9d9;
            background: #fff;
            color: #000000d9;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
            margin-right: 8px;
        }

        .btn:hover {
            color: #40a9ff;
            border-color: #40a9ff;
        }

        .btn-primary {
            color: #fff;
            background-color: #1890ff;
            border-color: #1890ff;
        }

        .btn-primary:hover {
            background-color: #40a9ff;
            border-color: #40a9ff;
        }

        /* æ—¶é—´èŒƒå›´æŒ‰é’®ç»„æ ·å¼ */
        .time-range-buttons {
            display: inline-flex;
            gap: 0;
        }

        .time-range-buttons .btn {
            margin-right: 0;
            border-radius: 0;
            min-width: 60px;
            text-align: center;
            box-sizing: border-box;
            transition: background-color 0.3s, border-color 0.3s, color 0.3s;
        }

        .time-range-buttons .btn:first-child {
            border-radius: 4px 0 0 4px;
        }

        .time-range-buttons .btn:last-child {
            border-radius: 0 4px 4px 0;
        }

        .time-range-buttons .btn + .btn {
            border-left: none;
        }

        .time-range-buttons .btn.active {
            color: #fff;
            background-color: #1890ff;
            border-color: #1890ff;
            z-index: 1;
            position: relative;
        }

        .time-range-buttons .btn.active:hover {
            background-color: #40a9ff;
            border-color: #40a9ff;
        }

        /* æ“ä½œæ­¥éª¤æ ·å¼ */
        .step-item {
            display: flex;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #e8e8e8;
        }

        .step-item:last-child {
            border-bottom: none;
        }

        .step-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 24px;
            height: 24px;
            background: #f0f0f0;
            color: #666;
            border-radius: 50%;
            font-size: 12px;
            font-weight: bold;
            margin-right: 12px;
            flex-shrink: 0;
        }

        .step-item.active .step-number {
            background: #1890ff;
            color: white;
        }

        .step-item.completed .step-number {
            background: #52c41a;
            color: white;
        }

        .step-text {
            flex: 1;
            font-size: 14px;
            color: #333;
        }

        .step-status {
            font-size: 12px;
            color: #666;
            padding: 2px 8px;
            border-radius: 12px;
            background: #f0f0f0;
        }

        .step-item.active .step-status {
            background: #e6f7ff;
            color: #1890ff;
        }

        .step-item.completed .step-status {
            background: #f6ffed;
            color: #52c41a;
        }

        /* è¿›åº¦æ¡æ ·å¼ */
        .progress-container {
            margin-top: 8px;
        }

        .progress-bar {
            width: 100%;
            height: 20px;
            background: #f0f0f0;
            border-radius: 10px;
            overflow: hidden;
            position: relative;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #1890ff, #40a9ff);
            width: 0%;
            transition: width 0.3s ease;
            border-radius: 10px;
        }

        .progress-text {
            text-align: center;
            font-size: 12px;
            color: #666;
            margin-top: 4px;
        }

        /* å¼€å…³æŒ‰é’®æ ·å¼ */
        .switch {
            position: relative;
            display: inline-block;
            width: 44px;
            height: 24px;
        }

        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: #1890ff;
        }

        input:checked + .slider:before {
            transform: translateX(20px);
        }

        .btn-success {
            color: #fff;
            background-color: #52c41a;
            border-color: #52c41a;
        }

        .btn-warning {
            color: #fff;
            background-color: #faad14;
            border-color: #faad14;
        }

        .btn-danger {
            color: #fff;
            background-color: #ff4d4f;
            border-color: #ff4d4f;
        }

        /* é¡µé¢å†…å®¹ */
        .page-content {
            display: none;
        }

        .page-content.active {
            display: block !important;
        }

        /* è¡¨æ ¼æ ·å¼ */
        .table {
            width: 100%;
            border-collapse: collapse;
            border: 1px solid #e8e8e8;
        }

        .table th,
        .table td {
            padding: 12px;
            text-align: left;
            border: 1px solid #e8e8e8;
        }

        .table th {
            background-color: #fafafa;
            font-weight: 600;
            color: #000000d9;
            text-align: center;
        }

        .table tbody tr:hover {
            background-color: #fafafa;
        }

        /* çŠ¶æ€æ ‡ç­¾ */
        .status {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 500;
        }

        .status-online {
            background-color: #f6ffed;
            color: #52c41a;
            border: 1px solid #b7eb8f;
        }

        .status-offline {
            background-color: #fff2f0;
            color: #ff4d4f;
            border: 1px solid #ffccc7;
        }

        .status-warning {
            background-color: #fffbe6;
            color: #faad14;
            border: 1px solid #ffe58f;
        }

        .status-error {
            background-color: #fff2f0;
            color: #ff4d4f;
            border: 1px solid #ffccc7;
        }

        /* è¡¨å•æ ·å¼ */
        .form-group {
            margin-bottom: 16px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #000000d9;
        }

        .form-input {
            width: 100%;
            padding: 8px 11px;
            border: 1px solid #d9d9d9;
            border-radius: 4px;
            font-size: 14px;
            transition: border-color 0.3s;
        }

        .form-input:focus {
            outline: none;
            border-color: #1890ff;
            box-shadow: 0 0 0 2px rgba(24, 144, 255, 0.2);
        }

        /* æ¨¡æ€æ¡† */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.45);
            z-index: 1000;
        }

        .modal.show {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: white;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            max-width: 520px;
            width: 90%;
            max-height: 80vh;
            display: flex;
            flex-direction: column;
        }

        .modal-header {
            padding: 16px 24px;
            border-bottom: 1px solid #f0f0f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: white;
            border-radius: 8px 8px 0 0;
            flex-shrink: 0;
            position: sticky;
            top: 0;
            z-index: 10;
        }

        .modal-title {
            font-size: 16px;
            font-weight: 500;
            margin: 0;
            color: #000000d9;
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 16px;
            cursor: pointer;
            color: #00000073;
            padding: 0;
            width: 22px;
            height: 22px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 2px;
            transition: all 0.3s;
        }

        .modal-close:hover {
            background-color: rgba(0, 0, 0, 0.06);
            color: #000000d9;
        }

        .modal-body {
            padding: 24px;
            flex: 1;
            overflow-y: auto;
            max-height: calc(80vh - 120px);
        }

        .modal-footer {
            padding: 10px 16px;
            border-top: 1px solid #f0f0f0;
            display: flex;
            justify-content: flex-end;
            gap: 8px;
            background: white;
            border-radius: 0 0 8px 8px;
            flex-shrink: 0;
            position: sticky;
            bottom: 0;
            z-index: 10;
        }

        /* å›¾è¡¨å®¹å™¨ */
        .chart-container {
            height: 400px;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #fafafa;
            border-radius: 4px;
            color: #00000073;
            font-size: 16px;
        }

        /* ç¡¬ä»¶ä¿¡æ¯å¡ç‰‡æ ·å¼ */
        .hardware-info-card {
            background: #fff;
            border: 1px solid #e8e8e8;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .hardware-info-card:hover {
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            transform: translateY(-2px);
        }

        .hardware-icon {
            font-size: 32px;
            margin-bottom: 12px;
        }

        .hardware-details h4 {
            margin: 0 0 8px 0;
            color: #262626;
            font-size: 16px;
            font-weight: 600;
        }

        .hardware-value {
            color: #1890ff;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .hardware-usage {
            color: #52c41a;
            font-size: 12px;
            margin-bottom: 2px;
        }

        .hardware-temp {
            color: #8c8c8c;
            font-size: 12px;
        }

        /* å¿«é€Ÿæ“ä½œæŒ‰é’® */
        .quick-action-buttons {
            display: flex;
            gap: 20px;
        }

        .quick-action-buttons .btn {
            flex: 1;
            height: 60px;
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
    </style>
</head>
<body>
    <div id="app">
        <div class="page-container">
            <div class="main-layout">
                <!-- å·¦ä¾§èœå• -->
                <div class="sidebar">
                    <div class="logo">
                        <h2>æ™ºèƒ½è®¾å¤‡ç®¡ç†</h2>
                    </div>
                    <div class="sidebar-menu">
                        <button class="menu-item" onclick="showPage('dashboard', '', 'ğŸ  ç³»ç»Ÿæ¦‚è§ˆ')">ğŸ  ç³»ç»Ÿæ¦‚è§ˆ</button>

                        <button class="menu-item" onclick="toggleMainMenu('temperature', 'ğŸŒ¡ï¸ æ¸©åº¦ç›‘æ§', 'temp-monitor', this)">
                            ğŸŒ¡ï¸ æ¸©åº¦ç›‘æ§ <span class="menu-arrow right"></span>
                        </button>
                        <div class="submenu-group" id="temperature-submenu" style="display: none;">
                            <button class="submenu-item" onclick="showPage('temp-monitor', 'ğŸŒ¡ï¸ æ¸©åº¦ç›‘æ§', 'ğŸ“Š å®æ—¶ç›‘æ§')">ğŸ“Š å®æ—¶ç›‘æ§</button>
                            <button class="submenu-item" onclick="showPage('temp-config', 'ğŸŒ¡ï¸ æ¸©åº¦ç›‘æ§', 'âš™ï¸ ä¼ æ„Ÿå™¨ç®¡ç†')">âš™ï¸ ä¼ æ„Ÿå™¨ç®¡ç†</button>
                        </div>

                        <button class="menu-item" onclick="toggleMainMenu('servers', 'ğŸ–¥ï¸ æœåŠ¡å™¨ç®¡ç†', 'server-monitor', this)">
                            ğŸ–¥ï¸ æœåŠ¡å™¨ç®¡ç† <span class="menu-arrow down"></span>
                        </button>
                        <div class="submenu-group" id="servers-submenu" style="display: block;">
                            <button class="submenu-item active" onclick="showPage('server-monitor', 'ğŸ–¥ï¸ æœåŠ¡å™¨ç®¡ç†', 'ğŸ“Š æœåŠ¡å™¨ç›‘æ§')">ğŸ“Š æœåŠ¡å™¨ç›‘æ§</button>
                            <button class="submenu-item" onclick="showPage('server-config', 'ğŸ–¥ï¸ æœåŠ¡å™¨ç®¡ç†', 'âš™ï¸ è¿æ¥é…ç½®')">âš™ï¸ è¿æ¥é…ç½®</button>
                        </div>

                        <button class="menu-item" onclick="toggleMainMenu('breaker', 'âš¡ æ™ºèƒ½æ–­è·¯å™¨', 'breaker-monitor', this)">
                            âš¡ æ™ºèƒ½æ–­è·¯å™¨ <span class="menu-arrow right"></span>
                        </button>
                        <div class="submenu-group" id="breaker-submenu" style="display: none;">
                            <button class="submenu-item" onclick="showPage('breaker-monitor', 'âš¡ æ™ºèƒ½æ–­è·¯å™¨', 'ğŸ“Š æ–­è·¯å™¨ç›‘æ§')">ğŸ“Š æ–­è·¯å™¨ç›‘æ§</button>
                            <button class="submenu-item" onclick="showPage('breaker-config', 'âš¡ æ™ºèƒ½æ–­è·¯å™¨', 'âš™ï¸ æ–­è·¯å™¨é…ç½®')">âš™ï¸ æ–­è·¯å™¨é…ç½®</button>
                        </div>

                        <button class="menu-item" onclick="showPage('ai-control', '', 'ğŸ¤– AIæ™ºèƒ½æ§åˆ¶')">ğŸ¤– AIæ™ºèƒ½æ§åˆ¶</button>
                        <button class="menu-item" onclick="showPage('alarms', '', 'ğŸ”” æ™ºèƒ½å‘Šè­¦')">ğŸ”” æ™ºèƒ½å‘Šè­¦</button>
                        <button class="menu-item" onclick="showPage('security', '', 'ğŸ”’ å®‰å…¨æ§åˆ¶')">ğŸ”’ å®‰å…¨æ§åˆ¶</button>
                    </div>
                </div>

                <!-- å³ä¾§å†…å®¹åŒºåŸŸ -->
                <div class="content-area">
                    <!-- é¢åŒ…å±‘å¯¼èˆª -->
                    <div class="breadcrumb-nav">
                        <div>
                            <span>é¦–é¡µ / </span>
                            <span id="current-page-title">æœåŠ¡å™¨ç®¡ç† / æœåŠ¡å™¨ç›‘æ§</span>
                        </div>
                        
                        <div class="nav-actions">
                            <button class="btn" onclick="showModal('logoutModal')">
                                ğŸšª é€€å‡ºç™»å½•
                            </button>
                        </div>
                    </div>

                    <!-- ä¸»è¦å†…å®¹ -->
                    <div class="main-content">
                        <!-- ğŸ  ç³»ç»Ÿæ¦‚è§ˆé¡µé¢ -->
                        <div id="dashboard" class="page-content">
                            <div class="page-layout">
                                <!-- é¡µé¢æ ‡é¢˜åŒºåŸŸ -->
                                <div class="page-header">
                                    <h1>ğŸ  ç³»ç»Ÿæ¦‚è§ˆ</h1>
                                    <p>æ™ºèƒ½æœºæˆ¿ç®¡ç†ç³»ç»Ÿ - ç¡¬ä»¶ä¿¡æ¯å±•ç¤ºã€ç³»ç»ŸçŠ¶æ€æ¦‚è§ˆã€å®æ—¶æ•°æ®æ±‡æ€»ã€å‘Šè­¦ä¿¡æ¯ä¸­å¿ƒ</p>
                                </div>

                                <!-- ç»Ÿè®¡å¡ç‰‡åŒºåŸŸ -->
                                <div class="stats-section">
                                    <div class="status-cards">
                                        <div class="status-card info">
                                            <div class="status-item">
                                                <div class="status-icon">
                                                    <span style="color: #1890ff">ğŸ–¥ï¸</span>
                                                </div>
                                                <div class="status-info">
                                                    <h3>ç¡¬ä»¶è®¾å¤‡</h3>
                                                    <div class="status-value" style="color: #1890ff">8å°</div>
                                                    <div class="status-subtitle">æœåŠ¡å™¨2å° + ä¼ æ„Ÿå™¨4ä¸ª + æ–­è·¯å™¨2ä¸ª</div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="status-card success">
                                            <div class="status-item">
                                                <div class="status-icon">
                                                    <span style="color: #52c41a">ğŸŒ¡ï¸</span>
                                                </div>
                                                <div class="status-info">
                                                    <h3>ç¯å¢ƒæ¸©åº¦</h3>
                                                    <div class="status-value" style="color: #52c41a">24.5Â°C</div>
                                                    <div class="status-subtitle">4è·¯ä¼ æ„Ÿå™¨å¹³å‡å€¼ | æ­£å¸¸èŒƒå›´</div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="status-card success">
                                            <div class="status-item">
                                                <div class="status-icon">
                                                    <span style="color: #52c41a">âš¡</span>
                                                </div>
                                                <div class="status-info">
                                                    <h3>ç”µæºçŠ¶æ€</h3>
                                                    <div class="status-value" style="color: #52c41a">æ­£å¸¸</div>
                                                    <div class="status-subtitle">2è·¯æ–­è·¯å™¨åœ¨çº¿ | è´Ÿè½½æ­£å¸¸</div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="status-card success">
                                            <div class="status-item">
                                                <div class="status-icon">
                                                    <span style="color: #52c41a">ğŸ””</span>
                                                </div>
                                                <div class="status-info">
                                                    <h3>å‘Šè­¦çŠ¶æ€</h3>
                                                    <div class="status-value" style="color: #52c41a">0</div>
                                                    <div class="status-subtitle">æ— æ´»è·ƒå‘Šè­¦ | ç³»ç»Ÿè¿è¡Œæ­£å¸¸</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- F1.1 ç¡¬ä»¶ä¿¡æ¯å±•ç¤º -->
                                <div class="function-card">
                                    <div class="card-header">
                                        <h3>ğŸ–¥ï¸ æœ¬æœºç¡¬ä»¶ä¿¡æ¯</h3>
                                        <button class="btn btn-primary">ğŸ”„ åˆ·æ–°ä¿¡æ¯</button>
                                    </div>
                                    <div class="card-body">
                                        <div style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr; gap: 20px;">
                                            <div class="hardware-info-card">
                                                <div class="hardware-icon">ğŸ’»</div>
                                                <div class="hardware-details">
                                                    <h4>CPU</h4>
                                                    <div class="hardware-value">Intel Core i7-12700</div>
                                                    <div class="hardware-usage">ä½¿ç”¨ç‡: 15.2%</div>
                                                    <div class="hardware-temp">æ¸©åº¦: 42Â°C</div>
                                                </div>
                                            </div>
                                            <div class="hardware-info-card">
                                                <div class="hardware-icon">ğŸ§ </div>
                                                <div class="hardware-details">
                                                    <h4>å†…å­˜</h4>
                                                    <div class="hardware-value">32GB DDR4</div>
                                                    <div class="hardware-usage">ä½¿ç”¨ç‡: 68.5%</div>
                                                    <div class="hardware-temp">å·²ç”¨: 21.9GB</div>
                                                </div>
                                            </div>
                                            <div class="hardware-info-card">
                                                <div class="hardware-icon">ğŸ’¾</div>
                                                <div class="hardware-details">
                                                    <h4>ç£ç›˜</h4>
                                                    <div class="hardware-value">1TB NVMe SSD</div>
                                                    <div class="hardware-usage">ä½¿ç”¨ç‡: 45.8%</div>
                                                    <div class="hardware-temp">å¯ç”¨: 542GB</div>
                                                </div>
                                            </div>
                                            <div class="hardware-info-card">
                                                <div class="hardware-icon">ğŸŒ</div>
                                                <div class="hardware-details">
                                                    <h4>ç½‘ç»œ</h4>
                                                    <div class="hardware-value">åƒå…†ä»¥å¤ªç½‘</div>
                                                    <div class="hardware-usage">ä¸Šä¼ : 2.5MB/s</div>
                                                    <div class="hardware-temp">ä¸‹è½½: 15.8MB/s</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- F1.2 ç³»ç»ŸçŠ¶æ€ç›‘æ§ -->
                                <div class="function-card">
                                    <div class="card-header">
                                        <h3>ğŸ“Š ç³»ç»ŸçŠ¶æ€ç›‘æ§</h3>
                                        <button class="btn btn-primary">ğŸ”„ åˆ·æ–°çŠ¶æ€</button>
                                    </div>
                                    <div class="card-body">
                                        <table class="table">
                                            <thead>
                                                <tr>
                                                    <th>è®¾å¤‡ç±»å‹</th>
                                                    <th>è®¾å¤‡åç§°</th>
                                                    <th>è¿æ¥çŠ¶æ€</th>
                                                    <th>è¿è¡ŒçŠ¶æ€</th>
                                                    <th>æœ€åæ›´æ–°</th>
                                                    <th>å¿«é€Ÿæ“ä½œ</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>ğŸŒ¡ï¸ æ¸©åº¦ä¼ æ„Ÿå™¨</td>
                                                    <td>4è·¯æ¸©åº¦ç›‘æ§</td>
                                                    <td><span class="status status-online">åœ¨çº¿</span></td>
                                                    <td><span class="status status-online">æ­£å¸¸</span></td>
                                                    <td>2025-09-15 12:00:00</td>
                                                    <td><button class="btn" onclick="showPage('temp-monitor')">æŸ¥çœ‹è¯¦æƒ…</button></td>
                                                </tr>
                                                <tr>
                                                    <td>ğŸ–¥ï¸ æœåŠ¡å™¨</td>
                                                    <td>ä¸»æœåŠ¡å™¨ + å¤‡ç”¨æœåŠ¡å™¨</td>
                                                    <td><span class="status status-online">åœ¨çº¿</span></td>
                                                    <td><span class="status status-online">è¿è¡Œä¸­</span></td>
                                                    <td>2025-09-15 12:00:00</td>
                                                    <td><button class="btn" onclick="showPage('server-monitor')">æŸ¥çœ‹è¯¦æƒ…</button></td>
                                                </tr>
                                                <tr>
                                                    <td>âš¡ æ™ºèƒ½æ–­è·¯å™¨</td>
                                                    <td>æ–­è·¯å™¨#1 + æ–­è·¯å™¨#2</td>
                                                    <td><span class="status status-online">åœ¨çº¿</span></td>
                                                    <td><span class="status status-online">åˆé—¸</span></td>
                                                    <td>2025-09-15 12:00:00</td>
                                                    <td><button class="btn" onclick="showPage('breaker-monitor')">æŸ¥çœ‹è¯¦æƒ…</button></td>
                                                </tr>
                                                <tr>
                                                    <td>ğŸ¤– AIæ§åˆ¶</td>
                                                    <td>æ™ºèƒ½æ§åˆ¶ç³»ç»Ÿ</td>
                                                    <td><span class="status status-online">å¯ç”¨</span></td>
                                                    <td><span class="status status-online">è¿è¡Œä¸­</span></td>
                                                    <td>2025-09-15 12:00:00</td>
                                                    <td><button class="btn" onclick="showPage('ai-control')">æŸ¥çœ‹è¯¦æƒ…</button></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>

                                <!-- å‘Šè­¦ä¿¡æ¯ä¸­å¿ƒ -->
                                <div class="function-card">
                                    <div class="card-header">
                                        <h3>ğŸ”” å‘Šè­¦ä¿¡æ¯ä¸­å¿ƒ</h3>
                                        <button class="btn" onclick="showPage('alarms')">æŸ¥çœ‹å…¨éƒ¨å‘Šè­¦</button>
                                    </div>
                                    <div class="card-body">
                                        <div style="text-align: center; padding: 40px; color: #52c41a;">
                                            <div style="font-size: 48px; margin-bottom: 16px;">âœ…</div>
                                            <div style="font-size: 18px; font-weight: 600; margin-bottom: 8px;">ç³»ç»Ÿè¿è¡Œæ­£å¸¸</div>
                                            <div style="color: #8c8c8c;">å½“å‰æ— æ´»è·ƒå‘Šè­¦ï¼Œæ‰€æœ‰è®¾å¤‡è¿è¡ŒçŠ¶æ€è‰¯å¥½</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- ğŸŒ¡ï¸ æ¸©åº¦ç›‘æ§ - ğŸ“Š å®æ—¶ç›‘æ§é¡µé¢ -->
                        <div id="temp-monitor" class="page-content">
                            <div class="page-layout">
                                <!-- é¡µé¢æ ‡é¢˜åŒºåŸŸ -->
                                <div class="page-header">
                                    <h1>ğŸŒ¡ï¸ æ¸©åº¦ç›‘æ§ - ğŸ“Š å®æ—¶ç›‘æ§</h1>
                                    <p>4è·¯æ¸©åº¦å®æ—¶æ˜¾ç¤ºã€å†å²è¶‹åŠ¿å›¾è¡¨ã€å‘Šè­¦é˜ˆå€¼è®¾ç½®</p>
                                </div>

                                <!-- ç»Ÿè®¡å¡ç‰‡åŒºåŸŸ -->
                                <div class="stats-section">
                                    <div class="status-cards">
                                        <div class="status-card success">
                                            <div class="status-item">
                                                <div class="status-icon">
                                                    <span style="color: #52c41a">ğŸŒ¡ï¸</span>
                                                </div>
                                                <div class="status-info">
                                                    <h3>æ¢å¤´1 (å®¤æ¸©)</h3>
                                                    <div class="status-value" style="color: #52c41a">23.5Â°C</div>
                                                    <div class="status-subtitle">æ­£å¸¸èŒƒå›´ 18-25Â°C | 5ç§’åˆ·æ–°</div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="status-card success">
                                            <div class="status-item">
                                                <div class="status-icon">
                                                    <span style="color: #52c41a">ğŸŒ¡ï¸</span>
                                                </div>
                                                <div class="status-info">
                                                    <h3>æ¢å¤´2 (è¿›é£å£)</h3>
                                                    <div class="status-value" style="color: #52c41a">21.2Â°C</div>
                                                    <div class="status-subtitle">æ­£å¸¸èŒƒå›´ 18-25Â°C | 5ç§’åˆ·æ–°</div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="status-card warning">
                                            <div class="status-item">
                                                <div class="status-icon">
                                                    <span style="color: #faad14">ğŸŒ¡ï¸</span>
                                                </div>
                                                <div class="status-info">
                                                    <h3>æ¢å¤´3 (å‡ºé£å£)</h3>
                                                    <div class="status-value" style="color: #faad14">35.8Â°C</div>
                                                    <div class="status-subtitle">è­¦å‘ŠèŒƒå›´ 30-45Â°C | 5ç§’åˆ·æ–°</div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="status-card success">
                                            <div class="status-item">
                                                <div class="status-icon">
                                                    <span style="color: #52c41a">ğŸŒ¡ï¸</span>
                                                </div>
                                                <div class="status-info">
                                                    <h3>æ¢å¤´4 (ç½‘ç»œè®¾å¤‡)</h3>
                                                    <div class="status-value" style="color: #52c41a">28.3Â°C</div>
                                                    <div class="status-subtitle">æ­£å¸¸èŒƒå›´ 22-40Â°C | 5ç§’åˆ·æ–°</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- å†å²è¶‹åŠ¿å›¾è¡¨ -->
                                <div class="function-card">
                                    <div class="card-header">
                                        <h3>ğŸ“ˆ å†å²è¶‹åŠ¿å›¾è¡¨</h3>
                                        <div class="time-range-buttons">
                                            <button class="btn" onclick="changeTimeRange('1h', this)">1å°æ—¶</button>
                                            <button class="btn active" onclick="changeTimeRange('6h', this)">6å°æ—¶</button>
                                            <button class="btn" onclick="changeTimeRange('24h', this)">24å°æ—¶</button>
                                            <button class="btn" onclick="changeTimeRange('7d', this)">7å¤©</button>
                                            <button class="btn" onclick="changeTimeRange('30d', this)">30å¤©</button>
                                        </div>
                                    </div>
                                    <div class="card-body">
                                        <div class="chart-container">
                                            ğŸ“Š æ¸©åº¦è¶‹åŠ¿å›¾è¡¨ (ECharts)
                                            <br>æ˜¾ç¤º4ä¸ªæ¢å¤´çš„å†å²æ¸©åº¦å˜åŒ–è¶‹åŠ¿
                                            <br>æ”¯æŒ1å°æ—¶åˆ°1å¹´çš„å†å²æ•°æ®æŸ¥è¯¢
                                        </div>
                                    </div>
                                </div>

                                <!-- å‘Šè­¦é˜ˆå€¼è®¾ç½® -->
                                <div class="function-card">
                                    <div class="card-header">
                                        <h3>âš ï¸ å‘Šè­¦é˜ˆå€¼è®¾ç½®</h3>
                                        <button class="btn btn-primary" onclick="showModal('temperatureAlarmModal')">è®¾ç½®å‘Šè­¦</button>
                                    </div>
                                    <div class="card-body">
                                        <table class="table">
                                            <thead>
                                                <tr>
                                                    <th>æ¢å¤´</th>
                                                    <th>ä½ç½®</th>
                                                    <th>æ­£å¸¸èŒƒå›´</th>
                                                    <th>è­¦å‘Šé˜ˆå€¼</th>
                                                    <th>å±é™©é˜ˆå€¼</th>
                                                    <th>å½“å‰çŠ¶æ€</th>
                                                    <th>æ“ä½œ</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>æ¢å¤´1</td>
                                                    <td>å®¤æ¸©ç›‘æµ‹</td>
                                                    <td>18-25Â°C</td>
                                                    <td>25-30Â°C</td>
                                                    <td>>30Â°C</td>
                                                    <td><span class="status status-online">æ­£å¸¸</span></td>
                                                    <td><button class="btn" onclick="showModal('temperatureAlarmModal')">ç¼–è¾‘</button></td>
                                                </tr>
                                                <tr>
                                                    <td>æ¢å¤´2</td>
                                                    <td>è¿›é£å£</td>
                                                    <td>18-25Â°C</td>
                                                    <td>25-30Â°C</td>
                                                    <td>>30Â°C</td>
                                                    <td><span class="status status-online">æ­£å¸¸</span></td>
                                                    <td><button class="btn" onclick="showModal('temperatureAlarmModal')">ç¼–è¾‘</button></td>
                                                </tr>
                                                <tr>
                                                    <td>æ¢å¤´3</td>
                                                    <td>å‡ºé£å£</td>
                                                    <td>30-45Â°C</td>
                                                    <td>45-60Â°C</td>
                                                    <td>>60Â°C</td>
                                                    <td><span class="status status-warning">è­¦å‘Š</span></td>
                                                    <td><button class="btn" onclick="showModal('temperatureAlarmModal')">ç¼–è¾‘</button></td>
                                                </tr>
                                                <tr>
                                                    <td>æ¢å¤´4</td>
                                                    <td>ç½‘ç»œè®¾å¤‡</td>
                                                    <td>22-40Â°C</td>
                                                    <td>40-50Â°C</td>
                                                    <td>>50Â°C</td>
                                                    <td><span class="status status-online">æ­£å¸¸</span></td>
                                                    <td><button class="btn" onclick="showModal('temperatureAlarmModal')">ç¼–è¾‘</button></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- ğŸŒ¡ï¸ æ¸©åº¦ç›‘æ§ - âš™ï¸ ä¼ æ„Ÿå™¨ç®¡ç†é¡µé¢ -->
                        <div id="temp-config" class="page-content">
                            <div class="page-layout">
                                <!-- é¡µé¢æ ‡é¢˜åŒºåŸŸ -->
                                <div class="page-header">
                                    <h1>ğŸŒ¡ï¸ æ¸©åº¦ç›‘æ§ - âš™ï¸ ä¼ æ„Ÿå™¨ç®¡ç†</h1>
                                    <p>è¿æ¥çŠ¶æ€ç®¡ç†ã€ä¼ æ„Ÿå™¨æ ¡å‡†ã€é…ç½®å‚æ•°è®¾ç½®ã€æ“ä½œæ—¥å¿—è®°å½•</p>
                                </div>

                                <!-- ç»Ÿè®¡å¡ç‰‡åŒºåŸŸ -->
                                <div class="stats-section">
                                    <div class="status-cards">
                                        <div class="status-card info">
                                            <div class="status-item">
                                                <div class="status-icon">
                                                    <span style="color: #1890ff">ğŸ”—</span>
                                                </div>
                                                <div class="status-info">
                                                    <h3>è¿æ¥çŠ¶æ€</h3>
                                                    <div class="status-value" style="color: #52c41a">åœ¨çº¿</div>
                                                    <div class="status-subtitle">RS485-ETH-M04 ç½‘å…³æ­£å¸¸</div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="status-card success">
                                            <div class="status-item">
                                                <div class="status-icon">
                                                    <span style="color: #52c41a">ğŸ“¡</span>
                                                </div>
                                                <div class="status-info">
                                                    <h3>ä¼ æ„Ÿå™¨æ•°é‡</h3>
                                                    <div class="status-value" style="color: #52c41a">4ä¸ª</div>
                                                    <div class="status-subtitle">RS485-18B20-6H1 å…¨éƒ¨åœ¨çº¿</div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="status-card success">
                                            <div class="status-item">
                                                <div class="status-icon">
                                                    <span style="color: #52c41a">âš™ï¸</span>
                                                </div>
                                                <div class="status-info">
                                                    <h3>æ ¡å‡†çŠ¶æ€</h3>
                                                    <div class="status-value" style="color: #52c41a">å·²æ ¡å‡†</div>
                                                    <div class="status-subtitle">æœ€åæ ¡å‡†: 30å¤©å‰</div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="status-card info">
                                            <div class="status-item">
                                                <div class="status-icon">
                                                    <span style="color: #1890ff">ğŸ’¾</span>
                                                </div>
                                                <div class="status-info">
                                                    <h3>æ•°æ®å­˜å‚¨</h3>
                                                    <div class="status-value" style="color: #1890ff">æ­£å¸¸</div>
                                                    <div class="status-subtitle">5ç§’é—´éš” | PostgreSQL</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- è¿æ¥çŠ¶æ€ç®¡ç† -->
                                <div class="function-card">
                                    <div class="card-header">
                                        <h3>ğŸ”— è¿æ¥çŠ¶æ€ç®¡ç†</h3>
                                        <button class="btn btn-primary">æµ‹è¯•è¿æ¥</button>
                                    </div>
                                    <div class="card-body">
                                        <table class="table">
                                            <thead>
                                                <tr>
                                                    <th>è®¾å¤‡</th>
                                                    <th>è¿æ¥åœ°å€</th>
                                                    <th>é€šä¿¡åè®®</th>
                                                    <th>è¿æ¥çŠ¶æ€</th>
                                                    <th>æœ€åé€šä¿¡</th>
                                                    <th>æ“ä½œ</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>RS485-ETH-M04 ç½‘å…³</td>
                                                    <td>192.168.110.50:502</td>
                                                    <td>Modbus-TCP</td>
                                                    <td><span class="status status-online">åœ¨çº¿</span></td>
                                                    <td>2025-09-15 12:00:00</td>
                                                    <td>
                                                        <button class="btn" onclick="showModal('deviceConfigModal')">é…ç½®</button>
                                                        <button class="btn" onclick="showModal('deviceTestModal')">æµ‹è¯•</button>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>RS485-18B20-6H1 ä¼ æ„Ÿå™¨</td>
                                                    <td>Modbusåœ°å€: 1-4</td>
                                                    <td>Modbus-RTU</td>
                                                    <td><span class="status status-online">åœ¨çº¿</span></td>
                                                    <td>2025-09-15 12:00:00</td>
                                                    <td>
                                                        <button class="btn" onclick="showModal('deviceConfigModal')">é…ç½®</button>
                                                        <button class="btn" onclick="showModal('sensorCalibrationModal')">æ ¡å‡†</button>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>

                                <!-- é…ç½®å‚æ•°è®¾ç½® -->
                                <div class="function-card">
                                    <div class="card-header">
                                        <h3>âš™ï¸ é…ç½®å‚æ•°è®¾ç½®</h3>
                                        <button class="btn btn-primary">ä¿å­˜é…ç½®</button>
                                    </div>
                                    <div class="card-body">
                                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                                            <div class="form-group">
                                                <label class="form-label">æ•°æ®é‡‡é›†é—´éš”</label>
                                                <select class="form-input">
                                                    <option>1ç§’</option>
                                                    <option selected>5ç§’</option>
                                                    <option>10ç§’</option>
                                                    <option>30ç§’</option>
                                                </select>
                                            </div>
                                            <div class="form-group">
                                                <label class="form-label">æ•°æ®å­˜å‚¨é—´éš”</label>
                                                <select class="form-input">
                                                    <option selected>5ç§’</option>
                                                    <option>10ç§’</option>
                                                    <option>30ç§’</option>
                                                    <option>1åˆ†é’Ÿ</option>
                                                </select>
                                            </div>
                                            <div class="form-group">
                                                <label class="form-label">é€šä¿¡è¶…æ—¶æ—¶é—´</label>
                                                <input type="number" class="form-input" value="3000" placeholder="æ¯«ç§’">
                                            </div>
                                            <div class="form-group">
                                                <label class="form-label">é‡è¯•æ¬¡æ•°</label>
                                                <input type="number" class="form-input" value="3" placeholder="æ¬¡æ•°">
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- æ“ä½œæ—¥å¿—è®°å½• -->
                                <div class="function-card">
                                    <div class="card-header">
                                        <h3>ğŸ“ æ“ä½œæ—¥å¿—è®°å½•</h3>
                                        <button class="btn" onclick="showModal('exportDataModal')">å¯¼å‡ºæ—¥å¿—</button>
                                    </div>
                                    <div class="card-body">
                                        <table class="table">
                                            <thead>
                                                <tr>
                                                    <th>æ—¶é—´</th>
                                                    <th>æ“ä½œç±»å‹</th>
                                                    <th>æ“ä½œå†…å®¹</th>
                                                    <th>æ“ä½œç»“æœ</th>
                                                    <th>æ“ä½œç”¨æˆ·</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>2025-09-15 12:00:00</td>
                                                    <td>é…ç½®ä¿®æ”¹</td>
                                                    <td>ä¿®æ”¹æ•°æ®é‡‡é›†é—´éš”ä¸º5ç§’</td>
                                                    <td><span class="status status-online">æˆåŠŸ</span></td>
                                                    <td>admin</td>
                                                </tr>
                                                <tr>
                                                    <td>2025-09-15 11:30:00</td>
                                                    <td>ä¼ æ„Ÿå™¨æ ¡å‡†</td>
                                                    <td>æ‰§è¡Œæ¢å¤´1-4é›¶ç‚¹æ ¡å‡†</td>
                                                    <td><span class="status status-online">æˆåŠŸ</span></td>
                                                    <td>admin</td>
                                                </tr>
                                                <tr>
                                                    <td>2025-09-15 11:00:00</td>
                                                    <td>è¿æ¥æµ‹è¯•</td>
                                                    <td>æµ‹è¯•RS485ç½‘å…³è¿æ¥</td>
                                                    <td><span class="status status-online">æˆåŠŸ</span></td>
                                                    <td>admin</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- ğŸ–¥ï¸ æœåŠ¡å™¨ç®¡ç† - ğŸ“Š æœåŠ¡å™¨ç›‘æ§é¡µé¢ -->
                        <div id="server-monitor" class="page-content active">
                            <div class="page-layout">
                                <!-- é¡µé¢æ ‡é¢˜åŒºåŸŸ -->
                                <div class="page-header">
                                    <h1>ğŸ–¥ï¸ æœåŠ¡å™¨ç®¡ç† - ğŸ“Š æœåŠ¡å™¨ç›‘æ§</h1>
                                    <p>ç¡¬ä»¶ä¿¡æ¯ç›‘æ§ã€ç³»ç»ŸçŠ¶æ€ç›‘æ§ã€è¿œç¨‹æ§åˆ¶æ“ä½œ</p>
                                </div>

                                <!-- ç»Ÿè®¡å¡ç‰‡åŒºåŸŸ -->
                                <div class="stats-section">
                                    <div class="status-cards">
                                        <div class="status-card success">
                                            <div class="status-item">
                                                <div class="status-icon">
                                                    <span style="color: #52c41a">ğŸ–¥ï¸</span>
                                                </div>
                                                <div class="status-info">
                                                    <h3>ä¸»æœåŠ¡å™¨</h3>
                                                    <div class="status-value" style="color: #52c41a">è¿è¡Œä¸­</div>
                                                    <div class="status-subtitle">CPU: 45% | å†…å­˜: 62% | æ­£å¸¸</div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="status-card success">
                                            <div class="status-item">
                                                <div class="status-icon">
                                                    <span style="color: #52c41a">ğŸ–¥ï¸</span>
                                                </div>
                                                <div class="status-info">
                                                    <h3>å¤‡ç”¨æœåŠ¡å™¨</h3>
                                                    <div class="status-value" style="color: #52c41a">å¾…æœº</div>
                                                    <div class="status-subtitle">CPU: 5% | å†…å­˜: 15% | æ­£å¸¸</div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="status-card info">
                                            <div class="status-item">
                                                <div class="status-icon">
                                                    <span style="color: #1890ff">ğŸ”—</span>
                                                </div>
                                                <div class="status-info">
                                                    <h3>ç½‘ç»œè¿æ¥</h3>
                                                    <div class="status-value" style="color: #52c41a">æ­£å¸¸</div>
                                                    <div class="status-subtitle">SSHè¿æ¥ | å»¶è¿Ÿ: 2ms</div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="status-card success">
                                            <div class="status-item">
                                                <div class="status-icon">
                                                    <span style="color: #52c41a">ğŸ’¾</span>
                                                </div>
                                                <div class="status-info">
                                                    <h3>å­˜å‚¨ç©ºé—´</h3>
                                                    <div class="status-value" style="color: #52c41a">å……è¶³</div>
                                                    <div class="status-subtitle">ä½¿ç”¨ç‡: 35% | å‰©ä½™: 650GB</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- ç¡¬ä»¶ä¿¡æ¯ç›‘æ§ -->
                                <div class="function-card">
                                    <div class="card-header">
                                        <h3>ğŸ”§ ç¡¬ä»¶ä¿¡æ¯ç›‘æ§</h3>
                                        <button class="btn btn-primary" onclick="refreshServerInfo()">ğŸ”„ åˆ·æ–°ä¿¡æ¯</button>
                                    </div>
                                    <div class="card-body">
                                        <table class="table">
                                            <thead>
                                                <tr>
                                                    <th>æœåŠ¡å™¨</th>
                                                    <th>CPUå‹å·</th>
                                                    <th>å†…å­˜å®¹é‡</th>
                                                    <th>å­˜å‚¨å®¹é‡</th>
                                                    <th>ç½‘ç»œæ¥å£</th>
                                                    <th>è¿è¡ŒçŠ¶æ€</th>
                                                    <th>æ“ä½œ</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>ä¸»æœåŠ¡å™¨</td>
                                                    <td>Intel Xeon E5-2680 v4</td>
                                                    <td>32GB DDR4</td>
                                                    <td>1TB SSD</td>
                                                    <td>åƒå…†ä»¥å¤ªç½‘</td>
                                                    <td><span class="status status-online">è¿è¡Œä¸­</span></td>
                                                    <td>
                                                        <button class="btn" onclick="showModal('serverControlModal')">æ§åˆ¶</button>
                                                        <button class="btn" onclick="showModal('serverDetailModal')">è¯¦æƒ…</button>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>å¤‡ç”¨æœåŠ¡å™¨</td>
                                                    <td>Intel Xeon E5-2660 v3</td>
                                                    <td>16GB DDR4</td>
                                                    <td>500GB SSD</td>
                                                    <td>åƒå…†ä»¥å¤ªç½‘</td>
                                                    <td><span class="status status-online">å¾…æœº</span></td>
                                                    <td>
                                                        <button class="btn" onclick="showModal('serverControlModal')">æ§åˆ¶</button>
                                                        <button class="btn" onclick="showModal('serverDetailModal')">è¯¦æƒ…</button>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>

                                <!-- ç³»ç»ŸçŠ¶æ€ç›‘æ§ -->
                                <div class="function-card">
                                    <div class="card-header">
                                        <h3>ğŸ“Š ç³»ç»ŸçŠ¶æ€ç›‘æ§</h3>
                                        <button class="btn" onclick="showNotification('è¯¦ç»†ç›‘æ§åŠŸèƒ½å¼€å‘ä¸­...', 'info')">æŸ¥çœ‹è¯¦ç»†ç›‘æ§</button>
                                    </div>
                                    <div class="card-body">
                                        <div class="chart-container">
                                            ğŸ“Š ç³»ç»Ÿèµ„æºä½¿ç”¨ç‡å›¾è¡¨ (ECharts)
                                            <br>CPUä½¿ç”¨ç‡ã€å†…å­˜ä½¿ç”¨ç‡ã€ç£ç›˜I/Oã€ç½‘ç»œæµé‡
                                            <br>å®æ—¶ç›‘æ§æœåŠ¡å™¨æ€§èƒ½æŒ‡æ ‡
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- ğŸ–¥ï¸ æœåŠ¡å™¨ç®¡ç† - âš™ï¸ è¿æ¥é…ç½®é¡µé¢ -->
                        <div id="server-config" class="page-content">
                            <div class="page-layout">
                                <!-- é¡µé¢æ ‡é¢˜åŒºåŸŸ -->
                                <div class="page-header">
                                    <h1>ğŸ–¥ï¸ æœåŠ¡å™¨ç®¡ç† - âš™ï¸ è¿æ¥é…ç½®</h1>
                                    <p>SSHè¿æ¥é…ç½®ã€è®¤è¯æ–¹å¼è®¾ç½®ã€è¿æ¥å‚æ•°ç®¡ç†ã€æ“ä½œæ—¥å¿—è®°å½•</p>
                                </div>

                                <!-- ç»Ÿè®¡å¡ç‰‡åŒºåŸŸ -->
                                <div class="stats-section">
                                    <div class="status-cards">
                                        <div class="status-card success">
                                            <div class="status-item">
                                                <div class="status-icon">
                                                    <span style="color: #52c41a">ğŸ”</span>
                                                </div>
                                                <div class="status-info">
                                                    <h3>SSHè¿æ¥</h3>
                                                    <div class="status-value" style="color: #52c41a">å·²è¿æ¥</div>
                                                    <div class="status-subtitle">2ä¸ªæœåŠ¡å™¨è¿æ¥æ­£å¸¸</div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="status-card info">
                                            <div class="status-item">
                                                <div class="status-icon">
                                                    <span style="color: #1890ff">ğŸ”‘</span>
                                                </div>
                                                <div class="status-info">
                                                    <h3>è®¤è¯æ–¹å¼</h3>
                                                    <div class="status-value" style="color: #1890ff">å¯†é’¥</div>
                                                    <div class="status-subtitle">RSA 2048ä½å¯†é’¥è®¤è¯</div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="status-card success">
                                            <div class="status-item">
                                                <div class="status-icon">
                                                    <span style="color: #52c41a">â±ï¸</span>
                                                </div>
                                                <div class="status-info">
                                                    <h3>è¿æ¥å»¶è¿Ÿ</h3>
                                                    <div class="status-value" style="color: #52c41a">2ms</div>
                                                    <div class="status-subtitle">ç½‘ç»œè¿æ¥ç¨³å®š</div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="status-card success">
                                            <div class="status-item">
                                                <div class="status-icon">
                                                    <span style="color: #52c41a">ğŸ›¡ï¸</span>
                                                </div>
                                                <div class="status-info">
                                                    <h3>å®‰å…¨çŠ¶æ€</h3>
                                                    <div class="status-value" style="color: #52c41a">å®‰å…¨</div>
                                                    <div class="status-subtitle">é˜²ç«å¢™å·²å¯ç”¨</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- SSHè¿æ¥é…ç½® -->
                                <div class="function-card">
                                    <div class="card-header">
                                        <h3>ğŸ” SSHè¿æ¥é…ç½®</h3>
                                        <button class="btn btn-primary" onclick="showModal('addServerModal')">æ·»åŠ æœåŠ¡å™¨</button>
                                    </div>
                                    <div class="card-body">
                                        <table class="table">
                                            <thead>
                                                <tr>
                                                    <th>æœåŠ¡å™¨åç§°</th>
                                                    <th>IPåœ°å€</th>
                                                    <th>ç«¯å£</th>
                                                    <th>ç”¨æˆ·å</th>
                                                    <th>è®¤è¯æ–¹å¼</th>
                                                    <th>è¿æ¥çŠ¶æ€</th>
                                                    <th>æ“ä½œ</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>ä¸»æœåŠ¡å™¨</td>
                                                    <td>192.168.110.100</td>
                                                    <td>22</td>
                                                    <td>root</td>
                                                    <td>RSAå¯†é’¥</td>
                                                    <td><span class="status status-online">å·²è¿æ¥</span></td>
                                                    <td>
                                                        <button class="btn" onclick="showModal('deviceConfigModal')">ç¼–è¾‘</button>
                                                        <button class="btn" onclick="showModal('deviceTestModal')">æµ‹è¯•</button>
                                                        <button class="btn btn-danger" onclick="showNotification('SSHè¿æ¥å·²æ–­å¼€', 'warning')">æ–­å¼€</button>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>å¤‡ç”¨æœåŠ¡å™¨</td>
                                                    <td>192.168.110.101</td>
                                                    <td>22</td>
                                                    <td>root</td>
                                                    <td>RSAå¯†é’¥</td>
                                                    <td><span class="status status-online">å·²è¿æ¥</span></td>
                                                    <td>
                                                        <button class="btn" onclick="showModal('deviceConfigModal')">ç¼–è¾‘</button>
                                                        <button class="btn" onclick="showModal('deviceTestModal')">æµ‹è¯•</button>
                                                        <button class="btn btn-danger" onclick="showNotification('SSHè¿æ¥å·²æ–­å¼€', 'warning')">æ–­å¼€</button>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>

                                <!-- è®¤è¯æ–¹å¼è®¾ç½® -->
                                <div class="function-card">
                                    <div class="card-header">
                                        <h3>ğŸ”‘ è®¤è¯æ–¹å¼è®¾ç½®</h3>
                                        <button class="btn btn-primary">ç”Ÿæˆæ–°å¯†é’¥</button>
                                    </div>
                                    <div class="card-body">
                                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                                            <div class="form-group">
                                                <label class="form-label">è®¤è¯ç±»å‹</label>
                                                <select class="form-input">
                                                    <option>å¯†ç è®¤è¯</option>
                                                    <option selected>RSAå¯†é’¥è®¤è¯</option>
                                                    <option>ED25519å¯†é’¥è®¤è¯</option>
                                                </select>
                                            </div>
                                            <div class="form-group">
                                                <label class="form-label">å¯†é’¥é•¿åº¦</label>
                                                <select class="form-input">
                                                    <option>1024ä½</option>
                                                    <option selected>2048ä½</option>
                                                    <option>4096ä½</option>
                                                </select>
                                            </div>
                                            <div class="form-group">
                                                <label class="form-label">è¿æ¥è¶…æ—¶</label>
                                                <input type="number" class="form-input" value="30" placeholder="ç§’">
                                            </div>
                                            <div class="form-group">
                                                <label class="form-label">ä¿æŒè¿æ¥</label>
                                                <select class="form-input">
                                                    <option>ç¦ç”¨</option>
                                                    <option selected>å¯ç”¨</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- âš¡ æ™ºèƒ½æ–­è·¯å™¨æ§åˆ¶ - ğŸ“Š æ–­è·¯å™¨ç›‘æ§é¡µé¢ -->
                        <div id="breaker-monitor" class="page-content">
                            <div class="page-layout">
                                <!-- é¡µé¢æ ‡é¢˜åŒºåŸŸ -->
                                <div class="page-header">
                                    <h1>âš¡ æ™ºèƒ½æ–­è·¯å™¨æ§åˆ¶ - ğŸ“Š æ–­è·¯å™¨ç›‘æ§</h1>
                                    <p>ç”µæ°”å‚æ•°ç›‘æ§ã€è®¾å¤‡çŠ¶æ€ç›‘æ§ã€æ‰‹åŠ¨æ§åˆ¶æ“ä½œã€ç”µèƒ½è´¨é‡åˆ†æ</p>
                                </div>

                                <!-- ç»Ÿè®¡å¡ç‰‡åŒºåŸŸ -->
                                <div class="stats-section">
                                    <div class="status-cards">
                                        <div class="status-card success">
                                            <div class="status-item">
                                                <div class="status-icon">
                                                    <span style="color: #52c41a">âš¡</span>
                                                </div>
                                                <div class="status-info">
                                                    <h3>æ–­è·¯å™¨#1 (503)</h3>
                                                    <div class="status-value" style="color: #52c41a">åˆé—¸</div>
                                                    <div class="status-subtitle">220V | 15.2A | 3.34kW</div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="status-card success">
                                            <div class="status-item">
                                                <div class="status-icon">
                                                    <span style="color: #52c41a">âš¡</span>
                                                </div>
                                                <div class="status-info">
                                                    <h3>æ–­è·¯å™¨#2 (505)</h3>
                                                    <div class="status-value" style="color: #52c41a">åˆé—¸</div>
                                                    <div class="status-subtitle">220V | 8.7A | 1.91kW</div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="status-card success">
                                            <div class="status-item">
                                                <div class="status-icon">
                                                    <span style="color: #52c41a">ğŸ”—</span>
                                                </div>
                                                <div class="status-info">
                                                    <h3>é€šä¿¡çŠ¶æ€</h3>
                                                    <div class="status-value" style="color: #52c41a">åœ¨çº¿</div>
                                                    <div class="status-subtitle">Modbus-TCP è¿æ¥æ­£å¸¸</div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="status-card success">
                                            <div class="status-item">
                                                <div class="status-icon">
                                                    <span style="color: #52c41a">ğŸ›¡ï¸</span>
                                                </div>
                                                <div class="status-info">
                                                    <h3>ä¿æŠ¤çŠ¶æ€</h3>
                                                    <div class="status-value" style="color: #52c41a">æ­£å¸¸</div>
                                                    <div class="status-subtitle">æ‰€æœ‰ä¿æŠ¤åŠŸèƒ½å¯ç”¨</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- ç”µæ°”å‚æ•°ç›‘æ§ -->
                                <div class="function-card">
                                    <div class="card-header">
                                        <h3>ğŸ“Š ç”µæ°”å‚æ•°ç›‘æ§</h3>
                                        <button class="btn btn-primary">ğŸ”„ åˆ·æ–°æ•°æ®</button>
                                    </div>
                                    <div class="card-body">
                                        <table class="table">
                                            <thead>
                                                <tr>
                                                    <th>æ–­è·¯å™¨</th>
                                                    <th>ç”µå‹(V)</th>
                                                    <th>ç”µæµ(A)</th>
                                                    <th>æœ‰åŠŸåŠŸç‡(kW)</th>
                                                    <th>åŠŸç‡å› æ•°</th>
                                                    <th>é¢‘ç‡(Hz)</th>
                                                    <th>æ¼ç”µæµ(mA)</th>
                                                    <th>æ¸©åº¦(Â°C)</th>
                                                    <th>çŠ¶æ€</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>æ–­è·¯å™¨#1 (503)</td>
                                                    <td><span style="color: #52c41a; font-weight: bold;">220.5</span></td>
                                                    <td><span style="color: #52c41a; font-weight: bold;">15.2</span></td>
                                                    <td><span style="color: #52c41a; font-weight: bold;">3.34</span></td>
                                                    <td><span style="color: #52c41a; font-weight: bold;">0.98</span></td>
                                                    <td><span style="color: #52c41a; font-weight: bold;">50.0</span></td>
                                                    <td><span style="color: #52c41a; font-weight: bold;">2.1</span></td>
                                                    <td><span style="color: #52c41a; font-weight: bold;">35.2</span></td>
                                                    <td><span class="status status-online">åˆé—¸</span></td>
                                                </tr>
                                                <tr>
                                                    <td>æ–­è·¯å™¨#2 (505)</td>
                                                    <td><span style="color: #52c41a; font-weight: bold;">220.8</span></td>
                                                    <td><span style="color: #52c41a; font-weight: bold;">8.7</span></td>
                                                    <td><span style="color: #52c41a; font-weight: bold;">1.91</span></td>
                                                    <td><span style="color: #52c41a; font-weight: bold;">0.99</span></td>
                                                    <td><span style="color: #52c41a; font-weight: bold;">50.0</span></td>
                                                    <td><span style="color: #52c41a; font-weight: bold;">1.8</span></td>
                                                    <td><span style="color: #52c41a; font-weight: bold;">32.8</span></td>
                                                    <td><span class="status status-online">åˆé—¸</span></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>

                                <!-- æ‰‹åŠ¨æ§åˆ¶æ“ä½œ -->
                                <div class="function-card">
                                    <div class="card-header">
                                        <h3>ğŸ›ï¸ æ‰‹åŠ¨æ§åˆ¶æ“ä½œ</h3>
                                        <div style="color: #ff4d4f; font-size: 12px;">âš ï¸ å±é™©æ“ä½œï¼Œè¯·è°¨æ…æ‰§è¡Œ</div>
                                    </div>
                                    <div class="card-body">
                                        <table class="table">
                                            <thead>
                                                <tr>
                                                    <th>æ–­è·¯å™¨</th>
                                                    <th>å½“å‰çŠ¶æ€</th>
                                                    <th>é”å®šçŠ¶æ€</th>
                                                    <th>æœ€åæ“ä½œ</th>
                                                    <th>æ§åˆ¶æ“ä½œ</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>æ–­è·¯å™¨#1 (503)<br><small id="breaker1Binding" style="color: #666;">ç»‘å®š: ä¸»æœåŠ¡å™¨</small></td>
                                                    <td><span class="status status-online">åˆé—¸</span></td>
                                                    <td><span class="status status-offline">æœªé”å®š</span></td>
                                                    <td>2025-09-15 08:00:00</td>
                                                    <td>
                                                        <button class="btn btn-danger" onclick="showBreakerControl('breaker1', getCurrentBinding('breaker1'))">åˆ†é—¸</button>
                                                        <button class="btn" onclick="showNotification('æ–­è·¯å™¨å·²é”å®š', 'success')">é”å®š</button>
                                                        <button class="btn btn-primary" onclick="showBindingModal('breaker1')">ç»‘å®š</button>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>æ–­è·¯å™¨#2 (505)<br><small id="breaker2Binding" style="color: #666;">ç»‘å®š: å¤‡ç”¨æœåŠ¡å™¨</small></td>
                                                    <td><span class="status status-online">åˆé—¸</span></td>
                                                    <td><span class="status status-offline">æœªé”å®š</span></td>
                                                    <td>2025-09-15 08:00:00</td>
                                                    <td>
                                                        <button class="btn btn-danger" onclick="showBreakerControl('breaker2', getCurrentBinding('breaker2'))">åˆ†é—¸</button>
                                                        <button class="btn" onclick="showNotification('æ–­è·¯å™¨å·²é”å®š', 'success')">é”å®š</button>
                                                        <button class="btn btn-primary" onclick="showBindingModal('breaker2')">ç»‘å®š</button>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>

                                <!-- ç”µèƒ½è´¨é‡åˆ†æ -->
                                <div class="function-card">
                                    <div class="card-header">
                                        <h3>ğŸ“ˆ ç”µèƒ½è´¨é‡åˆ†æ</h3>
                                        <button class="btn" onclick="showModal('exportDataModal')">å¯¼å‡ºæŠ¥å‘Š</button>
                                    </div>
                                    <div class="card-body">
                                        <div class="chart-container">
                                            ğŸ“Š ç”µèƒ½è´¨é‡åˆ†æå›¾è¡¨ (ECharts)
                                            <br>ç”µå‹åå·®ã€è´Ÿè½½ç‡ã€åŠŸç‡å› æ•°è¯„ä¼°
                                            <br>å®æ—¶ç›‘æ§ç”µèƒ½è´¨é‡æŒ‡æ ‡
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- âš¡ æ™ºèƒ½æ–­è·¯å™¨æ§åˆ¶ - âš™ï¸ æ–­è·¯å™¨é…ç½®é¡µé¢ -->
                        <div id="breaker-config" class="page-content">
                            <div class="page-layout">
                                <!-- é¡µé¢æ ‡é¢˜åŒºåŸŸ -->
                                <div class="page-header">
                                    <h1>âš¡ æ™ºèƒ½æ–­è·¯å™¨æ§åˆ¶ - âš™ï¸ æ–­è·¯å™¨é…ç½®</h1>
                                    <p>è®¾å¤‡è¿æ¥é…ç½®ã€ä¿æŠ¤å‚æ•°è®¾ç½®ã€å®‰å…¨ä¿æŠ¤æœºåˆ¶ã€å®šæ—¶æ§åˆ¶é…ç½®ã€æ¡ä»¶æ§åˆ¶é…ç½®ã€æ“ä½œæ—¥å¿—</p>
                                </div>

                                <!-- ç»Ÿè®¡å¡ç‰‡åŒºåŸŸ -->
                                <div class="stats-section">
                                    <div class="status-cards">
                                        <div class="status-card success">
                                            <div class="status-item">
                                                <div class="status-icon">
                                                    <span style="color: #52c41a">ğŸ”§</span>
                                                </div>
                                                <div class="status-info">
                                                    <h3>è®¾å¤‡é…ç½®</h3>
                                                    <div class="status-value" style="color: #52c41a">å·²é…ç½®</div>
                                                    <div class="status-subtitle">2ä¸ªæ–­è·¯å™¨é…ç½®å®Œæˆ</div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="status-card success">
                                            <div class="status-item">
                                                <div class="status-icon">
                                                    <span style="color: #52c41a">ğŸ›¡ï¸</span>
                                                </div>
                                                <div class="status-info">
                                                    <h3>ä¿æŠ¤å‚æ•°</h3>
                                                    <div class="status-value" style="color: #52c41a">å·²è®¾ç½®</div>
                                                    <div class="status-subtitle">è¿‡å‹/æ¬ å‹/è¿‡æµ/æ¼ç”µä¿æŠ¤</div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="status-card info" style="cursor: pointer;" onclick="showScheduledTasksModal()">
                                            <div class="status-item">
                                                <div class="status-icon">
                                                    <span style="color: #1890ff">â°</span>
                                                </div>
                                                <div class="status-info">
                                                    <h3>å®šæ—¶ä»»åŠ¡</h3>
                                                    <div class="status-value" style="color: #1890ff" id="taskCount">3ä¸ª</div>
                                                    <div class="status-subtitle">è‡ªåŠ¨å¼€å…³æœºä»»åŠ¡</div>
                                                </div>
                                                <div style="position: absolute; top: 8px; right: 8px;">
                                                    <button class="btn btn-primary" style="padding: 4px 8px; font-size: 12px;" onclick="event.stopPropagation(); showAddTaskModal()">ç®¡ç†</button>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="status-card success">
                                            <div class="status-item">
                                                <div class="status-icon">
                                                    <span style="color: #52c41a">ğŸ¤–</span>
                                                </div>
                                                <div class="status-info">
                                                    <h3>æ™ºèƒ½æ§åˆ¶</h3>
                                                    <div class="status-value" style="color: #52c41a">å¯ç”¨</div>
                                                    <div class="status-subtitle">åŸºäºæ¸©åº¦çš„è‡ªåŠ¨æ§åˆ¶</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- è®¾å¤‡è¿æ¥é…ç½® -->
                                <div class="function-card">
                                    <div class="card-header">
                                        <h3>ğŸ”— è®¾å¤‡è¿æ¥é…ç½®</h3>
                                        <button class="btn btn-primary">ä¿å­˜é…ç½®</button>
                                    </div>
                                    <div class="card-body">
                                        <table class="table">
                                            <thead>
                                                <tr>
                                                    <th>æ–­è·¯å™¨</th>
                                                    <th>IPåœ°å€</th>
                                                    <th>ç«¯å£</th>
                                                    <th>è®¾å¤‡åœ°å€</th>
                                                    <th>é€šä¿¡åè®®</th>
                                                    <th>è¿æ¥çŠ¶æ€</th>
                                                    <th>æ“ä½œ</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>æ–­è·¯å™¨#1</td>
                                                    <td>192.168.110.50</td>
                                                    <td>503</td>
                                                    <td>1</td>
                                                    <td>Modbus-TCP</td>
                                                    <td><span class="status status-online">å·²è¿æ¥</span></td>
                                                    <td>
                                                        <button class="btn" onclick="showModal('deviceConfigModal')">ç¼–è¾‘</button>
                                                        <button class="btn" onclick="showModal('deviceTestModal')">æµ‹è¯•</button>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>æ–­è·¯å™¨#2</td>
                                                    <td>192.168.110.50</td>
                                                    <td>505</td>
                                                    <td>2</td>
                                                    <td>Modbus-TCP</td>
                                                    <td><span class="status status-online">å·²è¿æ¥</span></td>
                                                    <td>
                                                        <button class="btn" onclick="showModal('deviceConfigModal')">ç¼–è¾‘</button>
                                                        <button class="btn" onclick="showModal('deviceTestModal')">æµ‹è¯•</button>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>

                                <!-- ä¿æŠ¤å‚æ•°è®¾ç½® -->
                                <div class="function-card">
                                    <div class="card-header">
                                        <h3>ğŸ›¡ï¸ ä¿æŠ¤å‚æ•°è®¾ç½®</h3>
                                        <button class="btn btn-primary">åº”ç”¨è®¾ç½®</button>
                                    </div>
                                    <div class="card-body">
                                        <div style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr; gap: 20px;">
                                            <div class="form-group">
                                                <label class="form-label">è¿‡å‹ä¿æŠ¤ (V)</label>
                                                <input type="number" class="form-input" value="275" placeholder="è¿‡å‹é˜ˆå€¼">
                                            </div>
                                            <div class="form-group">
                                                <label class="form-label">æ¬ å‹ä¿æŠ¤ (V)</label>
                                                <input type="number" class="form-input" value="160" placeholder="æ¬ å‹é˜ˆå€¼">
                                            </div>
                                            <div class="form-group">
                                                <label class="form-label">è¿‡æµä¿æŠ¤ (A)</label>
                                                <input type="number" class="form-input" value="63" placeholder="è¿‡æµé˜ˆå€¼">
                                            </div>
                                            <div class="form-group">
                                                <label class="form-label">æ¼ç”µä¿æŠ¤ (mA)</label>
                                                <input type="number" class="form-input" value="30" placeholder="æ¼ç”µé˜ˆå€¼">
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- å®‰å…¨ä¿æŠ¤æœºåˆ¶ -->
                                <div class="function-card">
                                    <div class="card-header">
                                        <h3>ğŸ”’ å®‰å…¨ä¿æŠ¤æœºåˆ¶</h3>
                                        <button class="btn btn-primary">ä¿å­˜è®¾ç½®</button>
                                    </div>
                                    <div class="card-body">
                                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                                            <div class="form-group">
                                                <label class="form-label">æ–­ç”µå‰è‡ªåŠ¨å…³æœº</label>
                                                <select class="form-input">
                                                    <option>ç¦ç”¨</option>
                                                    <option selected>å¯ç”¨</option>
                                                </select>
                                            </div>
                                            <div class="form-group">
                                                <label class="form-label">å»¶è¿Ÿæ–­ç”µæ—¶é—´ (ç§’)</label>
                                                <input type="number" class="form-input" value="60" placeholder="å»¶è¿Ÿæ—¶é—´">
                                            </div>
                                            <div class="form-group">
                                                <label class="form-label">æ¸©åº¦ä¿æŠ¤é˜ˆå€¼ (Â°C)</label>
                                                <input type="number" class="form-input" value="70" placeholder="æ¸©åº¦é˜ˆå€¼">
                                            </div>
                                            <div class="form-group">
                                                <label class="form-label">ç´§æ€¥æ–­ç”µç¡®è®¤</label>
                                                <select class="form-input">
                                                    <option>æ— éœ€ç¡®è®¤</option>
                                                    <option selected>éœ€è¦ç¡®è®¤</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- ğŸ¤– AIæ™ºèƒ½æ§åˆ¶æ¨¡å—é¡µé¢ -->
                        <div id="ai-control" class="page-content">
                            <div class="page-layout">
                                <!-- é¡µé¢æ ‡é¢˜åŒºåŸŸ -->
                                <div class="page-header">
                                    <h1>ğŸ¤– AIæ™ºèƒ½æ§åˆ¶æ¨¡å—</h1>
                                    <p>æ™ºèƒ½ç­–ç•¥é…ç½®ã€è‡ªåŠ¨æ§åˆ¶æ‰§è¡Œã€æ§åˆ¶å†å²è®°å½•ã€ç³»ç»Ÿå¥åº·è¯„ä¼°</p>
                                </div>

                                <!-- ç»Ÿè®¡å¡ç‰‡åŒºåŸŸ -->
                                <div class="stats-section">
                                    <div class="status-cards">
                                        <div class="status-card success">
                                            <div class="status-item">
                                                <div class="status-icon">
                                                    <span style="color: #52c41a">ğŸ¤–</span>
                                                </div>
                                                <div class="status-info">
                                                    <h3>æ™ºèƒ½ç­–ç•¥</h3>
                                                    <div class="status-value" style="color: #52c41a">å¯ç”¨</div>
                                                    <div class="status-subtitle">æ¸©åº¦æ§åˆ¶ + èŠ‚èƒ½ä¼˜åŒ–ç­–ç•¥</div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="status-card info">
                                            <div class="status-item">
                                                <div class="status-icon">
                                                    <span style="color: #1890ff">ğŸ“Š</span>
                                                </div>
                                                <div class="status-info">
                                                    <h3>è‡ªåŠ¨æ§åˆ¶</h3>
                                                    <div class="status-value" style="color: #1890ff">è¿è¡Œä¸­</div>
                                                    <div class="status-subtitle">ä»Šæ—¥æ‰§è¡Œ12æ¬¡ | æˆåŠŸç‡100%</div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="status-card success">
                                            <div class="status-item">
                                                <div class="status-icon">
                                                    <span style="color: #52c41a">ğŸ“ˆ</span>
                                                </div>
                                                <div class="status-info">
                                                    <h3>æ§åˆ¶å†å²</h3>
                                                    <div class="status-value" style="color: #52c41a">å®Œæ•´</div>
                                                    <div class="status-subtitle">è®°å½•ä¿å­˜30å¤© | å¯è¿½æº¯</div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="status-card success">
                                            <div class="status-item">
                                                <div class="status-icon">
                                                    <span style="color: #52c41a">â¤ï¸</span>
                                                </div>
                                                <div class="status-info">
                                                    <h3>ç³»ç»Ÿå¥åº·åº¦</h3>
                                                    <div class="status-value" style="color: #52c41a">95åˆ†</div>
                                                    <div class="status-subtitle">å¤šç»´åº¦æ•°æ®ç»¼åˆè¯„ä¼°</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- æ™ºèƒ½ç­–ç•¥é…ç½® -->
                                <div class="function-card">
                                    <div class="card-header">
                                        <h3>ğŸ§  æ™ºèƒ½ç­–ç•¥é…ç½®</h3>
                                        <button class="btn btn-primary" onclick="showAddStrategyModal()">æ–°å¢ç­–ç•¥</button>
                                    </div>
                                    <div class="card-body">
                                        <table class="table">
                                            <thead>
                                                <tr>
                                                    <th>ç­–ç•¥åç§°</th>
                                                    <th>ç­–ç•¥ç±»å‹</th>
                                                    <th>è§¦å‘æ¡ä»¶</th>
                                                    <th>æ‰§è¡ŒåŠ¨ä½œ</th>
                                                    <th>çŠ¶æ€</th>
                                                    <th>æœ€åæ‰§è¡Œ</th>
                                                    <th>æ“ä½œ</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>æ¸©åº¦ä¿æŠ¤ç­–ç•¥</td>
                                                    <td>æ¸©åº¦æ§åˆ¶</td>
                                                    <td>å‡ºé£å£æ¸©åº¦ > 60Â°C</td>
                                                    <td>è‡ªåŠ¨å…³æœº + å»¶è¿Ÿæ–­ç”µ</td>
                                                    <td><span class="status status-online">å¯ç”¨</span></td>
                                                    <td>ä»æœªè§¦å‘</td>
                                                    <td>
                                                        <button class="btn" onclick="showModal('aiStrategyEditModal')">ç¼–è¾‘</button>
                                                        <button class="btn" onclick="showNotification('ç­–ç•¥æµ‹è¯•å·²å¯åŠ¨', 'info')">æµ‹è¯•</button>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>èŠ‚èƒ½ä¼˜åŒ–ç­–ç•¥</td>
                                                    <td>èŠ‚èƒ½ä¼˜åŒ–</td>
                                                    <td>éå·¥ä½œæ—¶é—´ + CPU < 20%</td>
                                                    <td>å…³é—­å¤‡ç”¨æœåŠ¡å™¨</td>
                                                    <td><span class="status status-online">å¯ç”¨</span></td>
                                                    <td>2025-09-15 00:00:00</td>
                                                    <td>
                                                        <button class="btn" onclick="showModal('aiStrategyEditModal')">ç¼–è¾‘</button>
                                                        <button class="btn" onclick="showNotification('ç­–ç•¥æµ‹è¯•å·²å¯åŠ¨', 'info')">æµ‹è¯•</button>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>å®šæ—¶å¼€å…³æœºç­–ç•¥</td>
                                                    <td>å®šæ—¶æ§åˆ¶</td>
                                                    <td>å·¥ä½œæ—¥ 8:00 / 18:00</td>
                                                    <td>è‡ªåŠ¨å¼€æœº / å…³æœº</td>
                                                    <td><span class="status status-online">å¯ç”¨</span></td>
                                                    <td>2025-09-15 08:00:00</td>
                                                    <td>
                                                        <button class="btn" onclick="showModal('aiStrategyEditModal')">ç¼–è¾‘</button>
                                                        <button class="btn" onclick="showNotification('ç­–ç•¥æµ‹è¯•å·²å¯åŠ¨', 'info')">æµ‹è¯•</button>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>

                                <!-- æ§åˆ¶å†å²è®°å½• -->
                                <div class="function-card">
                                    <div class="card-header">
                                        <h3>ğŸ“ æ§åˆ¶å†å²è®°å½•</h3>
                                        <button class="btn" onclick="showModal('exportDataModal')">å¯¼å‡ºè®°å½•</button>
                                    </div>
                                    <div class="card-body">
                                        <table class="table">
                                            <thead>
                                                <tr>
                                                    <th>æ—¶é—´</th>
                                                    <th>ç­–ç•¥åç§°</th>
                                                    <th>è§¦å‘æ¡ä»¶</th>
                                                    <th>æ‰§è¡ŒåŠ¨ä½œ</th>
                                                    <th>æ‰§è¡Œç»“æœ</th>
                                                    <th>å½±å“è®¾å¤‡</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>2025-09-15 08:00:00</td>
                                                    <td>å®šæ—¶å¼€å…³æœºç­–ç•¥</td>
                                                    <td>å·¥ä½œæ—¥ 8:00</td>
                                                    <td>è‡ªåŠ¨å¼€æœº</td>
                                                    <td><span class="status status-online">æˆåŠŸ</span></td>
                                                    <td>ä¸»æœåŠ¡å™¨ + å¤‡ç”¨æœåŠ¡å™¨</td>
                                                </tr>
                                                <tr>
                                                    <td>2025-09-15 00:00:00</td>
                                                    <td>èŠ‚èƒ½ä¼˜åŒ–ç­–ç•¥</td>
                                                    <td>éå·¥ä½œæ—¶é—´ + ä½è´Ÿè½½</td>
                                                    <td>å…³é—­å¤‡ç”¨æœåŠ¡å™¨</td>
                                                    <td><span class="status status-online">æˆåŠŸ</span></td>
                                                    <td>å¤‡ç”¨æœåŠ¡å™¨</td>
                                                </tr>
                                                <tr>
                                                    <td>2025-09-14 18:00:00</td>
                                                    <td>å®šæ—¶å¼€å…³æœºç­–ç•¥</td>
                                                    <td>å·¥ä½œæ—¥ 18:00</td>
                                                    <td>è‡ªåŠ¨å…³æœº</td>
                                                    <td><span class="status status-online">æˆåŠŸ</span></td>
                                                    <td>å¤‡ç”¨æœåŠ¡å™¨</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- ğŸ”” æ™ºèƒ½å‘Šè­¦æ¨¡å—é¡µé¢ -->
                        <div id="alarms" class="page-content">
                            <div class="page-layout">
                                <!-- é¡µé¢æ ‡é¢˜åŒºåŸŸ -->
                                <div class="page-header">
                                    <h1>ğŸ”” æ™ºèƒ½å‘Šè­¦æ¨¡å—</h1>
                                    <p>å‘Šè­¦è§„åˆ™é…ç½®ã€å‘Šè­¦ç­‰çº§ç®¡ç†ã€å‘Šè­¦é€šçŸ¥æ–¹å¼ã€å‘Šè­¦å†å²ç®¡ç†ã€å‘Šè­¦å¤„ç†æµç¨‹</p>
                                </div>

                                <!-- ç»Ÿè®¡å¡ç‰‡åŒºåŸŸ -->
                                <div class="stats-section">
                                    <div class="status-cards">
                                        <div class="status-card success">
                                            <div class="status-item">
                                                <div class="status-icon">
                                                    <span style="color: #52c41a">ğŸ””</span>
                                                </div>
                                                <div class="status-info">
                                                    <h3>æ´»è·ƒå‘Šè­¦</h3>
                                                    <div class="status-value" style="color: #52c41a">0</div>
                                                    <div class="status-subtitle">å½“å‰æ— å‘Šè­¦ | ç³»ç»Ÿæ­£å¸¸</div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="status-card info">
                                            <div class="status-item">
                                                <div class="status-icon">
                                                    <span style="color: #1890ff">ğŸ“‹</span>
                                                </div>
                                                <div class="status-info">
                                                    <h3>å‘Šè­¦è§„åˆ™</h3>
                                                    <div class="status-value" style="color: #1890ff">12æ¡</div>
                                                    <div class="status-subtitle">æ¸©åº¦/ç”µæ°”/è®¾å¤‡å¼‚å¸¸è§„åˆ™</div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="status-card success">
                                            <div class="status-item">
                                                <div class="status-icon">
                                                    <span style="color: #52c41a">ğŸ“§</span>
                                                </div>
                                                <div class="status-info">
                                                    <h3>é€šçŸ¥æ–¹å¼</h3>
                                                    <div class="status-value" style="color: #52c41a">å·²é…ç½®</div>
                                                    <div class="status-subtitle">ç•Œé¢æç¤º + é‚®ä»¶é€šçŸ¥</div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="status-card info">
                                            <div class="status-item">
                                                <div class="status-icon">
                                                    <span style="color: #1890ff">ğŸ“Š</span>
                                                </div>
                                                <div class="status-info">
                                                    <h3>å†å²ç»Ÿè®¡</h3>
                                                    <div class="status-value" style="color: #1890ff">æœ¬æœˆ3æ¬¡</div>
                                                    <div class="status-subtitle">å¤„ç†ç‡100% | å¹³å‡5åˆ†é’Ÿ</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- å‘Šè­¦è§„åˆ™é…ç½® -->
                                <div class="function-card">
                                    <div class="card-header">
                                        <h3>âš™ï¸ å‘Šè­¦è§„åˆ™é…ç½®</h3>
                                        <button class="btn btn-primary" onclick="showAddAlarmRuleModal()">æ–°å¢è§„åˆ™</button>
                                    </div>
                                    <div class="card-body">
                                        <table class="table">
                                            <thead>
                                                <tr>
                                                    <th>è§„åˆ™åç§°</th>
                                                    <th>å‘Šè­¦ç±»å‹</th>
                                                    <th>è§¦å‘æ¡ä»¶</th>
                                                    <th>å‘Šè­¦ç­‰çº§</th>
                                                    <th>é€šçŸ¥æ–¹å¼</th>
                                                    <th>çŠ¶æ€</th>
                                                    <th>æ“ä½œ</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>æ¸©åº¦å¼‚å¸¸å‘Šè­¦</td>
                                                    <td>æ¸©åº¦å¼‚å¸¸</td>
                                                    <td>ä»»æ„æ¢å¤´ > 50Â°C</td>
                                                    <td><span class="status status-warning">è­¦å‘Š</span></td>
                                                    <td>ç•Œé¢æç¤º + é‚®ä»¶</td>
                                                    <td><span class="status status-online">å¯ç”¨</span></td>
                                                    <td>
                                                        <button class="btn" onclick="showModal('alarmRuleEditModal')">ç¼–è¾‘</button>
                                                        <button class="btn" onclick="showNotification('å‘Šè­¦è§„åˆ™æµ‹è¯•å·²å¯åŠ¨', 'info')">æµ‹è¯•</button>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>ç”µå‹å¼‚å¸¸å‘Šè­¦</td>
                                                    <td>ç”µæ°”å¼‚å¸¸</td>
                                                    <td>ç”µå‹ < 200V æˆ– > 250V</td>
                                                    <td><span class="status status-error">ä¸¥é‡</span></td>
                                                    <td>ç•Œé¢æç¤º + é‚®ä»¶ + çŸ­ä¿¡</td>
                                                    <td><span class="status status-online">å¯ç”¨</span></td>
                                                    <td>
                                                        <button class="btn" onclick="showModal('alarmRuleEditModal')">ç¼–è¾‘</button>
                                                        <button class="btn" onclick="showNotification('å‘Šè­¦è§„åˆ™æµ‹è¯•å·²å¯åŠ¨', 'info')">æµ‹è¯•</button>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>è®¾å¤‡ç¦»çº¿å‘Šè­¦</td>
                                                    <td>è®¾å¤‡å¼‚å¸¸</td>
                                                    <td>è®¾å¤‡é€šä¿¡ä¸­æ–­ > 30ç§’</td>
                                                    <td><span class="status status-warning">è­¦å‘Š</span></td>
                                                    <td>ç•Œé¢æç¤º</td>
                                                    <td><span class="status status-online">å¯ç”¨</span></td>
                                                    <td>
                                                        <button class="btn" onclick="showModal('alarmRuleEditModal')">ç¼–è¾‘</button>
                                                        <button class="btn" onclick="showNotification('å‘Šè­¦è§„åˆ™æµ‹è¯•å·²å¯åŠ¨', 'info')">æµ‹è¯•</button>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>

                                <!-- å‘Šè­¦å†å²ç®¡ç† -->
                                <div class="function-card">
                                    <div class="card-header">
                                        <h3>ğŸ“Š å‘Šè­¦å†å²ç®¡ç†</h3>
                                        <button class="btn" onclick="showModal('exportDataModal')">å¯¼å‡ºæŠ¥å‘Š</button>
                                    </div>
                                    <div class="card-body">
                                        <table class="table">
                                            <thead>
                                                <tr>
                                                    <th>æ—¶é—´</th>
                                                    <th>å‘Šè­¦ç±»å‹</th>
                                                    <th>å‘Šè­¦å†…å®¹</th>
                                                    <th>å‘Šè­¦ç­‰çº§</th>
                                                    <th>å¤„ç†çŠ¶æ€</th>
                                                    <th>å¤„ç†æ—¶é—´</th>
                                                    <th>æ“ä½œ</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>2025-09-14 15:30:00</td>
                                                    <td>æ¸©åº¦å¼‚å¸¸</td>
                                                    <td>æ¢å¤´3æ¸©åº¦è¾¾åˆ°52Â°C</td>
                                                    <td><span class="status status-warning">è­¦å‘Š</span></td>
                                                    <td><span class="status status-online">å·²å¤„ç†</span></td>
                                                    <td>5åˆ†é’Ÿ</td>
                                                    <td><button class="btn" onclick="showModal('alarmDetailModal')">æŸ¥çœ‹è¯¦æƒ…</button></td>
                                                </tr>
                                                <tr>
                                                    <td>2025-09-13 09:15:00</td>
                                                    <td>è®¾å¤‡å¼‚å¸¸</td>
                                                    <td>æ–­è·¯å™¨#2é€šä¿¡ä¸­æ–­</td>
                                                    <td><span class="status status-warning">è­¦å‘Š</span></td>
                                                    <td><span class="status status-online">å·²å¤„ç†</span></td>
                                                    <td>2åˆ†é’Ÿ</td>
                                                    <td><button class="btn" onclick="showModal('alarmDetailModal')">æŸ¥çœ‹è¯¦æƒ…</button></td>
                                                </tr>
                                                <tr>
                                                    <td>2025-09-12 14:20:00</td>
                                                    <td>ç”µæ°”å¼‚å¸¸</td>
                                                    <td>ç”µå‹æ³¢åŠ¨è¶…å‡ºæ­£å¸¸èŒƒå›´</td>
                                                    <td><span class="status status-error">ä¸¥é‡</span></td>
                                                    <td><span class="status status-online">å·²å¤„ç†</span></td>
                                                    <td>8åˆ†é’Ÿ</td>
                                                    <td><button class="btn" onclick="showModal('alarmDetailModal')">æŸ¥çœ‹è¯¦æƒ…</button></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- ğŸ”’ å®‰å…¨æ§åˆ¶æ¨¡å—é¡µé¢ -->
                        <div id="security" class="page-content">
                            <div class="page-layout">
                                <!-- é¡µé¢æ ‡é¢˜åŒºåŸŸ -->
                                <div class="page-header">
                                    <h1>ğŸ”’ å®‰å…¨æ§åˆ¶æ¨¡å—</h1>
                                    <p>ç”¨æˆ·æƒé™ç®¡ç†ã€æ“ä½œç¡®è®¤æœºåˆ¶ã€æ“ä½œå®¡è®¡æ—¥å¿—ã€ç´§æ€¥æ§åˆ¶åŠŸèƒ½ã€ä¼šè¯ç®¡ç†</p>
                                </div>

                                <!-- ç»Ÿè®¡å¡ç‰‡åŒºåŸŸ -->
                                <div class="stats-section">
                                    <div class="status-cards">
                                        <div class="status-card success">
                                            <div class="status-item">
                                                <div class="status-icon">
                                                    <span style="color: #52c41a">ğŸ‘¥</span>
                                                </div>
                                                <div class="status-info">
                                                    <h3>ç”¨æˆ·æƒé™</h3>
                                                    <div class="status-value" style="color: #52c41a">å·²é…ç½®</div>
                                                    <div class="status-subtitle">3ä¸ªè§’è‰² | æƒé™åˆ†çº§ç®¡ç†</div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="status-card success">
                                            <div class="status-item">
                                                <div class="status-icon">
                                                    <span style="color: #52c41a">ğŸ”</span>
                                                </div>
                                                <div class="status-info">
                                                    <h3>æ“ä½œç¡®è®¤</h3>
                                                    <div class="status-value" style="color: #52c41a">å¯ç”¨</div>
                                                    <div class="status-subtitle">å±é™©æ“ä½œäºŒæ¬¡ç¡®è®¤</div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="status-card info">
                                            <div class="status-item">
                                                <div class="status-icon">
                                                    <span style="color: #1890ff">ğŸ“</span>
                                                </div>
                                                <div class="status-info">
                                                    <h3>å®¡è®¡æ—¥å¿—</h3>
                                                    <div class="status-value" style="color: #1890ff">å®Œæ•´</div>
                                                    <div class="status-subtitle">æ‰€æœ‰æ“ä½œå¯è¿½æº¯</div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="status-card success">
                                            <div class="status-item">
                                                <div class="status-icon">
                                                    <span style="color: #52c41a">ğŸš¨</span>
                                                </div>
                                                <div class="status-info">
                                                    <h3>ç´§æ€¥æ§åˆ¶</h3>
                                                    <div class="status-value" style="color: #52c41a">å°±ç»ª</div>
                                                    <div class="status-subtitle">ä¸€é”®ç´§æ€¥æ–­ç”µåŠŸèƒ½</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- ç”¨æˆ·æƒé™ç®¡ç† -->
                                <div class="function-card">
                                    <div class="card-header">
                                        <h3>ğŸ‘¥ ç”¨æˆ·æƒé™ç®¡ç†</h3>
                                        <button class="btn btn-primary">æ·»åŠ ç”¨æˆ·</button>
                                    </div>
                                    <div class="card-body">
                                        <table class="table">
                                            <thead>
                                                <tr>
                                                    <th>ç”¨æˆ·å</th>
                                                    <th>è§’è‰²</th>
                                                    <th>æƒé™èŒƒå›´</th>
                                                    <th>æœ€åç™»å½•</th>
                                                    <th>çŠ¶æ€</th>
                                                    <th>æ“ä½œ</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>admin</td>
                                                    <td>ç³»ç»Ÿç®¡ç†å‘˜</td>
                                                    <td>å…¨éƒ¨æƒé™</td>
                                                    <td>2025-09-15 12:00:00</td>
                                                    <td><span class="status status-online">åœ¨çº¿</span></td>
                                                    <td>
                                                        <button class="btn" onclick="showModal('userEditModal')">ç¼–è¾‘</button>
                                                        <button class="btn btn-danger" onclick="showNotification('ç”¨æˆ·å·²ç¦ç”¨', 'warning')">ç¦ç”¨</button>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>operator</td>
                                                    <td>è¿ç»´å·¥ç¨‹å¸ˆ</td>
                                                    <td>ç›‘æ§ + åŸºç¡€æ§åˆ¶</td>
                                                    <td>2025-09-15 09:30:00</td>
                                                    <td><span class="status status-offline">ç¦»çº¿</span></td>
                                                    <td>
                                                        <button class="btn" onclick="showModal('userEditModal')">ç¼–è¾‘</button>
                                                        <button class="btn btn-danger" onclick="showNotification('ç”¨æˆ·å·²ç¦ç”¨', 'warning')">ç¦ç”¨</button>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>viewer</td>
                                                    <td>åªè¯»ç”¨æˆ·</td>
                                                    <td>ä»…æŸ¥çœ‹æƒé™</td>
                                                    <td>2025-09-14 16:20:00</td>
                                                    <td><span class="status status-offline">ç¦»çº¿</span></td>
                                                    <td>
                                                        <button class="btn" onclick="showModal('userEditModal')">ç¼–è¾‘</button>
                                                        <button class="btn btn-danger" onclick="showNotification('ç”¨æˆ·å·²ç¦ç”¨', 'warning')">ç¦ç”¨</button>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>

                                <!-- ç´§æ€¥æ§åˆ¶åŠŸèƒ½ -->
                                <div class="function-card">
                                    <div class="card-header">
                                        <h3>ğŸš¨ ç´§æ€¥æ§åˆ¶åŠŸèƒ½</h3>
                                        <div style="color: #ff4d4f; font-size: 12px;">âš ï¸ ä»…åœ¨ç´§æ€¥æƒ…å†µä¸‹ä½¿ç”¨</div>
                                    </div>
                                    <div class="card-body">
                                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                                            <div style="text-align: center; padding: 20px; border: 2px solid #ff4d4f; border-radius: 8px;">
                                                <div style="font-size: 48px; color: #ff4d4f; margin-bottom: 16px;">ğŸš¨</div>
                                                <h3 style="color: #ff4d4f; margin-bottom: 16px;">ç´§æ€¥æ–­ç”µ</h3>
                                                <p style="color: #8c8c8c; margin-bottom: 20px;">ç«‹å³åˆ‡æ–­æ‰€æœ‰æœåŠ¡å™¨ç”µæº</p>
                                                <button class="btn btn-danger" onclick="showModal('emergencyPowerOffModal')">ç´§æ€¥æ–­ç”µ</button>
                                            </div>
                                            <div style="text-align: center; padding: 20px; border: 2px solid #faad14; border-radius: 8px;">
                                                <div style="font-size: 48px; color: #faad14; margin-bottom: 16px;">ğŸ”’</div>
                                                <h3 style="color: #faad14; margin-bottom: 16px;">ç³»ç»Ÿé”å®š</h3>
                                                <p style="color: #8c8c8c; margin-bottom: 20px;">é”å®šæ‰€æœ‰æ§åˆ¶æ“ä½œ</p>
                                                <button class="btn btn-warning" onclick="showModal('systemLockModal')">ç³»ç»Ÿé”å®š</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- æ“ä½œå®¡è®¡æ—¥å¿— -->
                                <div class="function-card">
                                    <div class="card-header">
                                        <h3>ğŸ“ æ“ä½œå®¡è®¡æ—¥å¿—</h3>
                                        <button class="btn" onclick="showModal('exportDataModal')">å¯¼å‡ºæ—¥å¿—</button>
                                    </div>
                                    <div class="card-body">
                                        <table class="table">
                                            <thead>
                                                <tr>
                                                    <th>æ—¶é—´</th>
                                                    <th>ç”¨æˆ·</th>
                                                    <th>æ“ä½œç±»å‹</th>
                                                    <th>æ“ä½œå†…å®¹</th>
                                                    <th>æ“ä½œç»“æœ</th>
                                                    <th>IPåœ°å€</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>2025-09-15 12:00:00</td>
                                                    <td>admin</td>
                                                    <td>ç³»ç»Ÿé…ç½®</td>
                                                    <td>ä¿®æ”¹æ¸©åº¦å‘Šè­¦é˜ˆå€¼</td>
                                                    <td><span class="status status-online">æˆåŠŸ</span></td>
                                                    <td>192.168.110.100</td>
                                                </tr>
                                                <tr>
                                                    <td>2025-09-15 11:30:00</td>
                                                    <td>operator</td>
                                                    <td>è®¾å¤‡æ§åˆ¶</td>
                                                    <td>é‡å¯å¤‡ç”¨æœåŠ¡å™¨</td>
                                                    <td><span class="status status-online">æˆåŠŸ</span></td>
                                                    <td>192.168.110.101</td>
                                                </tr>
                                                <tr>
                                                    <td>2025-09-15 09:15:00</td>
                                                    <td>admin</td>
                                                    <td>ç”¨æˆ·ç®¡ç†</td>
                                                    <td>åˆ›å»ºæ–°ç”¨æˆ·è´¦æˆ·</td>
                                                    <td><span class="status status-online">æˆåŠŸ</span></td>
                                                    <td>192.168.110.100</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>


                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- æ¨¡æ€æ¡† -->
    <!-- é€€å‡ºç™»å½•ç¡®è®¤ -->
    <div id="logoutModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">ç¡®è®¤é€€å‡º</h3>
                <button class="modal-close" onclick="hideModal('logoutModal')">&times;</button>
            </div>
            <div class="modal-body">
                <p>ç¡®å®šè¦é€€å‡ºç™»å½•å—ï¼Ÿ</p>
            </div>
            <div class="modal-footer">
                <button class="btn" onclick="hideModal('logoutModal')">å–æ¶ˆ</button>
                <button class="btn btn-primary" onclick="logout()">ç¡®è®¤é€€å‡º</button>
            </div>
        </div>
    </div>

    <!-- æ¸©åº¦å‘Šè­¦è®¾ç½® -->
    <div id="temperatureAlarmModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">æ¸©åº¦å‘Šè­¦é˜ˆå€¼è®¾ç½®</h3>
                <button class="modal-close" onclick="hideModal('temperatureAlarmModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">é€‰æ‹©æ¢å¤´</label>
                    <select class="form-input">
                        <option>æ¢å¤´1 (å®¤æ¸©)</option>
                        <option>æ¢å¤´2 (è¿›é£å£)</option>
                        <option>æ¢å¤´3 (å‡ºé£å£)</option>
                        <option>æ¢å¤´4 (ç½‘ç»œè®¾å¤‡)</option>
                    </select>
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
                    <div class="form-group">
                        <label class="form-label">æ­£å¸¸èŒƒå›´æœ€ä½æ¸©åº¦ (Â°C)</label>
                        <input type="number" class="form-input" value="18" placeholder="æœ€ä½æ¸©åº¦">
                    </div>
                    <div class="form-group">
                        <label class="form-label">æ­£å¸¸èŒƒå›´æœ€é«˜æ¸©åº¦ (Â°C)</label>
                        <input type="number" class="form-input" value="25" placeholder="æœ€é«˜æ¸©åº¦">
                    </div>
                    <div class="form-group">
                        <label class="form-label">è­¦å‘Šé˜ˆå€¼ (Â°C)</label>
                        <input type="number" class="form-input" value="30" placeholder="è­¦å‘Šæ¸©åº¦">
                    </div>
                    <div class="form-group">
                        <label class="form-label">å±é™©é˜ˆå€¼ (Â°C)</label>
                        <input type="number" class="form-input" value="35" placeholder="å±é™©æ¸©åº¦">
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn" onclick="hideModal('temperatureAlarmModal')">å–æ¶ˆ</button>
                <button class="btn btn-primary" onclick="saveTemperatureAlarm()">ä¿å­˜è®¾ç½®</button>
            </div>
        </div>
    </div>

    <!-- ä¼ æ„Ÿå™¨æ ¡å‡† -->
    <div id="sensorCalibrationModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">ä¼ æ„Ÿå™¨æ ¡å‡†</h3>
                <button class="modal-close" onclick="hideModal('sensorCalibrationModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">æ ¡å‡†ç±»å‹</label>
                    <select class="form-input">
                        <option>é›¶ç‚¹æ ¡å‡†</option>
                        <option>æ»¡é‡ç¨‹æ ¡å‡†</option>
                        <option>ä¸¤ç‚¹æ ¡å‡†</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">å‚è€ƒæ¸©åº¦ (Â°C)</label>
                    <input type="number" class="form-input" placeholder="è¾“å…¥æ ‡å‡†æ¸©åº¦å€¼">
                </div>
                <div class="form-group">
                    <label class="form-label">å½“å‰è¯»æ•° (Â°C)</label>
                    <input type="number" class="form-input" value="23.5" readonly>
                </div>
                <div style="background: #f0f0f0; padding: 16px; border-radius: 4px; margin: 16px 0;">
                    <p style="margin: 0; color: #8c8c8c; font-size: 14px;">
                        âš ï¸ æ ¡å‡†æ“ä½œå°†å½±å“æ¸©åº¦è¯»æ•°çš„å‡†ç¡®æ€§ï¼Œè¯·ç¡®ä¿å‚è€ƒæ¸©åº¦å€¼å‡†ç¡®æ— è¯¯ã€‚
                    </p>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn" onclick="hideModal('sensorCalibrationModal')">å–æ¶ˆ</button>
                <button class="btn btn-primary" onclick="calibrateSensor()">å¼€å§‹æ ¡å‡†</button>
            </div>
        </div>
    </div>

    <!-- æœåŠ¡å™¨æ§åˆ¶ -->
    <div id="serverControlModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">æœåŠ¡å™¨æ§åˆ¶æ“ä½œ</h3>
                <button class="modal-close" onclick="hideModal('serverControlModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">é€‰æ‹©æœåŠ¡å™¨</label>
                    <select class="form-input">
                        <option>ä¸»æœåŠ¡å™¨ (192.168.110.100)</option>
                        <option>å¤‡ç”¨æœåŠ¡å™¨ (192.168.110.101)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">æ§åˆ¶æ“ä½œ</label>
                    <select class="form-input" id="serverOperation">
                        <option>é‡å¯æœåŠ¡å™¨</option>
                        <option>å®‰å…¨å…³æœº</option>
                        <option>å¼ºåˆ¶å…³æœº</option>
                    </select>
                </div>
                <div style="background: #fff2f0; border: 1px solid #ffccc7; padding: 16px; border-radius: 4px; margin: 16px 0;">
                    <p style="margin: 0; color: #ff4d4f; font-size: 14px;">
                        âš ï¸ <strong>å±é™©æ“ä½œè­¦å‘Š</strong><br>
                        æ­¤æ“ä½œå°†å½±å“æœåŠ¡å™¨è¿è¡ŒçŠ¶æ€ï¼Œå¯èƒ½å¯¼è‡´æœåŠ¡ä¸­æ–­ã€‚è¯·ç¡®è®¤æ“ä½œæ— è¯¯åç»§ç»­ã€‚
                    </p>
                </div>
                <div class="form-group">
                    <label class="form-label">å®‰å…¨ç¡®è®¤ (è¯·è¾“å…¥ "CONFIRM")</label>
                    <input type="text" class="form-input" id="serverConfirmText" placeholder="è¾“å…¥ CONFIRM ç¡®è®¤æ“ä½œ">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn" onclick="hideModal('serverControlModal')">å–æ¶ˆ</button>
                <button class="btn btn-danger" onclick="executeServerControl()">æ‰§è¡Œæ“ä½œ</button>
            </div>
        </div>
    </div>

    <!-- æ–­è·¯å™¨æ§åˆ¶ -->
    <div id="breakerControlModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="breakerControlTitle">æ–­è·¯å™¨æ§åˆ¶æ“ä½œ</h3>
                <button class="modal-close" onclick="hideModal('breakerControlModal')">&times;</button>
            </div>
            <div class="modal-body">
                <!-- æ–­è·¯å™¨ä¿¡æ¯æ˜¾ç¤º -->
                <div class="form-group">
                    <label class="form-label">ç›®æ ‡æ–­è·¯å™¨</label>
                    <div style="background: #f5f5f5; padding: 12px; border-radius: 4px; border: 1px solid #d9d9d9;">
                        <div id="breakerInfo" style="font-weight: bold; color: #1890ff;">æ–­è·¯å™¨#1 (ç«¯å£503)</div>
                        <div id="serverInfo" style="color: #666; font-size: 14px; margin-top: 4px;">ç»‘å®šæœåŠ¡å™¨: ä¸»æœåŠ¡å™¨</div>
                    </div>
                </div>

                <!-- æ“ä½œæµç¨‹æ­¥éª¤ -->
                <div class="form-group">
                    <label class="form-label">æ“ä½œæµç¨‹</label>
                    <div id="operationSteps" style="background: #f9f9f9; padding: 16px; border-radius: 4px; border: 1px solid #e8e8e8;">
                        <div class="step-item" id="step1">
                            <span class="step-number">1</span>
                            <span class="step-text">è¿œç¨‹å…³é—­æœåŠ¡å™¨</span>
                            <span class="step-status" id="step1Status">ç­‰å¾…ä¸­</span>
                        </div>
                        <div class="step-item" id="step2">
                            <span class="step-number">2</span>
                            <span class="step-text">ç­‰å¾…æœåŠ¡å™¨å®Œå…¨å…³æœº</span>
                            <span class="step-status" id="step2Status">ç­‰å¾…ä¸­</span>
                        </div>
                        <div class="step-item" id="step3">
                            <span class="step-number">3</span>
                            <span class="step-text">æ–­å¼€æ–­è·¯å™¨ç”µæº</span>
                            <span class="step-status" id="step3Status">ç­‰å¾…ä¸­</span>
                        </div>
                    </div>
                </div>

                <!-- å…³æœºè¿›åº¦æ¡ -->
                <div class="form-group" id="shutdownProgressGroup" style="display: none;">
                    <label class="form-label">æœåŠ¡å™¨å…³æœºè¿›åº¦</label>
                    <div class="progress-container">
                        <div class="progress-bar">
                            <div class="progress-fill" id="shutdownProgress"></div>
                        </div>
                        <div class="progress-text" id="shutdownProgressText">å‡†å¤‡å…³æœº...</div>
                    </div>
                </div>

                <!-- å±é™©è­¦å‘Š -->
                <div style="background: #fff2f0; border: 1px solid #ffccc7; padding: 16px; border-radius: 4px; margin: 16px 0;">
                    <p style="margin: 0; color: #ff4d4f; font-size: 14px;">
                        ğŸš¨ <strong>æåº¦å±é™©æ“ä½œè­¦å‘Š</strong><br>
                        æ–­è·¯å™¨æ“ä½œå°†ç›´æ¥å½±å“æœåŠ¡å™¨ç”µæºä¾›åº”ï¼è¯·ç¡®ä¿ï¼š<br>
                        1. æœåŠ¡å™¨å·²å®‰å…¨å…³æœº<br>
                        2. æ•°æ®å·²å®Œæˆå¤‡ä»½<br>
                        3. å·²é€šçŸ¥ç›¸å…³äººå‘˜
                    </p>
                </div>

                <!-- å®‰å…¨ç¡®è®¤ -->
                <div class="form-group">
                    <label class="form-label">å®‰å…¨ç¡®è®¤ (è¯·è¾“å…¥ "POWER OFF")</label>
                    <input type="text" class="form-input" id="safetyConfirmInput" placeholder="è¾“å…¥ POWER OFF ç¡®è®¤æ–­ç”µæ“ä½œ">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn" onclick="hideModal('breakerControlModal')">å–æ¶ˆ</button>
                <button class="btn btn-danger" id="executeBreakerBtn" onclick="startBreakerControlProcess()">å¼€å§‹æ“ä½œ</button>
            </div>
        </div>
    </div>

    <!-- æ–­è·¯å™¨ç»‘å®šè®¾ç½® -->
    <div id="bindingModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="bindingModalTitle">æ–­è·¯å™¨ç»‘å®šè®¾ç½®</h3>
                <button class="modal-close" onclick="hideModal('bindingModal')">&times;</button>
            </div>
            <div class="modal-body">
                <!-- æ–­è·¯å™¨ä¿¡æ¯ -->
                <div class="form-group">
                    <label class="form-label">æ–­è·¯å™¨ä¿¡æ¯</label>
                    <div style="background: #f5f5f5; padding: 12px; border-radius: 4px; border: 1px solid #d9d9d9;">
                        <div id="bindingBreakerInfo" style="font-weight: bold; color: #1890ff;">æ–­è·¯å™¨#1 (ç«¯å£503)</div>
                        <div style="color: #666; font-size: 12px; margin-top: 4px;">ç”µæ°”å‚æ•°ç›‘æ§ã€è®¾å¤‡çŠ¶æ€ç›‘æ§ã€æ‰‹åŠ¨æ§åˆ¶æ“ä½œ</div>
                    </div>
                </div>

                <!-- å½“å‰ç»‘å®šçŠ¶æ€ -->
                <div class="form-group">
                    <label class="form-label">å½“å‰ç»‘å®šçŠ¶æ€</label>
                    <div style="background: #f9f9f9; padding: 12px; border-radius: 4px; border: 1px solid #e8e8e8;">
                        <div style="display: flex; align-items: center; gap: 8px;">
                            <span style="color: #52c41a;">â—</span>
                            <span id="currentBindingStatus">å·²ç»‘å®š: ä¸»æœåŠ¡å™¨</span>
                        </div>
                        <div id="bindingTime" style="color: #666; font-size: 12px; margin-top: 4px;">ç»‘å®šæ—¶é—´: 2025-09-15 08:00:00</div>
                    </div>
                </div>

                <!-- æœåŠ¡å™¨é€‰æ‹© -->
                <div class="form-group">
                    <label class="form-label">é€‰æ‹©ç»‘å®šæœåŠ¡å™¨</label>
                    <select class="form-input" id="serverSelect">
                        <option value="">-- è¯·é€‰æ‹©æœåŠ¡å™¨ --</option>
                        <option value="ä¸»æœåŠ¡å™¨">ä¸»æœåŠ¡å™¨ (192.168.110.101)</option>
                        <option value="å¤‡ç”¨æœåŠ¡å™¨">å¤‡ç”¨æœåŠ¡å™¨ (192.168.110.102)</option>
                        <option value="æ•°æ®åº“æœåŠ¡å™¨">æ•°æ®åº“æœåŠ¡å™¨ (192.168.110.103)</option>
                        <option value="WebæœåŠ¡å™¨">WebæœåŠ¡å™¨ (192.168.110.104)</option>
                        <option value="å­˜å‚¨æœåŠ¡å™¨">å­˜å‚¨æœåŠ¡å™¨ (192.168.110.105)</option>
                        <option value="ç›‘æ§æœåŠ¡å™¨">ç›‘æ§æœåŠ¡å™¨ (192.168.110.106)</option>
                    </select>
                </div>

                <!-- ç»‘å®šè¯´æ˜ -->
                <div style="background: #e6f7ff; border: 1px solid #91d5ff; padding: 12px; border-radius: 4px; margin: 16px 0;">
                    <div style="color: #1890ff; font-size: 14px; margin-bottom: 8px;">
                        <strong>ğŸ“‹ ç»‘å®šè¯´æ˜</strong>
                    </div>
                    <ul style="margin: 0; padding-left: 16px; color: #666; font-size: 13px;">
                        <li>ç»‘å®šåï¼Œæ–­è·¯å™¨æ“ä½œå°†è‡ªåŠ¨å…³è”åˆ°å¯¹åº”æœåŠ¡å™¨</li>
                        <li>åˆ†é—¸æ“ä½œä¼šå…ˆè¿œç¨‹å…³é—­ç»‘å®šçš„æœåŠ¡å™¨</li>
                        <li>æ¯ä¸ªæ–­è·¯å™¨åªèƒ½ç»‘å®šä¸€å°æœåŠ¡å™¨</li>
                        <li>ä¿®æ”¹ç»‘å®šä¼šç«‹å³ç”Ÿæ•ˆ</li>
                    </ul>
                </div>

                <!-- ç»‘å®šå†å² -->
                <div class="form-group">
                    <label class="form-label">ç»‘å®šå†å²</label>
                    <div style="max-height: 120px; overflow-y: auto; border: 1px solid #e8e8e8; border-radius: 4px;">
                        <table style="width: 100%; font-size: 12px;">
                            <thead style="background: #fafafa;">
                                <tr>
                                    <th style="padding: 8px; text-align: left;">æ—¶é—´</th>
                                    <th style="padding: 8px; text-align: left;">æ“ä½œ</th>
                                    <th style="padding: 8px; text-align: left;">æœåŠ¡å™¨</th>
                                </tr>
                            </thead>
                            <tbody id="bindingHistory">
                                <tr>
                                    <td style="padding: 6px 8px;">2025-09-15 08:00:00</td>
                                    <td style="padding: 6px 8px; color: #52c41a;">ç»‘å®š</td>
                                    <td style="padding: 6px 8px;">ä¸»æœåŠ¡å™¨</td>
                                </tr>
                                <tr>
                                    <td style="padding: 6px 8px;">2025-09-14 16:30:00</td>
                                    <td style="padding: 6px 8px; color: #faad14;">ä¿®æ”¹</td>
                                    <td style="padding: 6px 8px;">å¤‡ç”¨æœåŠ¡å™¨ â†’ ä¸»æœåŠ¡å™¨</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn" onclick="hideModal('bindingModal')">å–æ¶ˆ</button>
                <button class="btn btn-warning" onclick="unbindServer()">è§£é™¤ç»‘å®š</button>
                <button class="btn btn-primary" onclick="saveBinding()">ä¿å­˜ç»‘å®š</button>
            </div>
        </div>
    </div>

    <!-- å®šæ—¶ä»»åŠ¡ç®¡ç† -->
    <div id="scheduledTasksModal" class="modal">
        <div class="modal-content" style="max-width: 900px;">
            <div class="modal-header">
                <h3 class="modal-title">å®šæ—¶ä»»åŠ¡ç®¡ç†</h3>
                <button class="modal-close" onclick="hideModal('scheduledTasksModal')">&times;</button>
            </div>
            <div class="modal-body">
                <!-- ä»»åŠ¡ç»Ÿè®¡ -->
                <div style="display: flex; gap: 16px; margin-bottom: 20px;">
                    <div style="flex: 1; background: #f0f9ff; padding: 16px; border-radius: 8px; border: 1px solid #bae7ff;">
                        <div style="color: #1890ff; font-size: 24px; font-weight: bold;" id="totalTasks">3</div>
                        <div style="color: #666; font-size: 14px;">æ€»ä»»åŠ¡æ•°</div>
                    </div>
                    <div style="flex: 1; background: #f6ffed; padding: 16px; border-radius: 8px; border: 1px solid #b7eb8f;">
                        <div style="color: #52c41a; font-size: 24px; font-weight: bold;" id="activeTasks">2</div>
                        <div style="color: #666; font-size: 14px;">å¯ç”¨ä»»åŠ¡</div>
                    </div>
                    <div style="flex: 1; background: #fff2f0; padding: 16px; border-radius: 8px; border: 1px solid #ffccc7;">
                        <div style="color: #ff4d4f; font-size: 24px; font-weight: bold;" id="inactiveTasks">1</div>
                        <div style="color: #666; font-size: 14px;">ç¦ç”¨ä»»åŠ¡</div>
                    </div>
                </div>

                <!-- æ“ä½œæŒ‰é’® -->
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                    <h4 style="margin: 0;">å®šæ—¶ä»»åŠ¡åˆ—è¡¨</h4>
                    <button class="btn btn-primary" onclick="showAddTaskModal()">
                        <span style="margin-right: 4px;">+</span>æ·»åŠ ä»»åŠ¡
                    </button>
                </div>

                <!-- ä»»åŠ¡åˆ—è¡¨ -->
                <div style="border: 1px solid #e8e8e8; border-radius: 4px;">
                    <table style="width: 100%; border-collapse: collapse;">
                        <thead style="background: #fafafa;">
                            <tr>
                                <th style="padding: 12px; text-align: left; border-bottom: 1px solid #e8e8e8;">ä»»åŠ¡åç§°</th>
                                <th style="padding: 12px; text-align: left; border-bottom: 1px solid #e8e8e8;">æ‰§è¡Œæ—¶é—´</th>
                                <th style="padding: 12px; text-align: left; border-bottom: 1px solid #e8e8e8;">æ“ä½œç±»å‹</th>
                                <th style="padding: 12px; text-align: left; border-bottom: 1px solid #e8e8e8;">ç›®æ ‡è®¾å¤‡</th>
                                <th style="padding: 12px; text-align: left; border-bottom: 1px solid #e8e8e8;">çŠ¶æ€</th>
                                <th style="padding: 12px; text-align: left; border-bottom: 1px solid #e8e8e8;">æ“ä½œ</th>
                            </tr>
                        </thead>
                        <tbody id="taskListBody">
                            <tr>
                                <td style="padding: 12px; border-bottom: 1px solid #f0f0f0;">
                                    <div style="font-weight: bold;">å¤œé—´è‡ªåŠ¨æ–­ç”µ</div>
                                    <div style="color: #666; font-size: 12px;">æ¯æ—¥23:00æ‰§è¡Œ</div>
                                </td>
                                <td style="padding: 12px; border-bottom: 1px solid #f0f0f0;">23:00</td>
                                <td style="padding: 12px; border-bottom: 1px solid #f0f0f0;">
                                    <span style="background: #fff2f0; color: #ff4d4f; padding: 2px 8px; border-radius: 12px; font-size: 12px;">åˆ†é—¸</span>
                                </td>
                                <td style="padding: 12px; border-bottom: 1px solid #f0f0f0;">æ–­è·¯å™¨#1</td>
                                <td style="padding: 12px; border-bottom: 1px solid #f0f0f0;">
                                    <label class="switch">
                                        <input type="checkbox" checked onchange="toggleTask(1, this.checked)">
                                        <span class="slider"></span>
                                    </label>
                                </td>
                                <td style="padding: 12px; border-bottom: 1px solid #f0f0f0;">
                                    <button class="btn" style="padding: 4px 8px; font-size: 12px; margin-right: 4px;" onclick="editTask(1)">ç¼–è¾‘</button>
                                    <button class="btn btn-danger" style="padding: 4px 8px; font-size: 12px;" onclick="deleteTask(1)">åˆ é™¤</button>
                                </td>
                            </tr>
                            <tr>
                                <td style="padding: 12px; border-bottom: 1px solid #f0f0f0;">
                                    <div style="font-weight: bold;">æ—©æ™¨è‡ªåŠ¨é€šç”µ</div>
                                    <div style="color: #666; font-size: 12px;">æ¯æ—¥07:00æ‰§è¡Œ</div>
                                </td>
                                <td style="padding: 12px; border-bottom: 1px solid #f0f0f0;">07:00</td>
                                <td style="padding: 12px; border-bottom: 1px solid #f0f0f0;">
                                    <span style="background: #f6ffed; color: #52c41a; padding: 2px 8px; border-radius: 12px; font-size: 12px;">åˆé—¸</span>
                                </td>
                                <td style="padding: 12px; border-bottom: 1px solid #f0f0f0;">æ–­è·¯å™¨#1</td>
                                <td style="padding: 12px; border-bottom: 1px solid #f0f0f0;">
                                    <label class="switch">
                                        <input type="checkbox" checked onchange="toggleTask(2, this.checked)">
                                        <span class="slider"></span>
                                    </label>
                                </td>
                                <td style="padding: 12px; border-bottom: 1px solid #f0f0f0;">
                                    <button class="btn" style="padding: 4px 8px; font-size: 12px; margin-right: 4px;" onclick="editTask(2)">ç¼–è¾‘</button>
                                    <button class="btn btn-danger" style="padding: 4px 8px; font-size: 12px;" onclick="deleteTask(2)">åˆ é™¤</button>
                                </td>
                            </tr>
                            <tr>
                                <td style="padding: 12px; border-bottom: 1px solid #f0f0f0;">
                                    <div style="font-weight: bold;">å‘¨æœ«ç»´æŠ¤æ–­ç”µ</div>
                                    <div style="color: #666; font-size: 12px;">æ¯å‘¨æ—¥02:00æ‰§è¡Œ</div>
                                </td>
                                <td style="padding: 12px; border-bottom: 1px solid #f0f0f0;">å‘¨æ—¥ 02:00</td>
                                <td style="padding: 12px; border-bottom: 1px solid #f0f0f0;">
                                    <span style="background: #fff2f0; color: #ff4d4f; padding: 2px 8px; border-radius: 12px; font-size: 12px;">åˆ†é—¸</span>
                                </td>
                                <td style="padding: 12px; border-bottom: 1px solid #f0f0f0;">æ–­è·¯å™¨#2</td>
                                <td style="padding: 12px; border-bottom: 1px solid #f0f0f0;">
                                    <label class="switch">
                                        <input type="checkbox" onchange="toggleTask(3, this.checked)">
                                        <span class="slider"></span>
                                    </label>
                                </td>
                                <td style="padding: 12px; border-bottom: 1px solid #f0f0f0;">
                                    <button class="btn" style="padding: 4px 8px; font-size: 12px; margin-right: 4px;" onclick="editTask(3)">ç¼–è¾‘</button>
                                    <button class="btn btn-danger" style="padding: 4px 8px; font-size: 12px;" onclick="deleteTask(3)">åˆ é™¤</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn" onclick="hideModal('scheduledTasksModal')">å…³é—­</button>
            </div>
        </div>
    </div>

    <!-- æ·»åŠ /ç¼–è¾‘å®šæ—¶ä»»åŠ¡ -->
    <div id="addTaskModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="taskModalTitle">æ·»åŠ å®šæ—¶ä»»åŠ¡</h3>
                <button class="modal-close" onclick="hideModal('addTaskModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">ä»»åŠ¡åç§°</label>
                    <input type="text" class="form-input" id="taskName" placeholder="è¯·è¾“å…¥ä»»åŠ¡åç§°">
                </div>

                <div class="form-group">
                    <label class="form-label">æ‰§è¡Œæ—¶é—´</label>
                    <div style="display: flex; gap: 12px; align-items: center;">
                        <select class="form-input" id="taskType" style="flex: 1;" onchange="updateTimeOptions()">
                            <option value="daily">æ¯æ—¥æ‰§è¡Œ</option>
                            <option value="weekly">æ¯å‘¨æ‰§è¡Œ</option>
                            <option value="monthly">æ¯æœˆæ‰§è¡Œ</option>
                        </select>
                        <div id="timeSelector" style="display: flex; gap: 8px; align-items: center;">
                            <input type="time" class="form-input" id="taskTime" style="width: 120px;">
                        </div>
                    </div>
                </div>

                <div class="form-group" id="weekDaySelector" style="display: none;">
                    <label class="form-label">æ˜ŸæœŸ</label>
                    <select class="form-input" id="weekDay">
                        <option value="1">æ˜ŸæœŸä¸€</option>
                        <option value="2">æ˜ŸæœŸäºŒ</option>
                        <option value="3">æ˜ŸæœŸä¸‰</option>
                        <option value="4">æ˜ŸæœŸå››</option>
                        <option value="5">æ˜ŸæœŸäº”</option>
                        <option value="6">æ˜ŸæœŸå…­</option>
                        <option value="0">æ˜ŸæœŸæ—¥</option>
                    </select>
                </div>

                <div class="form-group" id="monthDaySelector" style="display: none;">
                    <label class="form-label">æ—¥æœŸ</label>
                    <select class="form-input" id="monthDay">
                        <!-- 1-31æ—¥é€‰é¡¹ -->
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">æ“ä½œç±»å‹</label>
                    <select class="form-input" id="taskAction">
                        <option value="close">åˆ†é—¸ (æ–­ç”µ)</option>
                        <option value="open">åˆé—¸ (é€šç”µ)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">ç›®æ ‡æ–­è·¯å™¨</label>
                    <select class="form-input" id="targetBreaker">
                        <option value="breaker1">æ–­è·¯å™¨#1 (ç«¯å£503)</option>
                        <option value="breaker2">æ–­è·¯å™¨#2 (ç«¯å£505)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">ä»»åŠ¡æè¿°</label>
                    <textarea class="form-input" id="taskDescription" rows="3" placeholder="è¯·è¾“å…¥ä»»åŠ¡æè¿°ï¼ˆå¯é€‰ï¼‰"></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn" onclick="hideModal('addTaskModal')">å–æ¶ˆ</button>
                <button class="btn btn-primary" onclick="saveTask()">ä¿å­˜ä»»åŠ¡</button>
            </div>
        </div>
    </div>

    <!-- æ–°å¢AIæ™ºèƒ½ç­–ç•¥ -->
    <div id="addStrategyModal" class="modal">
        <div class="modal-content" style="max-width: 800px;">
            <div class="modal-header">
                <h3 class="modal-title" id="strategyModalTitle">æ–°å¢AIæ™ºèƒ½ç­–ç•¥</h3>
                <button class="modal-close" onclick="hideModal('addStrategyModal')">&times;</button>
            </div>
            <div class="modal-body">
                <!-- åŸºæœ¬ä¿¡æ¯ -->
                <div class="form-group">
                    <label class="form-label">ç­–ç•¥åç§°</label>
                    <input type="text" class="form-input" id="strategyName" placeholder="è¯·è¾“å…¥ç­–ç•¥åç§°ï¼Œå¦‚ï¼šé«˜æ¸©ä¿æŠ¤ç­–ç•¥">
                </div>

                <div class="form-group">
                    <label class="form-label">ç­–ç•¥ç±»å‹</label>
                    <select class="form-input" id="strategyType" onchange="updateStrategyOptions()">
                        <option value="temperature">æ¸©åº¦æ§åˆ¶</option>
                        <option value="humidity">æ¹¿åº¦æ§åˆ¶</option>
                        <option value="power">åŠŸè€—æ§åˆ¶</option>
                        <option value="time">æ—¶é—´æ§åˆ¶</option>
                        <option value="energy">èŠ‚èƒ½ä¼˜åŒ–</option>
                        <option value="safety">å®‰å…¨ä¿æŠ¤</option>
                    </select>
                </div>

                <!-- è§¦å‘æ¡ä»¶ -->
                <div class="form-group">
                    <label class="form-label">è§¦å‘æ¡ä»¶</label>
                    <div style="border: 1px solid #d9d9d9; border-radius: 4px; padding: 16px; background: #fafafa;">
                        <div id="conditionBuilder">
                            <div class="condition-row" style="display: flex; gap: 12px; align-items: center; margin-bottom: 12px;">
                                <select class="form-input" id="conditionParam" style="flex: 1;" onchange="updateConditionOptions()">
                                    <option value="temperature">æ¸©åº¦</option>
                                    <option value="humidity">æ¹¿åº¦</option>
                                    <option value="power">åŠŸè€—</option>
                                    <option value="cpu">CPUä½¿ç”¨ç‡</option>
                                    <option value="time">æ—¶é—´</option>
                                </select>
                                <select class="form-input" id="conditionOperator" style="width: 100px;">
                                    <option value=">">&gt;</option>
                                    <option value="<">&lt;</option>
                                    <option value=">=">&gt;=</option>
                                    <option value="<=">&lt;=</option>
                                    <option value="==">=</option>
                                </select>
                                <input type="text" class="form-input" id="conditionValue" placeholder="é˜ˆå€¼" style="width: 120px;">
                                <span id="conditionUnit" style="color: #666; min-width: 30px;">Â°C</span>
                            </div>
                            <div style="font-size: 12px; color: #666;">
                                ç¤ºä¾‹ï¼šå‡ºé£å£æ¸©åº¦ > 60Â°C æˆ– CPUä½¿ç”¨ç‡ < 20%
                            </div>
                        </div>
                    </div>
                </div>

                <!-- æ‰§è¡ŒåŠ¨ä½œ -->
                <div class="form-group">
                    <label class="form-label">æ‰§è¡ŒåŠ¨ä½œ</label>
                    <div style="border: 1px solid #d9d9d9; border-radius: 4px; padding: 16px; background: #fafafa;">
                        <div class="action-builder">
                            <div style="margin-bottom: 12px;">
                                <label style="display: flex; align-items: center; margin-bottom: 8px;">
                                    <input type="checkbox" id="actionShutdown" style="margin-right: 8px;">
                                    <span>è¿œç¨‹å…³æœºæœåŠ¡å™¨</span>
                                </label>
                                <div id="shutdownOptions" style="margin-left: 24px; display: none;">
                                    <select class="form-input" style="width: 200px;">
                                        <option value="all">æ‰€æœ‰æœåŠ¡å™¨</option>
                                        <option value="main">ä»…ä¸»æœåŠ¡å™¨</option>
                                        <option value="backup">ä»…å¤‡ç”¨æœåŠ¡å™¨</option>
                                    </select>
                                </div>
                            </div>

                            <div style="margin-bottom: 12px;">
                                <label style="display: flex; align-items: center; margin-bottom: 8px;">
                                    <input type="checkbox" id="actionBreaker" style="margin-right: 8px;">
                                    <span>æ–­è·¯å™¨æ“ä½œ</span>
                                </label>
                                <div id="breakerOptions" style="margin-left: 24px; display: none;">
                                    <div style="display: flex; gap: 12px; align-items: center;">
                                        <select class="form-input" id="breakerTarget" style="width: 150px;">
                                            <option value="breaker1">æ–­è·¯å™¨#1</option>
                                            <option value="breaker2">æ–­è·¯å™¨#2</option>
                                            <option value="all">æ‰€æœ‰æ–­è·¯å™¨</option>
                                        </select>
                                        <select class="form-input" id="breakerAction" style="width: 100px;">
                                            <option value="open">åˆé—¸</option>
                                            <option value="close">åˆ†é—¸</option>
                                        </select>
                                        <span style="color: #666;">å»¶è¿Ÿ</span>
                                        <input type="number" class="form-input" id="breakerDelay" value="30" style="width: 80px;">
                                        <span style="color: #666;">ç§’</span>
                                    </div>
                                </div>
                            </div>

                            <div style="margin-bottom: 12px;">
                                <label style="display: flex; align-items: center; margin-bottom: 8px;">
                                    <input type="checkbox" id="actionNotify" style="margin-right: 8px;">
                                    <span>å‘é€é€šçŸ¥</span>
                                </label>
                                <div id="notifyOptions" style="margin-left: 24px; display: none;">
                                    <div style="display: flex; gap: 8px;">
                                        <label><input type="checkbox" checked> ç³»ç»Ÿé€šçŸ¥</label>
                                        <label><input type="checkbox"> é‚®ä»¶é€šçŸ¥</label>
                                        <label><input type="checkbox"> çŸ­ä¿¡é€šçŸ¥</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ç­–ç•¥æè¿° -->
                <div class="form-group">
                    <label class="form-label">ç­–ç•¥æè¿°</label>
                    <textarea class="form-input" id="strategyDescription" rows="3" placeholder="è¯·æè¿°è¯¥ç­–ç•¥çš„ä½œç”¨å’Œæ³¨æ„äº‹é¡¹"></textarea>
                </div>

                <!-- é«˜çº§è®¾ç½® -->
                <div class="form-group">
                    <label class="form-label">é«˜çº§è®¾ç½®</label>
                    <div style="display: flex; gap: 16px; align-items: center;">
                        <label style="display: flex; align-items: center;">
                            <input type="checkbox" id="strategyEnabled" checked style="margin-right: 8px;">
                            <span>åˆ›å»ºåç«‹å³å¯ç”¨</span>
                        </label>
                        <label style="display: flex; align-items: center;">
                            <input type="checkbox" id="strategyLogging" checked style="margin-right: 8px;">
                            <span>è®°å½•æ‰§è¡Œæ—¥å¿—</span>
                        </label>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn" onclick="hideModal('addStrategyModal')">å–æ¶ˆ</button>
                <button class="btn btn-primary" onclick="saveStrategy()">ä¿å­˜ç­–ç•¥</button>
            </div>
        </div>
    </div>

    <!-- æ–°å¢å‘Šè­¦è§„åˆ™ -->
    <div id="addAlarmRuleModal" class="modal">
        <div class="modal-content" style="max-width: 900px;">
            <div class="modal-header">
                <h3 class="modal-title" id="alarmRuleModalTitle">æ–°å¢å‘Šè­¦è§„åˆ™</h3>
                <button class="modal-close" onclick="hideModal('addAlarmRuleModal')">&times;</button>
            </div>
            <div class="modal-body">
                <!-- åŸºæœ¬ä¿¡æ¯ -->
                <div class="form-group">
                    <label class="form-label">è§„åˆ™åç§°</label>
                    <input type="text" class="form-input" id="alarmRuleName" placeholder="è¯·è¾“å…¥å‘Šè­¦è§„åˆ™åç§°ï¼Œå¦‚ï¼šé«˜æ¸©å‘Šè­¦è§„åˆ™">
                </div>

                <div class="form-group">
                    <label class="form-label">å‘Šè­¦ç±»å‹</label>
                    <select class="form-input" id="alarmType" onchange="updateAlarmConditions()">
                        <option value="temperature">æ¸©åº¦å¼‚å¸¸</option>
                        <option value="humidity">æ¹¿åº¦å¼‚å¸¸</option>
                        <option value="power">åŠŸè€—å¼‚å¸¸</option>
                        <option value="voltage">ç”µå‹å¼‚å¸¸</option>
                        <option value="current">ç”µæµå¼‚å¸¸</option>
                        <option value="device">è®¾å¤‡å¼‚å¸¸</option>
                        <option value="network">ç½‘ç»œå¼‚å¸¸</option>
                        <option value="system">ç³»ç»Ÿå¼‚å¸¸</option>
                    </select>
                </div>

                <!-- è§¦å‘æ¡ä»¶ -->
                <div class="form-group">
                    <label class="form-label">è§¦å‘æ¡ä»¶</label>
                    <div style="border: 1px solid #d9d9d9; border-radius: 4px; padding: 16px; background: #fafafa;">
                        <div class="condition-builder">
                            <div style="display: flex; gap: 12px; align-items: center; margin-bottom: 12px;">
                                <select class="form-input" id="alarmConditionParam" style="flex: 1;" onchange="updateAlarmUnits()">
                                    <option value="temperature">å‡ºé£å£æ¸©åº¦</option>
                                    <option value="ambient_temp">ç¯å¢ƒæ¸©åº¦</option>
                                    <option value="cpu_temp">CPUæ¸©åº¦</option>
                                </select>
                                <select class="form-input" id="alarmConditionOperator" style="width: 100px;">
                                    <option value=">">&gt;</option>
                                    <option value="<">&lt;</option>
                                    <option value=">=">&gt;=</option>
                                    <option value="<=">&lt;=</option>
                                    <option value="==">=</option>
                                    <option value="!=">&ne;</option>
                                </select>
                                <input type="text" class="form-input" id="alarmConditionValue" placeholder="é˜ˆå€¼" style="width: 120px;">
                                <span id="alarmConditionUnit" style="color: #666; min-width: 30px;">Â°C</span>
                            </div>

                            <!-- æŒç»­æ—¶é—´ -->
                            <div style="display: flex; gap: 12px; align-items: center; margin-bottom: 12px;">
                                <span style="color: #666;">æŒç»­æ—¶é—´ï¼š</span>
                                <input type="number" class="form-input" id="alarmDuration" value="5" style="width: 80px;">
                                <span style="color: #666;">åˆ†é’Ÿ</span>
                                <span style="color: #999; font-size: 12px; margin-left: 12px;">ï¼ˆé¿å…ç¬æ—¶æ³¢åŠ¨è§¦å‘è¯¯æŠ¥ï¼‰</span>
                            </div>

                            <div style="font-size: 12px; color: #666;">
                                ç¤ºä¾‹ï¼šå‡ºé£å£æ¸©åº¦ > 50Â°C ä¸”æŒç»­5åˆ†é’Ÿ
                            </div>
                        </div>
                    </div>
                </div>

                <!-- å‘Šè­¦ç­‰çº§ -->
                <div class="form-group">
                    <label class="form-label">å‘Šè­¦ç­‰çº§</label>
                    <div style="display: flex; gap: 16px;">
                        <label style="display: flex; align-items: center;">
                            <input type="radio" name="alarmLevel" value="info" style="margin-right: 8px;">
                            <span style="color: #1890ff;">ğŸ”µ ä¿¡æ¯</span>
                        </label>
                        <label style="display: flex; align-items: center;">
                            <input type="radio" name="alarmLevel" value="warning" checked style="margin-right: 8px;">
                            <span style="color: #faad14;">ğŸŸ¡ è­¦å‘Š</span>
                        </label>
                        <label style="display: flex; align-items: center;">
                            <input type="radio" name="alarmLevel" value="error" style="margin-right: 8px;">
                            <span style="color: #ff4d4f;">ğŸ”´ ä¸¥é‡</span>
                        </label>
                        <label style="display: flex; align-items: center;">
                            <input type="radio" name="alarmLevel" value="critical" style="margin-right: 8px;">
                            <span style="color: #722ed1;">ğŸŸ£ ç´§æ€¥</span>
                        </label>
                    </div>
                </div>

                <!-- é€šçŸ¥æ–¹å¼ -->
                <div class="form-group">
                    <label class="form-label">é€šçŸ¥æ–¹å¼</label>
                    <div style="border: 1px solid #d9d9d9; border-radius: 4px; padding: 16px; background: #fafafa;">
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">
                            <label style="display: flex; align-items: center;">
                                <input type="checkbox" id="notifySystem" checked style="margin-right: 8px;">
                                <span>ğŸ–¥ï¸ ç³»ç»Ÿç•Œé¢é€šçŸ¥</span>
                            </label>
                            <label style="display: flex; align-items: center;">
                                <input type="checkbox" id="notifyEmail" style="margin-right: 8px;">
                                <span>ğŸ“§ é‚®ä»¶é€šçŸ¥</span>
                            </label>
                            <label style="display: flex; align-items: center;">
                                <input type="checkbox" id="notifyDingTalk" style="margin-right: 8px;">
                                <span>ğŸ’¬ é’‰é’‰é€šçŸ¥</span>
                            </label>
                        </div>

                        <!-- é’‰é’‰é…ç½® -->
                        <div id="dingTalkConfig" style="margin-top: 16px; padding: 12px; background: #e6f7ff; border-radius: 4px; display: none;">
                            <h4 style="margin: 0 0 12px 0; color: #1890ff;">é’‰é’‰é€šçŸ¥é…ç½®</h4>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">
                                <div>
                                    <label class="form-label" style="font-size: 12px;">Webhookåœ°å€</label>
                                    <input type="text" class="form-input" id="dingTalkWebhook" placeholder="https://oapi.dingtalk.com/robot/send?access_token=..." style="font-size: 12px;">
                                </div>
                                <div>
                                    <label class="form-label" style="font-size: 12px;">å®‰å…¨å¯†é’¥ï¼ˆå¯é€‰ï¼‰</label>
                                    <input type="text" class="form-input" id="dingTalkSecret" placeholder="SEC..." style="font-size: 12px;">
                                </div>
                            </div>
                            <div style="margin-top: 8px;">
                                <label class="form-label" style="font-size: 12px;">@æé†’äººå‘˜ï¼ˆæ‰‹æœºå·ï¼Œå¤šä¸ªç”¨é€—å·åˆ†éš”ï¼‰</label>
                                <input type="text" class="form-input" id="dingTalkAtMobiles" placeholder="13800138000,13900139000" style="font-size: 12px;">
                            </div>
                            <div style="margin-top: 8px; font-size: 11px; color: #666;">
                                ğŸ’¡ æç¤ºï¼šåœ¨é’‰é’‰ç¾¤ä¸­æ·»åŠ è‡ªå®šä¹‰æœºå™¨äººï¼Œå¤åˆ¶Webhookåœ°å€åˆ°ä¸Šæ–¹è¾“å…¥æ¡†
                            </div>
                        </div>

                        <!-- é‚®ä»¶é…ç½® -->
                        <div id="emailConfig" style="margin-top: 16px; padding: 12px; background: #f6ffed; border-radius: 4px; display: none;">
                            <h4 style="margin: 0 0 12px 0; color: #52c41a;">é‚®ä»¶é€šçŸ¥é…ç½®</h4>
                            <div>
                                <label class="form-label" style="font-size: 12px;">æ”¶ä»¶äººé‚®ç®±ï¼ˆå¤šä¸ªç”¨é€—å·åˆ†éš”ï¼‰</label>
                                <input type="text" class="form-input" id="emailRecipients" placeholder="admin@company.com,ops@company.com" style="font-size: 12px;">
                            </div>
                        </div>


                    </div>
                </div>

                <!-- è§„åˆ™æè¿° -->
                <div class="form-group">
                    <label class="form-label">è§„åˆ™æè¿°</label>
                    <textarea class="form-input" id="alarmRuleDescription" rows="3" placeholder="è¯·æè¿°è¯¥å‘Šè­¦è§„åˆ™çš„ä½œç”¨å’Œæ³¨æ„äº‹é¡¹"></textarea>
                </div>

                <!-- é«˜çº§è®¾ç½® -->
                <div class="form-group">
                    <label class="form-label">é«˜çº§è®¾ç½®</label>
                    <div style="display: flex; gap: 16px; align-items: center; flex-wrap: wrap;">
                        <label style="display: flex; align-items: center;">
                            <input type="checkbox" id="alarmRuleEnabled" checked style="margin-right: 8px;">
                            <span>åˆ›å»ºåç«‹å³å¯ç”¨</span>
                        </label>
                        <label style="display: flex; align-items: center;">
                            <input type="checkbox" id="alarmRuleLogging" checked style="margin-right: 8px;">
                            <span>è®°å½•å‘Šè­¦æ—¥å¿—</span>
                        </label>
                        <label style="display: flex; align-items: center;">
                            <input type="checkbox" id="alarmRuleAutoRecover" style="margin-right: 8px;">
                            <span>æ¡ä»¶æ¢å¤æ—¶è‡ªåŠ¨è§£é™¤å‘Šè­¦</span>
                        </label>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn" onclick="hideModal('addAlarmRuleModal')">å–æ¶ˆ</button>
                <button class="btn btn-primary" onclick="saveAlarmRule()">ä¿å­˜è§„åˆ™</button>
            </div>
        </div>
    </div>

    <!-- ç´§æ€¥æ–­ç”µç¡®è®¤ -->
    <div id="emergencyPowerOffModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" style="color: #ff4d4f;">ğŸš¨ ç´§æ€¥æ–­ç”µç¡®è®¤</h3>
                <button class="modal-close" onclick="hideModal('emergencyPowerOffModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div style="background: #fff2f0; border: 1px solid #ffccc7; padding: 20px; border-radius: 4px; margin-bottom: 20px;">
                    <div style="text-align: center; color: #ff4d4f;">
                        <div style="font-size: 48px; margin-bottom: 16px;">âš ï¸</div>
                        <h3 style="margin-bottom: 16px;">æåº¦å±é™©æ“ä½œè­¦å‘Š</h3>
                        <p style="margin: 0; font-size: 16px; line-height: 1.5;">
                            æ­¤æ“ä½œå°†ç«‹å³åˆ‡æ–­æ‰€æœ‰æœåŠ¡å™¨ç”µæºï¼<br>
                            å¯èƒ½å¯¼è‡´æ•°æ®ä¸¢å¤±å’Œç³»ç»ŸæŸåï¼<br>
                            ä»…åœ¨ç´§æ€¥æƒ…å†µä¸‹ä½¿ç”¨ï¼
                        </p>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">ç´§æ€¥æƒ…å†µæè¿°</label>
                    <textarea class="form-input" rows="3" placeholder="è¯·æè¿°ç´§æ€¥æƒ…å†µ..."></textarea>
                </div>
                <div class="form-group">
                    <label class="form-label">æœ€ç»ˆç¡®è®¤ (è¯·è¾“å…¥ "EMERGENCY POWER OFF")</label>
                    <input type="text" class="form-input" placeholder="è¾“å…¥å®Œæ•´ç¡®è®¤æ–‡æœ¬">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn" onclick="hideModal('emergencyPowerOffModal')">å–æ¶ˆ</button>
                <button class="btn btn-danger" onclick="executeEmergencyPowerOff()">ğŸš¨ ç´§æ€¥æ–­ç”µ</button>
            </div>
        </div>
    </div>

    <!-- ç³»ç»Ÿé”å®šç¡®è®¤ -->
    <div id="systemLockModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" style="color: #faad14;">ğŸ”’ ç³»ç»Ÿé”å®šç¡®è®¤</h3>
                <button class="modal-close" onclick="hideModal('systemLockModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div style="background: #fffbe6; border: 1px solid #ffe58f; padding: 20px; border-radius: 4px; margin-bottom: 20px;">
                    <div style="text-align: center; color: #faad14;">
                        <div style="font-size: 48px; margin-bottom: 16px;">ğŸ”’</div>
                        <h3 style="margin-bottom: 16px;">ç³»ç»Ÿé”å®šè­¦å‘Š</h3>
                        <p style="margin: 0; font-size: 16px; line-height: 1.5;">
                            æ­¤æ“ä½œå°†é”å®šæ‰€æœ‰æ§åˆ¶åŠŸèƒ½ï¼<br>
                            åªæœ‰ç®¡ç†å‘˜å¯ä»¥è§£é”ç³»ç»Ÿï¼<br>
                            è¯·ç¡®è®¤éœ€è¦é”å®šç³»ç»Ÿï¼
                        </p>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">é”å®šåŸå› </label>
                    <select class="form-input">
                        <option>ç³»ç»Ÿç»´æŠ¤</option>
                        <option>å®‰å…¨æ£€æŸ¥</option>
                        <option>ç´§æ€¥æƒ…å†µ</option>
                        <option>å…¶ä»–åŸå› </option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">é¢„è®¡é”å®šæ—¶é—´ (åˆ†é’Ÿ)</label>
                    <input type="number" class="form-input" value="30" placeholder="é”å®šæ—¶é—´">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn" onclick="hideModal('systemLockModal')">å–æ¶ˆ</button>
                <button class="btn btn-warning" onclick="executeSystemLock()">ğŸ”’ é”å®šç³»ç»Ÿ</button>
            </div>
        </div>
    </div>

    <!-- æ•°æ®å¯¼å‡ºå¼¹çª— -->
    <div id="exportDataModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">ğŸ“Š æ•°æ®å¯¼å‡º</h3>
                <button class="modal-close" onclick="hideModal('exportDataModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">å¯¼å‡ºæ ¼å¼</label>
                    <select class="form-input">
                        <option>Excel (.xlsx)</option>
                        <option>CSV (.csv)</option>
                        <option>PDF (.pdf)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">æ—¶é—´èŒƒå›´</label>
                    <select class="form-input">
                        <option>æœ€è¿‘1å°æ—¶</option>
                        <option>æœ€è¿‘24å°æ—¶</option>
                        <option>æœ€è¿‘7å¤©</option>
                        <option>æœ€è¿‘30å¤©</option>
                        <option>è‡ªå®šä¹‰èŒƒå›´</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">åŒ…å«æ•°æ®</label>
                    <div style="display: flex; flex-direction: column; gap: 8px;">
                        <label><input type="checkbox" checked> æ¸©åº¦æ•°æ®</label>
                        <label><input type="checkbox" checked> ç”µæ°”å‚æ•°</label>
                        <label><input type="checkbox"> å‘Šè­¦è®°å½•</label>
                        <label><input type="checkbox"> æ“ä½œæ—¥å¿—</label>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn" onclick="hideModal('exportDataModal')">å–æ¶ˆ</button>
                <button class="btn btn-primary" onclick="exportData()">å¼€å§‹å¯¼å‡º</button>
            </div>
        </div>
    </div>

    <!-- è®¾å¤‡é…ç½®å¼¹çª— -->
    <div id="deviceConfigModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">âš™ï¸ è®¾å¤‡é…ç½®</h3>
                <button class="modal-close" onclick="hideModal('deviceConfigModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">è®¾å¤‡åç§°</label>
                    <input type="text" class="form-input" placeholder="è¾“å…¥è®¾å¤‡åç§°">
                </div>
                <div class="form-group">
                    <label class="form-label">IPåœ°å€</label>
                    <input type="text" class="form-input" placeholder="192.168.110.50">
                </div>
                <div class="form-group">
                    <label class="form-label">ç«¯å£</label>
                    <input type="number" class="form-input" placeholder="502">
                </div>
                <div class="form-group">
                    <label class="form-label">é€šä¿¡åè®®</label>
                    <select class="form-input">
                        <option>Modbus-TCP</option>
                        <option>Modbus-RTU</option>
                        <option>HTTP</option>
                    </select>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn" onclick="hideModal('deviceConfigModal')">å–æ¶ˆ</button>
                <button class="btn btn-primary" onclick="saveDeviceConfig()">ä¿å­˜é…ç½®</button>
            </div>
        </div>
    </div>

    <!-- è®¾å¤‡æµ‹è¯•å¼¹çª— -->
    <div id="deviceTestModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">ğŸ”§ è®¾å¤‡è¿æ¥æµ‹è¯•</h3>
                <button class="modal-close" onclick="hideModal('deviceTestModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div style="text-align: center; padding: 20px;">
                    <div style="font-size: 48px; margin-bottom: 16px;">ğŸ”„</div>
                    <h3>æ­£åœ¨æµ‹è¯•è®¾å¤‡è¿æ¥...</h3>
                    <p style="color: #8c8c8c;">è¯·ç¨å€™ï¼Œæ­£åœ¨æ£€æµ‹è®¾å¤‡é€šä¿¡çŠ¶æ€</p>
                    <div style="margin: 20px 0;">
                        <div style="width: 100%; height: 4px; background: #f0f0f0; border-radius: 2px;">
                            <div style="width: 60%; height: 100%; background: #1890ff; border-radius: 2px; animation: progress 2s infinite;"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn" onclick="hideModal('deviceTestModal')">å…³é—­</button>
            </div>
        </div>
    </div>

    <!-- å‘Šè­¦è¯¦æƒ…å¼¹çª— -->
    <div id="alarmDetailModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">ğŸ”” å‘Šè­¦è¯¦æƒ…</h3>
                <button class="modal-close" onclick="hideModal('alarmDetailModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">å‘Šè­¦æ—¶é—´</label>
                    <input type="text" class="form-input" value="2025-09-14 15:30:00" readonly>
                </div>
                <div class="form-group">
                    <label class="form-label">å‘Šè­¦ç±»å‹</label>
                    <input type="text" class="form-input" value="æ¸©åº¦å¼‚å¸¸" readonly>
                </div>
                <div class="form-group">
                    <label class="form-label">å‘Šè­¦å†…å®¹</label>
                    <textarea class="form-input" rows="3" readonly>æ¢å¤´3æ¸©åº¦è¾¾åˆ°52Â°Cï¼Œè¶…å‡ºæ­£å¸¸èŒƒå›´(18-25Â°C)ï¼Œå¯èƒ½å½±å“è®¾å¤‡æ­£å¸¸è¿è¡Œã€‚</textarea>
                </div>
                <div class="form-group">
                    <label class="form-label">å¤„ç†æªæ–½</label>
                    <textarea class="form-input" rows="3" readonly>å·²é€šçŸ¥è¿ç»´äººå‘˜ï¼Œè°ƒæ•´ç©ºè°ƒæ¸©åº¦è®¾ç½®ï¼Œæ¸©åº¦å·²æ¢å¤æ­£å¸¸ã€‚</textarea>
                </div>
                <div class="form-group">
                    <label class="form-label">å¤„ç†äººå‘˜</label>
                    <input type="text" class="form-input" value="è¿ç»´å·¥ç¨‹å¸ˆ - å¼ ä¸‰" readonly>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn" onclick="hideModal('alarmDetailModal')">å…³é—­</button>
            </div>
        </div>
    </div>

    <!-- ç”¨æˆ·ç¼–è¾‘å¼¹çª— -->
    <div id="userEditModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">ğŸ‘¤ ç¼–è¾‘ç”¨æˆ·</h3>
                <button class="modal-close" onclick="hideModal('userEditModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">ç”¨æˆ·å</label>
                    <input type="text" class="form-input" value="operator" readonly>
                </div>
                <div class="form-group">
                    <label class="form-label">è§’è‰²</label>
                    <select class="form-input">
                        <option>ç³»ç»Ÿç®¡ç†å‘˜</option>
                        <option selected>è¿ç»´å·¥ç¨‹å¸ˆ</option>
                        <option>åªè¯»ç”¨æˆ·</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">æƒé™èŒƒå›´</label>
                    <div style="display: flex; flex-direction: column; gap: 8px;">
                        <label><input type="checkbox" checked> ç³»ç»Ÿç›‘æ§</label>
                        <label><input type="checkbox" checked> è®¾å¤‡æ§åˆ¶</label>
                        <label><input type="checkbox"> ç³»ç»Ÿé…ç½®</label>
                        <label><input type="checkbox"> ç”¨æˆ·ç®¡ç†</label>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">è´¦æˆ·çŠ¶æ€</label>
                    <select class="form-input">
                        <option selected>å¯ç”¨</option>
                        <option>ç¦ç”¨</option>
                    </select>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn" onclick="hideModal('userEditModal')">å–æ¶ˆ</button>
                <button class="btn btn-primary" onclick="saveUserEdit()">ä¿å­˜ä¿®æ”¹</button>
            </div>
        </div>
    </div>

    <!-- AIç­–ç•¥ç¼–è¾‘å¼¹çª— -->
    <div id="aiStrategyEditModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">ğŸ¤– ç¼–è¾‘AIç­–ç•¥</h3>
                <button class="modal-close" onclick="hideModal('aiStrategyEditModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">ç­–ç•¥åç§°</label>
                    <input type="text" class="form-input" value="æ¸©åº¦ä¿æŠ¤ç­–ç•¥">
                </div>
                <div class="form-group">
                    <label class="form-label">ç­–ç•¥ç±»å‹</label>
                    <select class="form-input">
                        <option selected>æ¸©åº¦æ§åˆ¶</option>
                        <option>èŠ‚èƒ½ä¼˜åŒ–</option>
                        <option>å®šæ—¶æ§åˆ¶</option>
                        <option>æ•…éšœå¤„ç†</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">è§¦å‘æ¡ä»¶</label>
                    <textarea class="form-input" rows="3">å‡ºé£å£æ¸©åº¦ > 60Â°C</textarea>
                </div>
                <div class="form-group">
                    <label class="form-label">æ‰§è¡ŒåŠ¨ä½œ</label>
                    <textarea class="form-input" rows="3">è‡ªåŠ¨å…³æœº + å»¶è¿Ÿæ–­ç”µ</textarea>
                </div>
                <div class="form-group">
                    <label class="form-label">ç­–ç•¥çŠ¶æ€</label>
                    <select class="form-input">
                        <option selected>å¯ç”¨</option>
                        <option>ç¦ç”¨</option>
                    </select>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn" onclick="hideModal('aiStrategyEditModal')">å–æ¶ˆ</button>
                <button class="btn btn-primary" onclick="saveAiStrategy()">ä¿å­˜ç­–ç•¥</button>
            </div>
        </div>
    </div>

    <!-- å‘Šè­¦è§„åˆ™ç¼–è¾‘å¼¹çª— -->
    <div id="alarmRuleEditModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">âš ï¸ ç¼–è¾‘å‘Šè­¦è§„åˆ™</h3>
                <button class="modal-close" onclick="hideModal('alarmRuleEditModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">è§„åˆ™åç§°</label>
                    <input type="text" class="form-input" value="æ¸©åº¦å¼‚å¸¸å‘Šè­¦">
                </div>
                <div class="form-group">
                    <label class="form-label">å‘Šè­¦ç±»å‹</label>
                    <select class="form-input">
                        <option selected>æ¸©åº¦å¼‚å¸¸</option>
                        <option>ç”µæ°”å¼‚å¸¸</option>
                        <option>è®¾å¤‡å¼‚å¸¸</option>
                        <option>ç³»ç»Ÿå¼‚å¸¸</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">è§¦å‘æ¡ä»¶</label>
                    <input type="text" class="form-input" value="ä»»æ„æ¢å¤´ > 50Â°C">
                </div>
                <div class="form-group">
                    <label class="form-label">å‘Šè­¦ç­‰çº§</label>
                    <select class="form-input">
                        <option>ä¿¡æ¯</option>
                        <option selected>è­¦å‘Š</option>
                        <option>ä¸¥é‡</option>
                        <option>ç´§æ€¥</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">é€šçŸ¥æ–¹å¼</label>
                    <div style="display: flex; flex-direction: column; gap: 8px;">
                        <label><input type="checkbox" checked> ç•Œé¢æç¤º</label>
                        <label><input type="checkbox" checked> é‚®ä»¶é€šçŸ¥</label>
                        <label><input type="checkbox"> çŸ­ä¿¡é€šçŸ¥</label>
                        <label><input type="checkbox"> å¾®ä¿¡é€šçŸ¥</label>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn" onclick="hideModal('alarmRuleEditModal')">å–æ¶ˆ</button>
                <button class="btn btn-primary" onclick="saveAlarmRule()">ä¿å­˜è§„åˆ™</button>
            </div>
        </div>
    </div>

    <!-- æœåŠ¡å™¨è¯¦æƒ…å¼¹çª— -->
    <div id="serverDetailModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">ğŸ–¥ï¸ æœåŠ¡å™¨è¯¦æƒ…</h3>
                <button class="modal-close" onclick="hideModal('serverDetailModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
                    <div class="form-group">
                        <label class="form-label">æœåŠ¡å™¨åç§°</label>
                        <input type="text" class="form-input" value="ä¸»æœåŠ¡å™¨" readonly>
                    </div>
                    <div class="form-group">
                        <label class="form-label">IPåœ°å€</label>
                        <input type="text" class="form-input" value="192.168.110.100" readonly>
                    </div>
                    <div class="form-group">
                        <label class="form-label">CPUå‹å·</label>
                        <input type="text" class="form-input" value="Intel Xeon E5-2680 v4" readonly>
                    </div>
                    <div class="form-group">
                        <label class="form-label">å†…å­˜å®¹é‡</label>
                        <input type="text" class="form-input" value="32GB DDR4" readonly>
                    </div>
                    <div class="form-group">
                        <label class="form-label">å­˜å‚¨å®¹é‡</label>
                        <input type="text" class="form-input" value="1TB SSD" readonly>
                    </div>
                    <div class="form-group">
                        <label class="form-label">ç½‘ç»œæ¥å£</label>
                        <input type="text" class="form-input" value="åƒå…†ä»¥å¤ªç½‘" readonly>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">è¿è¡ŒçŠ¶æ€</label>
                    <div style="display: flex; gap: 20px;">
                        <div>CPUä½¿ç”¨ç‡: <span style="color: #52c41a;">15.2%</span></div>
                        <div>å†…å­˜ä½¿ç”¨ç‡: <span style="color: #52c41a;">68.5%</span></div>
                        <div>ç£ç›˜ä½¿ç”¨ç‡: <span style="color: #52c41a;">45.8%</span></div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn" onclick="hideModal('serverDetailModal')">å…³é—­</button>
            </div>
        </div>
    </div>

    <!-- æ·»åŠ æœåŠ¡å™¨å¼¹çª— -->
    <div id="addServerModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">ğŸ–¥ï¸ æ·»åŠ æœåŠ¡å™¨</h3>
                <button class="modal-close" onclick="hideModal('addServerModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">æœåŠ¡å™¨åç§°</label>
                    <input type="text" class="form-input" placeholder="è¾“å…¥æœåŠ¡å™¨åç§°ï¼Œå¦‚ï¼šWebæœåŠ¡å™¨01">
                </div>
                <div class="form-group">
                    <label class="form-label">æœåŠ¡å™¨IPåœ°å€</label>
                    <input type="text" class="form-input" placeholder="192.168.110.102">
                </div>
                <div class="form-group">
                    <label class="form-label">SSHç«¯å£</label>
                    <input type="number" class="form-input" value="22" placeholder="22">
                </div>
                <div class="form-group">
                    <label class="form-label">ç”¨æˆ·å</label>
                    <input type="text" class="form-input" value="root" placeholder="root">
                </div>
                <div class="form-group">
                    <label class="form-label">è®¤è¯æ–¹å¼</label>
                    <select class="form-input" id="authMethodSelect" onchange="toggleAuthFields()">
                        <option value="rsa">RSAå¯†é’¥</option>
                        <option value="password">å¯†ç è®¤è¯</option>
                        <option value="certificate">è¯ä¹¦è®¤è¯</option>
                    </select>
                </div>

                <!-- RSAå¯†é’¥è®¤è¯å­—æ®µ -->
                <div class="form-group" id="rsaAuthFields">
                    <label class="form-label">RSAç§é’¥å†…å®¹</label>
                    <textarea class="form-input" rows="6" placeholder="è¯·ç²˜è´´RSAç§é’¥å†…å®¹ï¼Œæ ¼å¼å¦‚ï¼š&#10;-----BEGIN RSA PRIVATE KEY-----&#10;MIIEpAIBAAKCAQEA...&#10;-----END RSA PRIVATE KEY-----"></textarea>
                    <small style="color: #8c8c8c; margin-top: 4px; display: block;">è¯·ç²˜è´´å®Œæ•´çš„RSAç§é’¥å†…å®¹ï¼ŒåŒ…æ‹¬BEGINå’ŒENDæ ‡è®°</small>
                </div>

                <!-- å¯†ç è®¤è¯å­—æ®µ -->
                <div class="form-group" id="passwordAuthFields" style="display: none;">
                    <label class="form-label">ç™»å½•å¯†ç </label>
                    <input type="password" class="form-input" id="password1" placeholder="è¾“å…¥SSHç™»å½•å¯†ç ">
                    <div style="margin-top: 8px;">
                        <label class="form-label">ç¡®è®¤å¯†ç </label>
                        <input type="password" class="form-input" id="password2" placeholder="å†æ¬¡è¾“å…¥å¯†ç ç¡®è®¤" oninput="checkPasswordMatch()">
                        <small id="passwordMatchMsg" style="margin-top: 4px; display: block;"></small>
                    </div>
                    <small style="color: #faad14; margin-top: 4px; display: block;">âš ï¸ å»ºè®®ä½¿ç”¨RSAå¯†é’¥è®¤è¯ï¼Œæ›´åŠ å®‰å…¨</small>
                </div>

                <!-- è¯ä¹¦è®¤è¯å­—æ®µ -->
                <div class="form-group" id="certificateAuthFields" style="display: none;">
                    <label class="form-label">è¯ä¹¦å†…å®¹</label>
                    <textarea class="form-input" rows="4" placeholder="è¯·ç²˜è´´è¯ä¹¦å†…å®¹ï¼Œæ ¼å¼å¦‚ï¼š&#10;-----BEGIN CERTIFICATE-----&#10;MIIDXTCCAkWgAwIBAgIJAL...&#10;-----END CERTIFICATE-----"></textarea>
                    <div style="margin-top: 8px;">
                        <label class="form-label">ç§é’¥å†…å®¹</label>
                        <textarea class="form-input" rows="4" placeholder="è¯·ç²˜è´´ç§é’¥å†…å®¹ï¼Œæ ¼å¼å¦‚ï¼š&#10;-----BEGIN PRIVATE KEY-----&#10;MIIEvQIBADANBgkqhkiG9w0B...&#10;-----END PRIVATE KEY-----"></textarea>
                    </div>
                    <small style="color: #8c8c8c; margin-top: 4px; display: block;">è¯·åˆ†åˆ«ç²˜è´´è¯ä¹¦å’Œç§é’¥çš„å®Œæ•´å†…å®¹</small>
                </div>
                <div class="form-group">
                    <label class="form-label">æœåŠ¡å™¨ç±»å‹</label>
                    <select class="form-input">
                        <option>ä¸»æœåŠ¡å™¨</option>
                        <option>å¤‡ç”¨æœåŠ¡å™¨</option>
                        <option>WebæœåŠ¡å™¨</option>
                        <option>æ•°æ®åº“æœåŠ¡å™¨</option>
                        <option>åº”ç”¨æœåŠ¡å™¨</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">æœåŠ¡å™¨æè¿°</label>
                    <textarea class="form-input" rows="3" placeholder="è¾“å…¥æœåŠ¡å™¨ç”¨é€”å’Œé…ç½®è¯´æ˜..."></textarea>
                </div>
                <div style="background: #f6ffed; border: 1px solid #b7eb8f; padding: 16px; border-radius: 4px; margin-top: 16px;">
                    <p style="margin: 0; color: #52c41a;">
                        ğŸ’¡ <strong>æç¤ºï¼š</strong>æ·»åŠ æœåŠ¡å™¨åï¼Œç³»ç»Ÿå°†è‡ªåŠ¨æµ‹è¯•SSHè¿æ¥å¹¶è·å–ç¡¬ä»¶ä¿¡æ¯ã€‚
                    </p>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn" onclick="hideModal('addServerModal')">å–æ¶ˆ</button>
                <button class="btn btn-primary" onclick="addNewServer()">æ·»åŠ æœåŠ¡å™¨</button>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script>
        // å…¨å±€å˜é‡
        let currentPage = 'server-monitor';

        // åˆ‡æ¢ä¸»èœå•ï¼ˆæ‰‹é£ç´æ•ˆæœï¼‰
        function toggleMainMenu(submenuId, mainMenuName, defaultPageId, clickedButton) {
            const submenuGroup = document.getElementById(submenuId + '-submenu');
            const arrow = clickedButton.querySelector('.menu-arrow');

            if (!submenuGroup || !arrow) return;

            // è·å–å½“å‰çŠ¶æ€
            const isCurrentlyOpen = submenuGroup.style.display === 'block';

            // å…³é—­æ‰€æœ‰å…¶ä»–å­èœå•
            document.querySelectorAll('.submenu-group').forEach(group => {
                group.style.display = 'none';
            });

            // é‡ç½®æ‰€æœ‰ç®­å¤´ä¸ºå‘å³
            document.querySelectorAll('.menu-arrow').forEach(arr => {
                arr.className = 'menu-arrow right';
            });

            // ç§»é™¤æ‰€æœ‰èœå•é¡¹çš„activeçŠ¶æ€
            document.querySelectorAll('.menu-item').forEach(item => {
                item.classList.remove('active');
            });

            // å¦‚æœå½“å‰èœå•æ˜¯å…³é—­çš„ï¼Œåˆ™æ‰“å¼€å®ƒ
            if (!isCurrentlyOpen) {
                submenuGroup.style.display = 'block';
                arrow.className = 'menu-arrow down';
                // ä¸ç»™ä¸€çº§èœå•æ·»åŠ activeç±»ï¼Œåªå±•å¼€å­èœå•

                // æ˜¾ç¤ºé»˜è®¤çš„ç¬¬ä¸€ä¸ªå­é¡µé¢
                showPage(defaultPageId, mainMenuName, getSubMenuName(defaultPageId));
            } else {
                // å¦‚æœå½“å‰èœå•æ˜¯æ‰“å¼€çš„ï¼Œå…³é—­å®ƒå¹¶å›åˆ°é¦–é¡µ
                showPage('dashboard', '', 'ğŸ  ç³»ç»Ÿæ¦‚è§ˆ');
            }
        }

        // é¡µé¢åˆ‡æ¢
        function showPage(pageId, mainMenuName = '', subMenuName = '') {
            // éšè—æ‰€æœ‰é¡µé¢
            document.querySelectorAll('.page-content').forEach(page => {
                page.classList.remove('active');
            });

            // æ˜¾ç¤ºç›®æ ‡é¡µé¢
            const targetPage = document.getElementById(pageId);
            if (targetPage) {
                targetPage.classList.add('active');
            } else {
                console.error('é¡µé¢ä¸å­˜åœ¨:', pageId);
                return;
            }

            // æ›´æ–°å¯¼èˆªçŠ¶æ€
            document.querySelectorAll('.menu-item, .submenu-item').forEach(item => {
                item.classList.remove('active');
            });

            // é«˜äº®å½“å‰èœå•é¡¹
            const activeMenuItem = document.querySelector(`[onclick*="'${pageId}'"]`);
            if (activeMenuItem) {
                activeMenuItem.classList.add('active');

                // å¦‚æœæ˜¯å­èœå•é¡¹ï¼Œç¡®ä¿å¯¹åº”çš„ä¸»èœå•ä¿æŒå±•å¼€çŠ¶æ€
                if (activeMenuItem.classList.contains('submenu-item')) {
                    const submenuGroup = activeMenuItem.closest('.submenu-group');
                    if (submenuGroup) {
                        submenuGroup.style.display = 'block';

                        // æ‰¾åˆ°å¯¹åº”çš„ä¸»èœå•æŒ‰é’®å¹¶è®¾ç½®ç®­å¤´çŠ¶æ€ï¼Œä½†ä¸æ·»åŠ activeç±»
                        const mainMenuButton = submenuGroup.previousElementSibling;
                        if (mainMenuButton && mainMenuButton.classList.contains('menu-item')) {
                            const arrow = mainMenuButton.querySelector('.menu-arrow');
                            if (arrow) {
                                arrow.className = 'menu-arrow down';
                            }
                            // ä¸ç»™ä¸€çº§èœå•æ·»åŠ activeç±»ï¼Œä¿æŒé»˜è®¤é¢œè‰²
                        }
                    }
                }
            }

            // è®¾ç½®å½“å‰é¡µé¢
            currentPage = pageId;

            // æ›´æ–°é¢åŒ…å±‘å¯¼èˆª
            updateBreadcrumb(pageId, mainMenuName, subMenuName);
        }

        // è·å–å­èœå•åç§°
        function getSubMenuName(pageId) {
            const menuNames = {
                'temp-monitor': 'ğŸ“Š å®æ—¶ç›‘æ§',
                'temp-config': 'âš™ï¸ ä¼ æ„Ÿå™¨ç®¡ç†',
                'server-monitor': 'ğŸ“Š æœåŠ¡å™¨ç›‘æ§',
                'server-config': 'âš™ï¸ è¿æ¥é…ç½®',
                'breaker-monitor': 'ğŸ“Š æ–­è·¯å™¨ç›‘æ§',
                'breaker-config': 'âš™ï¸ æ–­è·¯å™¨é…ç½®',
                'ai-control': 'ğŸ¤– AIæ™ºèƒ½æ§åˆ¶',
                'alarms': 'ğŸ”” æ™ºèƒ½å‘Šè­¦',
                'security': 'ğŸ”’ å®‰å…¨æ§åˆ¶',
                'dashboard': 'ğŸ  ç³»ç»Ÿæ¦‚è§ˆ'
            };
            return menuNames[pageId] || '';
        }

        // æ›´æ–°é¢åŒ…å±‘å¯¼èˆª
        function updateBreadcrumb(pageId, mainMenuName, subMenuName) {
            const breadcrumbElement = document.getElementById('current-page-title');

            if (pageId === 'dashboard') {
                breadcrumbElement.textContent = 'ç³»ç»Ÿæ¦‚è§ˆ';
            } else if (mainMenuName && subMenuName) {
                // æœ‰ä¸»èœå•å’Œå­èœå•çš„æƒ…å†µ
                const cleanMainMenu = mainMenuName.replace(/[ğŸŒ¡ï¸ğŸ–¥ï¸âš¡ğŸ¤–ğŸ””ğŸ”’]/g, '').trim();
                const cleanSubMenu = subMenuName.replace(/[ğŸ“Šâš™ï¸]/g, '').trim();
                breadcrumbElement.textContent = `${cleanMainMenu} / ${cleanSubMenu}`;
            } else if (subMenuName) {
                // åªæœ‰å­èœå•åç§°çš„æƒ…å†µï¼ˆå•çº§èœå•ï¼‰
                breadcrumbElement.textContent = subMenuName.replace(/[ğŸ¤–ğŸ””ğŸ”’]/g, '').trim();
            } else {
                // é»˜è®¤æƒ…å†µ
                const defaultTitles = {
                    'temp-monitor': 'æ¸©åº¦ç›‘æ§ / å®æ—¶ç›‘æ§',
                    'temp-config': 'æ¸©åº¦ç›‘æ§ / ä¼ æ„Ÿå™¨ç®¡ç†',
                    'server-monitor': 'æœåŠ¡å™¨ç®¡ç† / æœåŠ¡å™¨ç›‘æ§',
                    'server-config': 'æœåŠ¡å™¨ç®¡ç† / è¿æ¥é…ç½®',
                    'breaker-monitor': 'æ™ºèƒ½æ–­è·¯å™¨ / æ–­è·¯å™¨ç›‘æ§',
                    'breaker-config': 'æ™ºèƒ½æ–­è·¯å™¨ / æ–­è·¯å™¨é…ç½®',
                    'ai-control': 'AIæ™ºèƒ½æ§åˆ¶',
                    'alarms': 'æ™ºèƒ½å‘Šè­¦',
                    'security': 'å®‰å…¨æ§åˆ¶'
                };
                breadcrumbElement.textContent = defaultTitles[pageId] || pageId;
            }
        }

        // æ¨¡æ€æ¡†æ˜¾ç¤º
        function showModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.classList.add('show');
            }
        }

        // æ¨¡æ€æ¡†éšè—
        function hideModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.classList.remove('show');
            }
        }

        // åˆ‡æ¢å­èœå•
        function toggleSubmenu(submenuId) {
            // æ‰¾åˆ°å¯¹åº”çš„å­èœå•é¡¹
            const menuButton = document.querySelector(`[onclick="toggleSubmenu('${submenuId}')"]`);
            if (!menuButton) return;

            // æ‰¾åˆ°ç´§è·Ÿåœ¨èœå•æŒ‰é’®åé¢çš„æ‰€æœ‰å­èœå•é¡¹
            let nextElement = menuButton.nextElementSibling;
            const submenuItems = [];

            while (nextElement && nextElement.classList.contains('submenu-item')) {
                submenuItems.push(nextElement);
                nextElement = nextElement.nextElementSibling;
            }

            // åˆ‡æ¢æ˜¾ç¤ºçŠ¶æ€
            submenuItems.forEach(item => {
                const isVisible = item.style.display === 'block';
                item.style.display = isVisible ? 'none' : 'block';
            });
        }

        // ç‚¹å‡»æ¨¡æ€æ¡†èƒŒæ™¯å…³é—­
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('modal')) {
                e.target.classList.remove('show');
            }
        });

        // é€šçŸ¥ç³»ç»Ÿ
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `notification notification-${type}`;
            notification.innerHTML = `
                <span>${message}</span>
                <button onclick="this.parentElement.remove()" style="background: none; border: none; color: white; font-size: 18px; cursor: pointer; margin-left: 12px;">&times;</button>
            `;

            // æ·»åŠ é€šçŸ¥æ ·å¼
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 12px 16px;
                border-radius: 4px;
                color: white;
                z-index: 10000;
                display: flex;
                align-items: center;
                min-width: 300px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                font-size: 14px;
            `;

            // æ ¹æ®ç±»å‹è®¾ç½®é¢œè‰²
            const colors = {
                'success': '#52c41a',
                'error': '#ff4d4f',
                'warning': '#faad14',
                'info': '#1890ff'
            };
            notification.style.backgroundColor = colors[type] || colors.info;

            document.body.appendChild(notification);

            // 3ç§’åè‡ªåŠ¨æ¶ˆå¤±
            setTimeout(() => {
                if (notification.parentElement) {
                    notification.remove();
                }
            }, 3000);
        }

        // ä¸šåŠ¡åŠŸèƒ½å‡½æ•°
        function logout() {
            showNotification('é€€å‡ºç™»å½•æˆåŠŸï¼', 'success');
            hideModal('logoutModal');
        }

        function saveTemperatureAlarm() {
            showNotification('æ¸©åº¦å‘Šè­¦é˜ˆå€¼è®¾ç½®å·²ä¿å­˜ï¼', 'success');
            hideModal('temperatureAlarmModal');
        }

        function calibrateSensor() {
            showNotification('ä¼ æ„Ÿå™¨æ ¡å‡†å·²å¼€å§‹ï¼Œè¯·ç­‰å¾…å®Œæˆ...', 'info');
            hideModal('sensorCalibrationModal');
            setTimeout(() => {
                showNotification('ä¼ æ„Ÿå™¨æ ¡å‡†å®Œæˆï¼', 'success');
            }, 3000);
        }

        function executeServerControl() {
            const confirmText = document.getElementById('serverConfirmText');
            if (confirmText && confirmText.value !== 'CONFIRM') {
                showNotification('è¯·è¾“å…¥æ­£ç¡®çš„ç¡®è®¤æ–‡æœ¬ï¼', 'error');
                return;
            }
            showNotification('æœåŠ¡å™¨æ§åˆ¶æ“ä½œå·²æ‰§è¡Œï¼', 'success');
            hideModal('serverControlModal');
        }

        // å…¨å±€å˜é‡å­˜å‚¨å½“å‰æ“ä½œçš„æ–­è·¯å™¨ä¿¡æ¯
        let currentBreakerInfo = {
            breakerId: '',
            serverName: ''
        };

        // å…¨å±€å˜é‡å­˜å‚¨æ–­è·¯å™¨ç»‘å®šå…³ç³»
        let breakerBindings = {
            breaker1: 'ä¸»æœåŠ¡å™¨',
            breaker2: 'å¤‡ç”¨æœåŠ¡å™¨'
        };

        // å½“å‰æ­£åœ¨è®¾ç½®ç»‘å®šçš„æ–­è·¯å™¨
        let currentBindingBreaker = '';

        // è·å–å½“å‰ç»‘å®šçš„æœåŠ¡å™¨
        function getCurrentBinding(breakerId) {
            return breakerBindings[breakerId] || 'æœªç»‘å®š';
        }

        // æ˜¾ç¤ºæ–­è·¯å™¨æ§åˆ¶å¯¹è¯æ¡†
        function showBreakerControl(breakerId, serverName) {
            currentBreakerInfo = { breakerId, serverName };

            // æ›´æ–°å¯¹è¯æ¡†ä¿¡æ¯
            document.getElementById('breakerInfo').textContent =
                breakerId === 'breaker1' ? 'æ–­è·¯å™¨#1 (ç«¯å£503)' : 'æ–­è·¯å™¨#2 (ç«¯å£505)';
            document.getElementById('serverInfo').textContent = `ç»‘å®šæœåŠ¡å™¨: ${serverName}`;
            document.getElementById('breakerControlTitle').textContent = `æ–­è·¯å™¨æ§åˆ¶æ“ä½œ - ${serverName}`;

            // é‡ç½®æ­¥éª¤çŠ¶æ€
            resetOperationSteps();

            // éšè—è¿›åº¦æ¡
            document.getElementById('shutdownProgressGroup').style.display = 'none';

            // æ¸…ç©ºå®‰å…¨ç¡®è®¤è¾“å…¥
            document.getElementById('safetyConfirmInput').value = '';

            // æ˜¾ç¤ºå¯¹è¯æ¡†
            showModal('breakerControlModal');
        }

        // é‡ç½®æ“ä½œæ­¥éª¤çŠ¶æ€
        function resetOperationSteps() {
            const steps = ['step1', 'step2', 'step3'];
            const statuses = ['step1Status', 'step2Status', 'step3Status'];

            steps.forEach((stepId, index) => {
                const stepElement = document.getElementById(stepId);
                const statusElement = document.getElementById(statuses[index]);

                stepElement.classList.remove('active', 'completed');
                statusElement.textContent = 'ç­‰å¾…ä¸­';
            });
        }

        // å¼€å§‹æ–­è·¯å™¨æ§åˆ¶æµç¨‹
        function startBreakerControlProcess() {
            const safetyInput = document.getElementById('safetyConfirmInput').value.trim();

            if (safetyInput !== 'POWER OFF') {
                showNotification('è¯·è¾“å…¥æ­£ç¡®çš„å®‰å…¨ç¡®è®¤æ–‡æœ¬: POWER OFF', 'error');
                return;
            }

            // ç¦ç”¨æ‰§è¡ŒæŒ‰é’®
            const executeBtn = document.getElementById('executeBreakerBtn');
            executeBtn.disabled = true;
            executeBtn.textContent = 'æ‰§è¡Œä¸­...';

            // å¼€å§‹æ‰§è¡Œæµç¨‹
            executeStep1();
        }

        // æ‰§è¡Œæ­¥éª¤1: è¿œç¨‹å…³é—­æœåŠ¡å™¨
        function executeStep1() {
            const step1 = document.getElementById('step1');
            const step1Status = document.getElementById('step1Status');

            step1.classList.add('active');
            step1Status.textContent = 'æ‰§è¡Œä¸­';

            showNotification(`æ­£åœ¨è¿œç¨‹å…³é—­${currentBreakerInfo.serverName}...`, 'info');

            // æ¨¡æ‹Ÿå‘é€å…³æœºå‘½ä»¤
            setTimeout(() => {
                step1.classList.remove('active');
                step1.classList.add('completed');
                step1Status.textContent = 'å·²å®Œæˆ';

                showNotification(`${currentBreakerInfo.serverName}å…³æœºå‘½ä»¤å·²å‘é€`, 'success');

                // å¼€å§‹æ­¥éª¤2
                executeStep2();
            }, 2000);
        }

        // æ‰§è¡Œæ­¥éª¤2: ç­‰å¾…æœåŠ¡å™¨å®Œå…¨å…³æœº
        function executeStep2() {
            const step2 = document.getElementById('step2');
            const step2Status = document.getElementById('step2Status');

            step2.classList.add('active');
            step2Status.textContent = 'æ‰§è¡Œä¸­';

            // æ˜¾ç¤ºè¿›åº¦æ¡
            document.getElementById('shutdownProgressGroup').style.display = 'block';

            showNotification(`ç­‰å¾…${currentBreakerInfo.serverName}å®Œå…¨å…³æœº...`, 'info');

            // æ¨¡æ‹Ÿå…³æœºè¿›åº¦
            let progress = 0;
            const progressInterval = setInterval(() => {
                progress += 5;
                const progressFill = document.getElementById('shutdownProgress');
                const progressText = document.getElementById('shutdownProgressText');

                progressFill.style.width = progress + '%';

                if (progress <= 20) {
                    progressText.textContent = 'æ­£åœ¨ä¿å­˜æ•°æ®...';
                } else if (progress <= 40) {
                    progressText.textContent = 'æ­£åœ¨å…³é—­æœåŠ¡...';
                } else if (progress <= 60) {
                    progressText.textContent = 'æ­£åœ¨åœæ­¢è¿›ç¨‹...';
                } else if (progress <= 80) {
                    progressText.textContent = 'æ­£åœ¨æ¸…ç†ç¼“å­˜...';
                } else if (progress < 100) {
                    progressText.textContent = 'æ­£åœ¨å…³é—­ç³»ç»Ÿ...';
                } else {
                    progressText.textContent = 'æœåŠ¡å™¨å·²å®Œå…¨å…³æœº';
                    clearInterval(progressInterval);

                    // å®Œæˆæ­¥éª¤2
                    step2.classList.remove('active');
                    step2.classList.add('completed');
                    step2Status.textContent = 'å·²å®Œæˆ';

                    showNotification(`${currentBreakerInfo.serverName}å·²å®Œå…¨å…³æœº`, 'success');

                    // å¼€å§‹æ­¥éª¤3
                    setTimeout(() => executeStep3(), 1000);
                }
            }, 200);
        }

        // æ‰§è¡Œæ­¥éª¤3: æ–­å¼€æ–­è·¯å™¨ç”µæº
        function executeStep3() {
            const step3 = document.getElementById('step3');
            const step3Status = document.getElementById('step3Status');

            step3.classList.add('active');
            step3Status.textContent = 'æ‰§è¡Œä¸­';

            const breakerName = currentBreakerInfo.breakerId === 'breaker1' ? 'æ–­è·¯å™¨#1' : 'æ–­è·¯å™¨#2';
            showNotification(`æ­£åœ¨æ–­å¼€${breakerName}ç”µæº...`, 'warning');

            setTimeout(() => {
                step3.classList.remove('active');
                step3.classList.add('completed');
                step3Status.textContent = 'å·²å®Œæˆ';

                showNotification(`${breakerName}å·²æˆåŠŸæ–­å¼€ï¼${currentBreakerInfo.serverName}ç”µæºå·²åˆ‡æ–­ï¼`, 'success');

                // é‡æ–°å¯ç”¨æŒ‰é’®å¹¶æ›´æ”¹æ–‡æœ¬
                const executeBtn = document.getElementById('executeBreakerBtn');
                executeBtn.disabled = false;
                executeBtn.textContent = 'æ“ä½œå®Œæˆ';
                executeBtn.classList.remove('btn-danger');
                executeBtn.classList.add('btn-success');
                executeBtn.onclick = () => hideModal('breakerControlModal');

            }, 2000);
        }

        // æ˜¾ç¤ºç»‘å®šè®¾ç½®æ¨¡æ€æ¡†
        function showBindingModal(breakerId) {
            currentBindingBreaker = breakerId;

            // æ›´æ–°æ¨¡æ€æ¡†æ ‡é¢˜å’Œæ–­è·¯å™¨ä¿¡æ¯
            const breakerName = breakerId === 'breaker1' ? 'æ–­è·¯å™¨#1 (ç«¯å£503)' : 'æ–­è·¯å™¨#2 (ç«¯å£505)';
            document.getElementById('bindingModalTitle').textContent = `${breakerName} - ç»‘å®šè®¾ç½®`;
            document.getElementById('bindingBreakerInfo').textContent = breakerName;

            // æ›´æ–°å½“å‰ç»‘å®šçŠ¶æ€
            const currentBinding = getCurrentBinding(breakerId);
            const statusElement = document.getElementById('currentBindingStatus');
            if (currentBinding === 'æœªç»‘å®š') {
                statusElement.innerHTML = '<span style="color: #ff4d4f;">â—</span> æœªç»‘å®šæœåŠ¡å™¨';
            } else {
                statusElement.innerHTML = `<span style="color: #52c41a;">â—</span> å·²ç»‘å®š: ${currentBinding}`;
            }

            // è®¾ç½®ä¸‹æ‹‰æ¡†çš„å½“å‰å€¼
            document.getElementById('serverSelect').value = currentBinding === 'æœªç»‘å®š' ? '' : currentBinding;

            // æ›´æ–°ç»‘å®šå†å²
            updateBindingHistory(breakerId);

            // æ˜¾ç¤ºæ¨¡æ€æ¡†
            showModal('bindingModal');
        }

        // æ›´æ–°ç»‘å®šå†å²
        function updateBindingHistory(breakerId) {
            const historyElement = document.getElementById('bindingHistory');

            // æ¨¡æ‹Ÿç»‘å®šå†å²æ•°æ®
            const histories = {
                breaker1: [
                    { time: '2025-09-15 08:00:00', action: 'ç»‘å®š', server: 'ä¸»æœåŠ¡å™¨', color: '#52c41a' },
                    { time: '2025-09-14 16:30:00', action: 'ä¿®æ”¹', server: 'å¤‡ç”¨æœåŠ¡å™¨ â†’ ä¸»æœåŠ¡å™¨', color: '#faad14' },
                    { time: '2025-09-14 10:15:00', action: 'ç»‘å®š', server: 'å¤‡ç”¨æœåŠ¡å™¨', color: '#52c41a' }
                ],
                breaker2: [
                    { time: '2025-09-15 08:00:00', action: 'ç»‘å®š', server: 'å¤‡ç”¨æœåŠ¡å™¨', color: '#52c41a' },
                    { time: '2025-09-13 14:20:00', action: 'è§£é™¤', server: 'ä¸»æœåŠ¡å™¨', color: '#ff4d4f' },
                    { time: '2025-09-13 09:45:00', action: 'ç»‘å®š', server: 'ä¸»æœåŠ¡å™¨', color: '#52c41a' }
                ]
            };

            const history = histories[breakerId] || [];
            historyElement.innerHTML = history.map(item => `
                <tr>
                    <td style="padding: 6px 8px;">${item.time}</td>
                    <td style="padding: 6px 8px; color: ${item.color};">${item.action}</td>
                    <td style="padding: 6px 8px;">${item.server}</td>
                </tr>
            `).join('');
        }

        // ä¿å­˜ç»‘å®šå…³ç³»
        function saveBinding() {
            const selectedServer = document.getElementById('serverSelect').value;

            if (!selectedServer) {
                showNotification('è¯·é€‰æ‹©è¦ç»‘å®šçš„æœåŠ¡å™¨', 'error');
                return;
            }

            // æ£€æŸ¥æ˜¯å¦æœ‰å…¶ä»–æ–­è·¯å™¨å·²ç»‘å®šè¯¥æœåŠ¡å™¨
            for (let breakerId in breakerBindings) {
                if (breakerId !== currentBindingBreaker && breakerBindings[breakerId] === selectedServer) {
                    showNotification(`${selectedServer} å·²è¢« ${breakerId === 'breaker1' ? 'æ–­è·¯å™¨#1' : 'æ–­è·¯å™¨#2'} ç»‘å®šï¼Œè¯·å…ˆè§£é™¤ç»‘å®š`, 'error');
                    return;
                }
            }

            const oldBinding = breakerBindings[currentBindingBreaker];
            breakerBindings[currentBindingBreaker] = selectedServer;

            // æ›´æ–°è¡¨æ ¼æ˜¾ç¤º
            updateBreakerBindingDisplay(currentBindingBreaker, selectedServer);

            // æ˜¾ç¤ºæˆåŠŸé€šçŸ¥
            const breakerName = currentBindingBreaker === 'breaker1' ? 'æ–­è·¯å™¨#1' : 'æ–­è·¯å™¨#2';
            if (oldBinding && oldBinding !== 'æœªç»‘å®š') {
                showNotification(`${breakerName} ç»‘å®šå·²ä» "${oldBinding}" ä¿®æ”¹ä¸º "${selectedServer}"`, 'success');
            } else {
                showNotification(`${breakerName} å·²æˆåŠŸç»‘å®šåˆ° "${selectedServer}"`, 'success');
            }

            // å…³é—­æ¨¡æ€æ¡†
            hideModal('bindingModal');
        }

        // è§£é™¤ç»‘å®š
        function unbindServer() {
            const currentBinding = getCurrentBinding(currentBindingBreaker);

            if (currentBinding === 'æœªç»‘å®š') {
                showNotification('å½“å‰æ–­è·¯å™¨æœªç»‘å®šä»»ä½•æœåŠ¡å™¨', 'warning');
                return;
            }

            breakerBindings[currentBindingBreaker] = '';

            // æ›´æ–°è¡¨æ ¼æ˜¾ç¤º
            updateBreakerBindingDisplay(currentBindingBreaker, '');

            // æ˜¾ç¤ºæˆåŠŸé€šçŸ¥
            const breakerName = currentBindingBreaker === 'breaker1' ? 'æ–­è·¯å™¨#1' : 'æ–­è·¯å™¨#2';
            showNotification(`${breakerName} ä¸ "${currentBinding}" çš„ç»‘å®šå·²è§£é™¤`, 'success');

            // å…³é—­æ¨¡æ€æ¡†
            hideModal('bindingModal');
        }

        // æ›´æ–°æ–­è·¯å™¨ç»‘å®šæ˜¾ç¤º
        function updateBreakerBindingDisplay(breakerId, serverName) {
            const bindingElement = document.getElementById(breakerId + 'Binding');
            if (serverName) {
                bindingElement.textContent = `ç»‘å®š: ${serverName}`;
                bindingElement.style.color = '#666';
            } else {
                bindingElement.textContent = 'æœªç»‘å®š';
                bindingElement.style.color = '#ff4d4f';
            }
        }

        // å®šæ—¶ä»»åŠ¡æ•°æ®
        let scheduledTasks = [
            {
                id: 1,
                name: 'å¤œé—´è‡ªåŠ¨æ–­ç”µ',
                time: '23:00',
                type: 'daily',
                action: 'close',
                target: 'breaker1',
                description: 'æ¯æ—¥23:00æ‰§è¡Œ',
                enabled: true
            },
            {
                id: 2,
                name: 'æ—©æ™¨è‡ªåŠ¨é€šç”µ',
                time: '07:00',
                type: 'daily',
                action: 'open',
                target: 'breaker1',
                description: 'æ¯æ—¥07:00æ‰§è¡Œ',
                enabled: true
            },
            {
                id: 3,
                name: 'å‘¨æœ«ç»´æŠ¤æ–­ç”µ',
                time: '02:00',
                type: 'weekly',
                weekDay: 0,
                action: 'close',
                target: 'breaker2',
                description: 'æ¯å‘¨æ—¥02:00æ‰§è¡Œ',
                enabled: false
            }
        ];

        let currentEditingTask = null;

        // æ˜¾ç¤ºå®šæ—¶ä»»åŠ¡ç®¡ç†å¯¹è¯æ¡†
        function showScheduledTasksModal() {
            updateTaskStatistics();
            showModal('scheduledTasksModal');
        }

        // æ›´æ–°ä»»åŠ¡ç»Ÿè®¡
        function updateTaskStatistics() {
            const total = scheduledTasks.length;
            const active = scheduledTasks.filter(task => task.enabled).length;
            const inactive = total - active;

            document.getElementById('totalTasks').textContent = total;
            document.getElementById('activeTasks').textContent = active;
            document.getElementById('inactiveTasks').textContent = inactive;
            document.getElementById('taskCount').textContent = total + 'ä¸ª';
        }

        // æ˜¾ç¤ºæ·»åŠ ä»»åŠ¡å¯¹è¯æ¡†
        function showAddTaskModal() {
            currentEditingTask = null;
            document.getElementById('taskModalTitle').textContent = 'æ·»åŠ å®šæ—¶ä»»åŠ¡';

            // æ¸…ç©ºè¡¨å•
            document.getElementById('taskName').value = '';
            document.getElementById('taskType').value = 'daily';
            document.getElementById('taskTime').value = '';
            document.getElementById('taskAction').value = 'close';
            document.getElementById('targetBreaker').value = 'breaker1';
            document.getElementById('taskDescription').value = '';

            updateTimeOptions();
            showModal('addTaskModal');
        }

        // ç¼–è¾‘ä»»åŠ¡
        function editTask(taskId) {
            const task = scheduledTasks.find(t => t.id === taskId);
            if (!task) return;

            currentEditingTask = task;
            document.getElementById('taskModalTitle').textContent = 'ç¼–è¾‘å®šæ—¶ä»»åŠ¡';

            // å¡«å……è¡¨å•
            document.getElementById('taskName').value = task.name;
            document.getElementById('taskType').value = task.type;
            document.getElementById('taskTime').value = task.time;
            document.getElementById('taskAction').value = task.action;
            document.getElementById('targetBreaker').value = task.target;
            document.getElementById('taskDescription').value = task.description || '';

            if (task.type === 'weekly' && task.weekDay !== undefined) {
                document.getElementById('weekDay').value = task.weekDay;
            }
            if (task.type === 'monthly' && task.monthDay !== undefined) {
                document.getElementById('monthDay').value = task.monthDay;
            }

            updateTimeOptions();
            showModal('addTaskModal');
        }

        // åˆ é™¤ä»»åŠ¡
        function deleteTask(taskId) {
            if (confirm('ç¡®å®šè¦åˆ é™¤è¿™ä¸ªå®šæ—¶ä»»åŠ¡å—ï¼Ÿ')) {
                scheduledTasks = scheduledTasks.filter(task => task.id !== taskId);
                updateTaskList();
                updateTaskStatistics();
                showNotification('å®šæ—¶ä»»åŠ¡å·²åˆ é™¤', 'success');
            }
        }

        // åˆ‡æ¢ä»»åŠ¡å¯ç”¨çŠ¶æ€
        function toggleTask(taskId, enabled) {
            const task = scheduledTasks.find(t => t.id === taskId);
            if (task) {
                task.enabled = enabled;
                updateTaskStatistics();
                showNotification(`ä»»åŠ¡ "${task.name}" å·²${enabled ? 'å¯ç”¨' : 'ç¦ç”¨'}`, 'success');
            }
        }

        // æ›´æ–°æ—¶é—´é€‰é¡¹
        function updateTimeOptions() {
            const taskType = document.getElementById('taskType').value;
            const weekDaySelector = document.getElementById('weekDaySelector');
            const monthDaySelector = document.getElementById('monthDaySelector');

            weekDaySelector.style.display = taskType === 'weekly' ? 'block' : 'none';
            monthDaySelector.style.display = taskType === 'monthly' ? 'block' : 'none';

            if (taskType === 'monthly') {
                const monthDaySelect = document.getElementById('monthDay');
                monthDaySelect.innerHTML = '';
                for (let i = 1; i <= 31; i++) {
                    const option = document.createElement('option');
                    option.value = i;
                    option.textContent = i + 'æ—¥';
                    monthDaySelect.appendChild(option);
                }
            }
        }

        // ä¿å­˜ä»»åŠ¡
        function saveTask() {
            const name = document.getElementById('taskName').value.trim();
            const type = document.getElementById('taskType').value;
            const time = document.getElementById('taskTime').value;
            const action = document.getElementById('taskAction').value;
            const target = document.getElementById('targetBreaker').value;
            const description = document.getElementById('taskDescription').value.trim();

            if (!name || !time) {
                showNotification('è¯·å¡«å†™ä»»åŠ¡åç§°å’Œæ‰§è¡Œæ—¶é—´', 'error');
                return;
            }

            const taskData = {
                name,
                time,
                type,
                action,
                target,
                description,
                enabled: true
            };

            if (type === 'weekly') {
                taskData.weekDay = parseInt(document.getElementById('weekDay').value);
            }
            if (type === 'monthly') {
                taskData.monthDay = parseInt(document.getElementById('monthDay').value);
            }

            if (currentEditingTask) {
                // ç¼–è¾‘ç°æœ‰ä»»åŠ¡
                Object.assign(currentEditingTask, taskData);
                showNotification('å®šæ—¶ä»»åŠ¡å·²æ›´æ–°', 'success');
            } else {
                // æ·»åŠ æ–°ä»»åŠ¡
                taskData.id = Math.max(...scheduledTasks.map(t => t.id), 0) + 1;
                scheduledTasks.push(taskData);
                showNotification('å®šæ—¶ä»»åŠ¡å·²æ·»åŠ ', 'success');
            }

            updateTaskList();
            updateTaskStatistics();
            hideModal('addTaskModal');
        }

        // æ›´æ–°ä»»åŠ¡åˆ—è¡¨æ˜¾ç¤º
        function updateTaskList() {
            const tbody = document.getElementById('taskListBody');
            tbody.innerHTML = scheduledTasks.map(task => {
                const actionColor = task.action === 'close' ? '#ff4d4f' : '#52c41a';
                const actionBg = task.action === 'close' ? '#fff2f0' : '#f6ffed';
                const actionText = task.action === 'close' ? 'åˆ†é—¸' : 'åˆé—¸';
                const targetText = task.target === 'breaker1' ? 'æ–­è·¯å™¨#1' : 'æ–­è·¯å™¨#2';

                let timeDisplay = task.time;
                if (task.type === 'weekly') {
                    const weekDays = ['æ—¥', 'ä¸€', 'äºŒ', 'ä¸‰', 'å››', 'äº”', 'å…­'];
                    timeDisplay = `å‘¨${weekDays[task.weekDay]} ${task.time}`;
                } else if (task.type === 'monthly') {
                    timeDisplay = `æ¯æœˆ${task.monthDay}æ—¥ ${task.time}`;
                }

                return `
                    <tr>
                        <td style="padding: 12px; border-bottom: 1px solid #f0f0f0;">
                            <div style="font-weight: bold;">${task.name}</div>
                            <div style="color: #666; font-size: 12px;">${task.description}</div>
                        </td>
                        <td style="padding: 12px; border-bottom: 1px solid #f0f0f0;">${timeDisplay}</td>
                        <td style="padding: 12px; border-bottom: 1px solid #f0f0f0;">
                            <span style="background: ${actionBg}; color: ${actionColor}; padding: 2px 8px; border-radius: 12px; font-size: 12px;">${actionText}</span>
                        </td>
                        <td style="padding: 12px; border-bottom: 1px solid #f0f0f0;">${targetText}</td>
                        <td style="padding: 12px; border-bottom: 1px solid #f0f0f0;">
                            <label class="switch">
                                <input type="checkbox" ${task.enabled ? 'checked' : ''} onchange="toggleTask(${task.id}, this.checked)">
                                <span class="slider"></span>
                            </label>
                        </td>
                        <td style="padding: 12px; border-bottom: 1px solid #f0f0f0;">
                            <button class="btn" style="padding: 4px 8px; font-size: 12px; margin-right: 4px;" onclick="editTask(${task.id})">ç¼–è¾‘</button>
                            <button class="btn btn-danger" style="padding: 4px 8px; font-size: 12px;" onclick="deleteTask(${task.id})">åˆ é™¤</button>
                        </td>
                    </tr>
                `;
            }).join('');
        }

        // AIæ™ºèƒ½ç­–ç•¥ç®¡ç†
        let aiStrategies = [
            {
                id: 1,
                name: 'æ¸©åº¦ä¿æŠ¤ç­–ç•¥',
                type: 'temperature',
                condition: 'å‡ºé£å£æ¸©åº¦ > 60Â°C',
                action: 'è‡ªåŠ¨å…³æœº + å»¶è¿Ÿæ–­ç”µ',
                enabled: true,
                lastExecuted: 'ä»æœªè§¦å‘'
            },
            {
                id: 2,
                name: 'èŠ‚èƒ½ä¼˜åŒ–ç­–ç•¥',
                type: 'energy',
                condition: 'éå·¥ä½œæ—¶é—´ + CPU < 20%',
                action: 'è‡ªåŠ¨æ–­ç”µ',
                enabled: true,
                lastExecuted: '2025-09-14 23:00:00'
            }
        ];

        // æ˜¾ç¤ºæ–°å¢ç­–ç•¥æ¨¡æ€æ¡†
        function showAddStrategyModal() {
            // é‡ç½®è¡¨å•
            document.getElementById('strategyName').value = '';
            document.getElementById('strategyType').value = 'temperature';
            document.getElementById('conditionParam').value = 'temperature';
            document.getElementById('conditionOperator').value = '>';
            document.getElementById('conditionValue').value = '';
            document.getElementById('strategyDescription').value = '';

            // é‡ç½®å¤é€‰æ¡†
            document.getElementById('actionShutdown').checked = false;
            document.getElementById('actionBreaker').checked = false;
            document.getElementById('actionNotify').checked = true;
            document.getElementById('strategyEnabled').checked = true;
            document.getElementById('strategyLogging').checked = true;

            // éšè—åŠ¨ä½œé€‰é¡¹
            document.getElementById('shutdownOptions').style.display = 'none';
            document.getElementById('breakerOptions').style.display = 'none';
            document.getElementById('notifyOptions').style.display = 'none';

            updateStrategyOptions();
            updateConditionOptions();

            showModal('addStrategyModal');
        }

        // æ›´æ–°ç­–ç•¥é€‰é¡¹
        function updateStrategyOptions() {
            const strategyType = document.getElementById('strategyType').value;
            const conditionParam = document.getElementById('conditionParam');

            // æ ¹æ®ç­–ç•¥ç±»å‹æ›´æ–°æ¡ä»¶å‚æ•°é€‰é¡¹
            const paramOptions = {
                temperature: [
                    { value: 'temperature', text: 'æ¸©åº¦' },
                    { value: 'cpu_temp', text: 'CPUæ¸©åº¦' },
                    { value: 'ambient_temp', text: 'ç¯å¢ƒæ¸©åº¦' }
                ],
                humidity: [
                    { value: 'humidity', text: 'æ¹¿åº¦' },
                    { value: 'dew_point', text: 'éœ²ç‚¹æ¸©åº¦' }
                ],
                power: [
                    { value: 'power', text: 'åŠŸè€—' },
                    { value: 'current', text: 'ç”µæµ' },
                    { value: 'voltage', text: 'ç”µå‹' }
                ],
                time: [
                    { value: 'time', text: 'æ—¶é—´' },
                    { value: 'weekday', text: 'æ˜ŸæœŸ' }
                ],
                energy: [
                    { value: 'cpu', text: 'CPUä½¿ç”¨ç‡' },
                    { value: 'memory', text: 'å†…å­˜ä½¿ç”¨ç‡' },
                    { value: 'power', text: 'åŠŸè€—' }
                ],
                safety: [
                    { value: 'temperature', text: 'æ¸©åº¦' },
                    { value: 'smoke', text: 'çƒŸé›¾æ£€æµ‹' },
                    { value: 'vibration', text: 'éœ‡åŠ¨æ£€æµ‹' }
                ]
            };

            const options = paramOptions[strategyType] || paramOptions.temperature;
            conditionParam.innerHTML = options.map(opt =>
                `<option value="${opt.value}">${opt.text}</option>`
            ).join('');

            updateConditionOptions();
        }

        // æ›´æ–°æ¡ä»¶é€‰é¡¹
        function updateConditionOptions() {
            const param = document.getElementById('conditionParam').value;
            const unitElement = document.getElementById('conditionUnit');
            const valueInput = document.getElementById('conditionValue');

            const units = {
                temperature: 'Â°C',
                cpu_temp: 'Â°C',
                ambient_temp: 'Â°C',
                humidity: '%',
                dew_point: 'Â°C',
                power: 'W',
                current: 'A',
                voltage: 'V',
                cpu: '%',
                memory: '%',
                time: '',
                weekday: '',
                smoke: '',
                vibration: ''
            };

            const placeholders = {
                temperature: '60',
                cpu_temp: '80',
                ambient_temp: '35',
                humidity: '80',
                dew_point: '25',
                power: '1000',
                current: '5',
                voltage: '220',
                cpu: '20',
                memory: '80',
                time: '23:00',
                weekday: '1',
                smoke: 'æ£€æµ‹åˆ°',
                vibration: 'å¼‚å¸¸'
            };

            unitElement.textContent = units[param] || '';
            valueInput.placeholder = placeholders[param] || 'é˜ˆå€¼';
        }

        // åˆ‡æ¢åŠ¨ä½œé€‰é¡¹æ˜¾ç¤º
        document.getElementById('actionShutdown').addEventListener('change', function() {
            document.getElementById('shutdownOptions').style.display = this.checked ? 'block' : 'none';
        });

        document.getElementById('actionBreaker').addEventListener('change', function() {
            document.getElementById('breakerOptions').style.display = this.checked ? 'block' : 'none';
        });

        document.getElementById('actionNotify').addEventListener('change', function() {
            document.getElementById('notifyOptions').style.display = this.checked ? 'block' : 'none';
        });

        // ä¿å­˜ç­–ç•¥
        function saveStrategy() {
            const name = document.getElementById('strategyName').value.trim();
            const type = document.getElementById('strategyType').value;
            const param = document.getElementById('conditionParam').value;
            const operator = document.getElementById('conditionOperator').value;
            const value = document.getElementById('conditionValue').value.trim();
            const description = document.getElementById('strategyDescription').value.trim();

            if (!name || !value) {
                showNotification('è¯·å¡«å†™ç­–ç•¥åç§°å’Œè§¦å‘æ¡ä»¶', 'error');
                return;
            }

            // æ„å»ºæ¡ä»¶æè¿°
            const paramNames = {
                temperature: 'å‡ºé£å£æ¸©åº¦',
                cpu_temp: 'CPUæ¸©åº¦',
                ambient_temp: 'ç¯å¢ƒæ¸©åº¦',
                humidity: 'æ¹¿åº¦',
                power: 'åŠŸè€—',
                current: 'ç”µæµ',
                voltage: 'ç”µå‹',
                cpu: 'CPUä½¿ç”¨ç‡',
                memory: 'å†…å­˜ä½¿ç”¨ç‡'
            };

            const units = {
                temperature: 'Â°C',
                cpu_temp: 'Â°C',
                ambient_temp: 'Â°C',
                humidity: '%',
                power: 'W',
                current: 'A',
                voltage: 'V',
                cpu: '%',
                memory: '%'
            };

            const condition = `${paramNames[param] || param} ${operator} ${value}${units[param] || ''}`;

            // æ„å»ºåŠ¨ä½œæè¿°
            const actions = [];
            if (document.getElementById('actionShutdown').checked) {
                actions.push('è‡ªåŠ¨å…³æœº');
            }
            if (document.getElementById('actionBreaker').checked) {
                const breakerAction = document.getElementById('breakerAction').value === 'close' ? 'æ–­ç”µ' : 'é€šç”µ';
                const delay = document.getElementById('breakerDelay').value;
                actions.push(`å»¶è¿Ÿ${delay}ç§’${breakerAction}`);
            }
            if (document.getElementById('actionNotify').checked) {
                actions.push('å‘é€é€šçŸ¥');
            }

            const action = actions.join(' + ') || 'æ— åŠ¨ä½œ';

            // åˆ›å»ºæ–°ç­–ç•¥
            const newStrategy = {
                id: Math.max(...aiStrategies.map(s => s.id), 0) + 1,
                name,
                type,
                condition,
                action,
                enabled: document.getElementById('strategyEnabled').checked,
                lastExecuted: 'ä»æœªè§¦å‘',
                description
            };

            aiStrategies.push(newStrategy);

            showNotification(`AIæ™ºèƒ½ç­–ç•¥ "${name}" å·²åˆ›å»ºæˆåŠŸ`, 'success');
            hideModal('addStrategyModal');

            // è¿™é‡Œå¯ä»¥æ·»åŠ æ›´æ–°ç­–ç•¥åˆ—è¡¨æ˜¾ç¤ºçš„ä»£ç 
            console.log('æ–°å¢ç­–ç•¥:', newStrategy);
        }

        // å‘Šè­¦è§„åˆ™ç®¡ç†
        let alarmRules = [
            {
                id: 1,
                name: 'æ¸©åº¦å¼‚å¸¸å‘Šè­¦',
                type: 'temperature',
                condition: 'ä»»æ„æ¢å¤´ > 50Â°C',
                level: 'warning',
                notifications: ['system', 'email'],
                enabled: true,
                lastTriggered: 'ä»æœªè§¦å‘'
            },
            {
                id: 2,
                name: 'åŠŸè€—è¿‡è½½å‘Šè­¦',
                type: 'power',
                condition: 'æ€»åŠŸè€— > 2000W',
                level: 'error',
                notifications: ['system', 'dingtalk', 'sms'],
                enabled: true,
                lastTriggered: '2025-09-14 15:30:00'
            }
        ];

        // æ˜¾ç¤ºæ–°å¢å‘Šè­¦è§„åˆ™æ¨¡æ€æ¡†
        function showAddAlarmRuleModal() {
            // é‡ç½®è¡¨å•
            document.getElementById('alarmRuleName').value = '';
            document.getElementById('alarmType').value = 'temperature';
            document.getElementById('alarmConditionParam').value = 'temperature';
            document.getElementById('alarmConditionOperator').value = '>';
            document.getElementById('alarmConditionValue').value = '';
            document.getElementById('alarmDuration').value = '5';
            document.getElementById('alarmRuleDescription').value = '';

            // é‡ç½®å‘Šè­¦ç­‰çº§
            document.querySelector('input[name="alarmLevel"][value="warning"]').checked = true;

            // é‡ç½®é€šçŸ¥æ–¹å¼
            document.getElementById('notifySystem').checked = true;
            document.getElementById('notifyEmail').checked = false;
            document.getElementById('notifyDingTalk').checked = false;

            // é‡ç½®é«˜çº§è®¾ç½®
            document.getElementById('alarmRuleEnabled').checked = true;
            document.getElementById('alarmRuleLogging').checked = true;
            document.getElementById('alarmRuleAutoRecover').checked = false;

            // éšè—é…ç½®åŒºåŸŸ
            document.getElementById('dingTalkConfig').style.display = 'none';
            document.getElementById('emailConfig').style.display = 'none';

            updateAlarmConditions();
            updateAlarmUnits();

            showModal('addAlarmRuleModal');
        }

        // æ›´æ–°å‘Šè­¦æ¡ä»¶é€‰é¡¹
        function updateAlarmConditions() {
            const alarmType = document.getElementById('alarmType').value;
            const conditionParam = document.getElementById('alarmConditionParam');

            const paramOptions = {
                temperature: [
                    { value: 'temperature', text: 'å‡ºé£å£æ¸©åº¦' },
                    { value: 'ambient_temp', text: 'ç¯å¢ƒæ¸©åº¦' },
                    { value: 'cpu_temp', text: 'CPUæ¸©åº¦' },
                    { value: 'inlet_temp', text: 'è¿›é£å£æ¸©åº¦' }
                ],
                humidity: [
                    { value: 'humidity', text: 'ç›¸å¯¹æ¹¿åº¦' },
                    { value: 'absolute_humidity', text: 'ç»å¯¹æ¹¿åº¦' },
                    { value: 'dew_point', text: 'éœ²ç‚¹æ¸©åº¦' }
                ],
                power: [
                    { value: 'total_power', text: 'æ€»åŠŸè€—' },
                    { value: 'server_power', text: 'æœåŠ¡å™¨åŠŸè€—' },
                    { value: 'cooling_power', text: 'åˆ¶å†·åŠŸè€—' }
                ],
                voltage: [
                    { value: 'input_voltage', text: 'è¾“å…¥ç”µå‹' },
                    { value: 'output_voltage', text: 'è¾“å‡ºç”µå‹' },
                    { value: 'ups_voltage', text: 'UPSç”µå‹' }
                ],
                current: [
                    { value: 'input_current', text: 'è¾“å…¥ç”µæµ' },
                    { value: 'output_current', text: 'è¾“å‡ºç”µæµ' },
                    { value: 'neutral_current', text: 'é›¶çº¿ç”µæµ' }
                ],
                device: [
                    { value: 'device_status', text: 'è®¾å¤‡çŠ¶æ€' },
                    { value: 'connection_status', text: 'è¿æ¥çŠ¶æ€' },
                    { value: 'response_time', text: 'å“åº”æ—¶é—´' }
                ],
                network: [
                    { value: 'ping_status', text: 'PingçŠ¶æ€' },
                    { value: 'bandwidth_usage', text: 'å¸¦å®½ä½¿ç”¨ç‡' },
                    { value: 'packet_loss', text: 'ä¸¢åŒ…ç‡' }
                ],
                system: [
                    { value: 'cpu_usage', text: 'CPUä½¿ç”¨ç‡' },
                    { value: 'memory_usage', text: 'å†…å­˜ä½¿ç”¨ç‡' },
                    { value: 'disk_usage', text: 'ç£ç›˜ä½¿ç”¨ç‡' }
                ]
            };

            const options = paramOptions[alarmType] || paramOptions.temperature;
            conditionParam.innerHTML = options.map(opt =>
                `<option value="${opt.value}">${opt.text}</option>`
            ).join('');

            updateAlarmUnits();
        }

        // æ›´æ–°å‘Šè­¦å•ä½
        function updateAlarmUnits() {
            const param = document.getElementById('alarmConditionParam').value;
            const unitElement = document.getElementById('alarmConditionUnit');
            const valueInput = document.getElementById('alarmConditionValue');

            const units = {
                temperature: 'Â°C',
                ambient_temp: 'Â°C',
                cpu_temp: 'Â°C',
                inlet_temp: 'Â°C',
                humidity: '%',
                absolute_humidity: 'g/mÂ³',
                dew_point: 'Â°C',
                total_power: 'W',
                server_power: 'W',
                cooling_power: 'W',
                input_voltage: 'V',
                output_voltage: 'V',
                ups_voltage: 'V',
                input_current: 'A',
                output_current: 'A',
                neutral_current: 'A',
                response_time: 'ms',
                bandwidth_usage: '%',
                packet_loss: '%',
                cpu_usage: '%',
                memory_usage: '%',
                disk_usage: '%'
            };

            const placeholders = {
                temperature: '50',
                ambient_temp: '35',
                cpu_temp: '80',
                inlet_temp: '25',
                humidity: '80',
                absolute_humidity: '15',
                dew_point: '20',
                total_power: '2000',
                server_power: '1500',
                cooling_power: '500',
                input_voltage: '220',
                output_voltage: '220',
                ups_voltage: '220',
                input_current: '10',
                output_current: '8',
                neutral_current: '2',
                response_time: '1000',
                bandwidth_usage: '90',
                packet_loss: '5',
                cpu_usage: '90',
                memory_usage: '85',
                disk_usage: '90'
            };

            unitElement.textContent = units[param] || '';
            valueInput.placeholder = placeholders[param] || 'é˜ˆå€¼';
        }

        // é€šçŸ¥æ–¹å¼å˜åŒ–å¤„ç†
        document.getElementById('notifyDingTalk').addEventListener('change', function() {
            document.getElementById('dingTalkConfig').style.display = this.checked ? 'block' : 'none';
        });

        document.getElementById('notifyEmail').addEventListener('change', function() {
            document.getElementById('emailConfig').style.display = this.checked ? 'block' : 'none';
        });

        // ä¿å­˜å‘Šè­¦è§„åˆ™
        function saveAlarmRule() {
            const name = document.getElementById('alarmRuleName').value.trim();
            const type = document.getElementById('alarmType').value;
            const param = document.getElementById('alarmConditionParam').value;
            const operator = document.getElementById('alarmConditionOperator').value;
            const value = document.getElementById('alarmConditionValue').value.trim();
            const duration = document.getElementById('alarmDuration').value;
            const description = document.getElementById('alarmRuleDescription').value.trim();

            if (!name || !value) {
                showNotification('è¯·å¡«å†™è§„åˆ™åç§°å’Œè§¦å‘æ¡ä»¶', 'error');
                return;
            }

            // è·å–å‘Šè­¦ç­‰çº§
            const level = document.querySelector('input[name="alarmLevel"]:checked').value;

            // è·å–é€šçŸ¥æ–¹å¼
            const notifications = [];
            if (document.getElementById('notifySystem').checked) notifications.push('system');
            if (document.getElementById('notifyEmail').checked) notifications.push('email');
            if (document.getElementById('notifyDingTalk').checked) notifications.push('dingtalk');

            if (notifications.length === 0) {
                showNotification('è¯·è‡³å°‘é€‰æ‹©ä¸€ç§é€šçŸ¥æ–¹å¼', 'error');
                return;
            }

            // æ„å»ºæ¡ä»¶æè¿°
            const paramNames = {
                temperature: 'å‡ºé£å£æ¸©åº¦',
                ambient_temp: 'ç¯å¢ƒæ¸©åº¦',
                cpu_temp: 'CPUæ¸©åº¦',
                inlet_temp: 'è¿›é£å£æ¸©åº¦',
                humidity: 'ç›¸å¯¹æ¹¿åº¦',
                total_power: 'æ€»åŠŸè€—',
                input_voltage: 'è¾“å…¥ç”µå‹',
                input_current: 'è¾“å…¥ç”µæµ'
            };

            const units = {
                temperature: 'Â°C',
                ambient_temp: 'Â°C',
                cpu_temp: 'Â°C',
                humidity: '%',
                total_power: 'W',
                input_voltage: 'V',
                input_current: 'A'
            };

            const condition = `${paramNames[param] || param} ${operator} ${value}${units[param] || ''}`;

            // éªŒè¯é’‰é’‰é…ç½®
            if (notifications.includes('dingtalk')) {
                const webhook = document.getElementById('dingTalkWebhook').value.trim();
                if (!webhook) {
                    showNotification('å¯ç”¨é’‰é’‰é€šçŸ¥æ—¶ï¼Œè¯·å¡«å†™Webhookåœ°å€', 'error');
                    return;
                }
                if (!webhook.startsWith('https://oapi.dingtalk.com/robot/send')) {
                    showNotification('é’‰é’‰Webhookåœ°å€æ ¼å¼ä¸æ­£ç¡®', 'error');
                    return;
                }
            }

            // åˆ›å»ºæ–°è§„åˆ™
            const newRule = {
                id: Math.max(...alarmRules.map(r => r.id), 0) + 1,
                name,
                type,
                condition,
                level,
                notifications,
                enabled: document.getElementById('alarmRuleEnabled').checked,
                lastTriggered: 'ä»æœªè§¦å‘',
                description,
                duration: parseInt(duration),
                config: {
                    dingtalk: notifications.includes('dingtalk') ? {
                        webhook: document.getElementById('dingTalkWebhook').value.trim(),
                        secret: document.getElementById('dingTalkSecret').value.trim(),
                        atMobiles: document.getElementById('dingTalkAtMobiles').value.trim().split(',').filter(m => m.trim())
                    } : null,
                    email: notifications.includes('email') ? {
                        recipients: document.getElementById('emailRecipients').value.trim().split(',').filter(e => e.trim())
                    } : null
                }
            };

            alarmRules.push(newRule);

            showNotification(`å‘Šè­¦è§„åˆ™ "${name}" å·²åˆ›å»ºæˆåŠŸ`, 'success');
            hideModal('addAlarmRuleModal');

            // è¿™é‡Œå¯ä»¥æ·»åŠ æ›´æ–°è§„åˆ™åˆ—è¡¨æ˜¾ç¤ºçš„ä»£ç 
            console.log('æ–°å¢å‘Šè­¦è§„åˆ™:', newRule);
        }

        function executeBreakerControl() {
            showNotification('æ–­è·¯å™¨æ§åˆ¶æ“ä½œå·²æ‰§è¡Œï¼è¯·æ³¨æ„å®‰å…¨ï¼', 'warning');
            hideModal('breakerControlModal');
        }

        function executeEmergencyPowerOff() {
            showNotification('ç´§æ€¥æ–­ç”µæ“ä½œå·²æ‰§è¡Œï¼æ‰€æœ‰ç”µæºå·²åˆ‡æ–­ï¼', 'error');
            hideModal('emergencyPowerOffModal');
        }

        function executeSystemLock() {
            showNotification('ç³»ç»Ÿå·²é”å®šï¼æ‰€æœ‰æ§åˆ¶åŠŸèƒ½å·²ç¦ç”¨ï¼', 'warning');
            hideModal('systemLockModal');
        }

        // æ¨¡æ‹Ÿå®æ—¶æ•°æ®æ›´æ–°
        function updateRealTimeData() {
            // æ›´æ–°æ¸©åº¦æ•°æ®
            const tempElements = document.querySelectorAll('.temp-value');
            tempElements.forEach(element => {
                const baseTemp = parseFloat(element.textContent) || 25;
                const newTemp = (baseTemp + (Math.random() - 0.5) * 2).toFixed(1);
                element.textContent = newTemp;
            });

            // æ›´æ–°æ—¶é—´æˆ³
            const timeElements = document.querySelectorAll('.last-update');
            const now = new Date().toLocaleString('zh-CN');
            timeElements.forEach(element => {
                element.textContent = `æœ€åæ›´æ–°: ${now}`;
            });
        }

        // æ–°å¢å¼¹çª—ç›¸å…³å‡½æ•°
        function exportData() {
            showNotification('æ•°æ®å¯¼å‡ºå·²å¼€å§‹ï¼Œè¯·ç¨å€™...', 'info');
            hideModal('exportDataModal');
        }

        function saveDeviceConfig() {
            showNotification('è®¾å¤‡é…ç½®å·²ä¿å­˜', 'success');
            hideModal('deviceConfigModal');
        }

        function saveUserEdit() {
            showNotification('ç”¨æˆ·ä¿¡æ¯å·²æ›´æ–°', 'success');
            hideModal('userEditModal');
        }

        function saveAiStrategy() {
            showNotification('AIç­–ç•¥å·²ä¿å­˜', 'success');
            hideModal('aiStrategyEditModal');
        }

        function saveAlarmRule() {
            showNotification('å‘Šè­¦è§„åˆ™å·²ä¿å­˜', 'success');
            hideModal('alarmRuleEditModal');
        }

        function changeTimeRange(range, clickedButton) {
            // ç§»é™¤æ—¶é—´èŒƒå›´æŒ‰é’®ç»„ä¸­æ‰€æœ‰æŒ‰é’®çš„activeçŠ¶æ€
            document.querySelectorAll('.time-range-buttons .btn').forEach(btn => {
                btn.classList.remove('active');
            });

            // è®¾ç½®å½“å‰æŒ‰é’®ä¸ºactive
            if (clickedButton) {
                clickedButton.classList.add('active');
            }

            showNotification(`æ—¶é—´èŒƒå›´å·²åˆ‡æ¢åˆ°: ${range}`, 'info');
        }

        function addNewServer() {
            // è·å–è¡¨å•æ•°æ®
            const serverName = document.querySelector('#addServerModal input[placeholder*="æœåŠ¡å™¨åç§°"]').value;
            const serverIP = document.querySelector('#addServerModal input[placeholder*="192.168.110.102"]').value;
            const authMethod = document.getElementById('authMethodSelect').value;

            if (!serverName || !serverIP) {
                showNotification('è¯·å¡«å†™æœåŠ¡å™¨åç§°å’ŒIPåœ°å€', 'error');
                return;
            }

            // æ£€æŸ¥è®¤è¯ä¿¡æ¯
            let authValid = false;
            let authInfo = '';

            switch(authMethod) {
                case 'rsa':
                    const rsaContent = document.querySelector('#rsaAuthFields textarea').value.trim();
                    if (rsaContent) {
                        if (rsaContent.includes('-----BEGIN') && rsaContent.includes('-----END')) {
                            authValid = true;
                            authInfo = 'RSAå¯†é’¥è®¤è¯';
                        } else {
                            showNotification('RSAç§é’¥æ ¼å¼ä¸æ­£ç¡®ï¼Œè¯·ç¡®ä¿åŒ…å«BEGINå’ŒENDæ ‡è®°', 'error');
                            return;
                        }
                    } else {
                        showNotification('è¯·è¾“å…¥RSAç§é’¥å†…å®¹', 'error');
                        return;
                    }
                    break;
                case 'password':
                    const password1 = document.getElementById('password1').value;
                    const password2 = document.getElementById('password2').value;

                    if (!password1 || !password2) {
                        showNotification('è¯·è¾“å…¥å¯†ç å¹¶ç¡®è®¤', 'error');
                        return;
                    }

                    if (password1 !== password2) {
                        showNotification('ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸åŒ¹é…', 'error');
                        return;
                    }

                    if (password1.length < 6) {
                        showNotification('å¯†ç é•¿åº¦è‡³å°‘6ä½', 'error');
                        return;
                    }

                    authValid = true;
                    authInfo = 'å¯†ç è®¤è¯';
                    break;
                case 'certificate':
                    const certContent = document.querySelector('#certificateAuthFields textarea:first-of-type').value.trim();
                    const keyContent = document.querySelector('#certificateAuthFields textarea:last-of-type').value.trim();

                    if (!certContent || !keyContent) {
                        showNotification('è¯·è¾“å…¥è¯ä¹¦å†…å®¹å’Œç§é’¥å†…å®¹', 'error');
                        return;
                    }

                    if (!certContent.includes('-----BEGIN CERTIFICATE-----') || !keyContent.includes('-----BEGIN')) {
                        showNotification('è¯ä¹¦æˆ–ç§é’¥æ ¼å¼ä¸æ­£ç¡®', 'error');
                        return;
                    }

                    authValid = true;
                    authInfo = 'è¯ä¹¦è®¤è¯';
                    break;
            }

            // æ¨¡æ‹Ÿæ·»åŠ æœåŠ¡å™¨è¿‡ç¨‹
            showNotification('æ­£åœ¨æ·»åŠ æœåŠ¡å™¨ï¼Œè¯·ç¨å€™...', 'info');

            setTimeout(() => {
                showNotification(`æœåŠ¡å™¨ "${serverName}" (${serverIP}) æ·»åŠ æˆåŠŸï¼\nè®¤è¯æ–¹å¼: ${authInfo}`, 'success');
                hideModal('addServerModal');

                // æ¸…ç©ºè¡¨å•
                document.querySelector('#addServerModal input[placeholder*="æœåŠ¡å™¨åç§°"]').value = '';
                document.querySelector('#addServerModal input[placeholder*="192.168.110.102"]').value = '';
                document.getElementById('password1').value = '';
                document.getElementById('password2').value = '';
                document.getElementById('passwordMatchMsg').textContent = '';

                // æ¸…ç©ºæ‰€æœ‰textarea
                document.querySelectorAll('#addServerModal textarea').forEach(textarea => {
                    textarea.value = '';
                });

                // é‡ç½®è®¤è¯æ–¹å¼é€‰æ‹©
                document.getElementById('authMethodSelect').value = 'rsa';
                toggleAuthFields();
            }, 2000);
        }

        function refreshServerInfo() {
            showNotification('æ­£åœ¨åˆ·æ–°æœåŠ¡å™¨ä¿¡æ¯...', 'info');

            // æ¨¡æ‹Ÿåˆ·æ–°è¿‡ç¨‹
            setTimeout(() => {
                showNotification('æœåŠ¡å™¨ä¿¡æ¯å·²æ›´æ–°', 'success');

                // æ¨¡æ‹Ÿæ›´æ–°ä¸€äº›æ•°æ®
                const cpuElements = document.querySelectorAll('.status-subtitle');
                cpuElements.forEach(element => {
                    if (element.textContent.includes('CPU:')) {
                        const randomCpu = Math.floor(Math.random() * 30) + 10;
                        const randomMem = Math.floor(Math.random() * 40) + 40;
                        element.textContent = `CPU: ${randomCpu}% | å†…å­˜: ${randomMem}% | æ­£å¸¸`;
                    }
                });
            }, 1500);
        }

        // åˆ‡æ¢è®¤è¯æ–¹å¼å­—æ®µ
        function toggleAuthFields() {
            const authMethod = document.getElementById('authMethodSelect').value;
            const rsaFields = document.getElementById('rsaAuthFields');
            const passwordFields = document.getElementById('passwordAuthFields');
            const certificateFields = document.getElementById('certificateAuthFields');

            // éšè—æ‰€æœ‰è®¤è¯å­—æ®µ
            rsaFields.style.display = 'none';
            passwordFields.style.display = 'none';
            certificateFields.style.display = 'none';

            // æ ¹æ®é€‰æ‹©æ˜¾ç¤ºå¯¹åº”å­—æ®µ
            switch(authMethod) {
                case 'rsa':
                    rsaFields.style.display = 'block';
                    break;
                case 'password':
                    passwordFields.style.display = 'block';
                    break;
                case 'certificate':
                    certificateFields.style.display = 'block';
                    break;
            }
        }

        // æ£€æŸ¥å¯†ç åŒ¹é…
        function checkPasswordMatch() {
            const password1 = document.getElementById('password1').value;
            const password2 = document.getElementById('password2').value;
            const msgElement = document.getElementById('passwordMatchMsg');

            if (password2 === '') {
                msgElement.textContent = '';
                msgElement.style.color = '';
                return;
            }

            if (password1 === password2) {
                msgElement.textContent = 'âœ… å¯†ç åŒ¹é…';
                msgElement.style.color = '#52c41a';
            } else {
                msgElement.textContent = 'âŒ å¯†ç ä¸åŒ¹é…';
                msgElement.style.color = '#ff4d4f';
            }
        }

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            showPage('dashboard', '', 'ğŸ  ç³»ç»Ÿæ¦‚è§ˆ');

            // é»˜è®¤å±•å¼€æ‰€æœ‰å­èœå•ï¼Œæ–¹ä¾¿ç”¨æˆ·æŸ¥çœ‹
            // å…ˆç¡®ä¿æ‰€æœ‰å­èœå•é¡¹éƒ½æ˜¯æ˜¾ç¤ºçŠ¶æ€
            document.querySelectorAll('.submenu-item').forEach(item => {
                item.style.display = 'block';
            });

            // å¯åŠ¨å®æ—¶æ•°æ®æ›´æ–°
            setInterval(updateRealTimeData, 5000);

            // æ˜¾ç¤ºæ¬¢è¿æ¶ˆæ¯
            setTimeout(() => {
                showNotification('æ™ºèƒ½æœºæˆ¿ç®¡ç†ç³»ç»Ÿå·²å¯åŠ¨ï¼', 'success');
            }, 1000);
        });
    </script>
</body>
</html>
