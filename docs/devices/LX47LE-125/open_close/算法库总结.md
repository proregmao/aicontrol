# LX47LE-125åˆ†é—¸åˆé—¸ç®—æ³•åº“æ€»ç»“

## ğŸ‰ å®Œæˆï¼åˆ†é—¸åˆé—¸ç®—æ³•åº“å·²æˆåŠŸä¿å­˜

### ğŸ“ **å·²ä¿å­˜çš„ç®—æ³•æ–‡ä»¶**

æ‰€æœ‰åˆ†é—¸åˆé—¸æ§åˆ¶ç®—æ³•å·²ä¿å­˜åˆ° `algorithm/LX47LE-125/open_close/` ç›®å½•ï¼š

```
algorithm/LX47LE-125/open_close/
â”œâ”€â”€ breaker_controller.go    # æ ¸å¿ƒæ§åˆ¶ç®—æ³• âœ…
â”œâ”€â”€ status_detector.go       # çŠ¶æ€æ£€æµ‹ç®—æ³• âœ…
â”œâ”€â”€ reset_manager.go         # å¤ä½ç®¡ç†ç®—æ³• âœ…
â”œâ”€â”€ example_usage.go         # ä½¿ç”¨ç¤ºä¾‹ç¨‹åº âœ…
â”œâ”€â”€ README.md               # å®Œæ•´ä½¿ç”¨è¯´æ˜æ–‡æ¡£ âœ…
â””â”€â”€ ç®—æ³•åº“æ€»ç»“.md           # æœ¬æ€»ç»“æ–‡æ¡£ âœ…
```

## ğŸš€ **æ ¸å¿ƒç®—æ³•åŠŸèƒ½**

### 1. **æ–­è·¯å™¨æ§åˆ¶ç®—æ³•** (`breaker_controller.go`)
- âœ… **å®‰å…¨åˆé—¸æ“ä½œ**: å¤šé‡éªŒè¯çš„åˆé—¸æ§åˆ¶
- âœ… **å®‰å…¨åˆ†é—¸æ“ä½œ**: å¿«é€Ÿå“åº”çš„åˆ†é—¸æ§åˆ¶
- âœ… **æ™ºèƒ½çŠ¶æ€åˆ‡æ¢**: è‡ªåŠ¨åˆ¤æ–­å½“å‰çŠ¶æ€å¹¶åˆ‡æ¢
- âœ… **çŠ¶æ€è¯»å–**: å¸¦è‡ªåŠ¨å¤ä½å’Œé‡è¯•çš„çŠ¶æ€è¯»å–
- âœ… **è®¾å¤‡å¤ä½**: è®¾å¤‡æ•…éšœæ—¶çš„å¤ä½æ¢å¤
- âœ… **å¥åº·æ£€æŸ¥**: è®¾å¤‡è¿æ¥çŠ¶æ€æ£€æŸ¥

**æ ¸å¿ƒå‡½æ•°**ï¼š
```go
func NewModbusClient(config DeviceConfig) (*ModbusClient, error)
func (mc *ModbusClient) ReadBreakerStatusWithRetry() (*BreakerStatus, error)
func (mc *ModbusClient) SafeCloseOperation() (*OperationResult, error)
func (mc *ModbusClient) SafeOpenOperation() (*OperationResult, error)
func (mc *ModbusClient) ToggleOperation() (*OperationResult, error)
func (mc *ModbusClient) ResetDevice() error
func (mc *ModbusClient) HealthCheck() error
```

### 2. **çŠ¶æ€æ£€æµ‹ç®—æ³•** (`status_detector.go`)
- âœ… **å•æ¬¡çŠ¶æ€æ£€æµ‹**: æ£€æµ‹è®¾å¤‡å½“å‰çŠ¶æ€å’Œå¼‚å¸¸
- âœ… **æ‰¹é‡çŠ¶æ€æ£€æµ‹**: æ‰§è¡Œå¤šæ¬¡æ£€æµ‹å¹¶ç»Ÿè®¡åˆ†æ
- âœ… **è¿ç»­çŠ¶æ€æ£€æµ‹**: åœ¨æŒ‡å®šæ—¶é—´å†…æŒç»­ç›‘æ§
- âœ… **çŠ¶æ€å˜åŒ–ç›‘æ§**: ç›‘æ§çŠ¶æ€å˜åŒ–å¹¶è§¦å‘å›è°ƒ
- âœ… **å¼‚å¸¸åˆ†æ**: è‡ªåŠ¨åˆ†æçŠ¶æ€å¼‚å¸¸å¹¶æä¾›å»ºè®®
- âœ… **ç»Ÿè®¡æŠ¥å‘Š**: ç”Ÿæˆè¯¦ç»†çš„çŠ¶æ€ç»Ÿè®¡æŠ¥å‘Š
- âœ… **å®æ—¶æ˜¾ç¤º**: å®æ—¶çŠ¶æ€ç›‘æ§æ˜¾ç¤º

**æ ¸å¿ƒå‡½æ•°**ï¼š
```go
func NewStatusDetector(client *ModbusClient, config MonitorConfig) *StatusDetector
func (sd *StatusDetector) DetectStatus() (*StatusDetectionResult, error)
func (sd *StatusDetector) BatchDetection(count int) ([]*StatusDetectionResult, error)
func (sd *StatusDetector) ContinuousDetection(duration time.Duration) ([]*StatusDetectionResult, error)
func (sd *StatusDetector) MonitorStatusChange(callback func(*BreakerStatus, *BreakerStatus)) error
func (sd *StatusDetector) AnalyzeStatusStatistics(results []*StatusDetectionResult) *StatusStatistics
func (sd *StatusDetector) DisplayRealTimeStatus()
```

### 3. **å¤ä½ç®¡ç†ç®—æ³•** (`reset_manager.go`)
- âœ… **é…ç½®å¤ä½**: é‡ç½®è®¾å¤‡é…ç½®å¹¶é‡å¯
- âœ… **è®°å½•æ¸…é›¶**: æ¸…é™¤å†å²è®°å½•å’Œç»Ÿè®¡æ•°æ®
- âœ… **å®Œå…¨å¤ä½**: æ‰§è¡Œå®Œæ•´çš„è®¾å¤‡å¤ä½
- âœ… **æ™ºèƒ½æ•…éšœæ¢å¤**: è‡ªåŠ¨é€‰æ‹©æœ€ä½³æ¢å¤ç­–ç•¥
- âœ… **å¸¦é‡è¯•å¤ä½**: æ”¯æŒå¤šæ¬¡é‡è¯•çš„å¤ä½æ“ä½œ
- âœ… **é¢„é˜²æ€§å¤ä½**: åŸºäºçŠ¶æ€åˆ†æçš„é¢„é˜²æ€§å¤ä½
- âœ… **å¤ä½ç›‘æ§**: ç›‘æ§å¤ä½çŠ¶æ€å¹¶è‡ªåŠ¨æ¢å¤

**æ ¸å¿ƒå‡½æ•°**ï¼š
```go
func NewResetManager(client *ModbusClient) *ResetManager
func (rm *ResetManager) ExecuteReset(resetType ResetType) (*ResetResult, error)
func (rm *ResetManager) SmartRecovery() (*ResetResult, error)
func (rm *ResetManager) ResetWithRetry(resetType ResetType, maxRetries int) (*ResetResult, error)
func (rm *ResetManager) PreventiveReset() (*ResetResult, error)
func (rm *ResetManager) MonitorResetStatus(callback func(*ResetResult))
```

## ğŸ“Š **æ”¯æŒçš„å®Œæ•´åŠŸèƒ½**

### **åŸºæœ¬æ§åˆ¶åŠŸèƒ½**
- âœ… **åˆé—¸æ“ä½œ**: å®‰å…¨çš„è¿œç¨‹åˆé—¸æ§åˆ¶
- âœ… **åˆ†é—¸æ“ä½œ**: å¿«é€Ÿçš„è¿œç¨‹åˆ†é—¸æ§åˆ¶
- âœ… **çŠ¶æ€åˆ‡æ¢**: æ™ºèƒ½çš„çŠ¶æ€åˆ‡æ¢æ“ä½œ
- âœ… **çŠ¶æ€è¯»å–**: å¯é çš„çŠ¶æ€è¯»å–å’Œè§£æ

### **é«˜çº§æ£€æµ‹åŠŸèƒ½**
- âœ… **å¥åº·æ£€æµ‹**: è®¾å¤‡å¥åº·çŠ¶æ€è¯„ä¼°
- âœ… **å¼‚å¸¸åˆ†æ**: è‡ªåŠ¨å¼‚å¸¸æ£€æµ‹å’Œåˆ†æ
- âœ… **ç»Ÿè®¡åˆ†æ**: çŠ¶æ€ç»Ÿè®¡å’Œè¶‹åŠ¿åˆ†æ
- âœ… **å®æ—¶ç›‘æ§**: æŒç»­çš„çŠ¶æ€ç›‘æ§

### **æ•…éšœæ¢å¤åŠŸèƒ½**
- âœ… **è‡ªåŠ¨å¤ä½**: æ•…éšœæ—¶è‡ªåŠ¨è®¾å¤‡å¤ä½
- âœ… **æ™ºèƒ½æ¢å¤**: è‡ªåŠ¨é€‰æ‹©æœ€ä½³æ¢å¤ç­–ç•¥
- âœ… **é‡è¯•æœºåˆ¶**: å¤šæ¬¡é‡è¯•ç¡®ä¿æ“ä½œæˆåŠŸ
- âœ… **é¢„é˜²ç»´æŠ¤**: åŸºäºçŠ¶æ€çš„é¢„é˜²æ€§å¤ä½

## ğŸ¯ **ä½¿ç”¨æ–¹æ³•**

### **åŸºæœ¬ä½¿ç”¨**
```go
import "algorithm/LX47LE-125/open_close"

// åˆ›å»ºé…ç½®
config := openclose.DeviceConfig{
    IP:        "192.168.110.50",
    Port:      503,
    StationID: 1,
    Timeout:   5 * time.Second,
}

// è¿æ¥è®¾å¤‡
client, err := openclose.NewModbusClient(config)
defer client.Close()

// è¯»å–çŠ¶æ€
status, err := client.ReadBreakerStatusWithRetry()

// æ‰§è¡Œæ“ä½œ
result, err := client.SafeCloseOperation()
```

### **çŠ¶æ€æ£€æµ‹**
```go
// åˆ›å»ºæ£€æµ‹å™¨
detector := openclose.NewStatusDetector(client, monitorConfig)

// æ‰§è¡Œæ£€æµ‹
result, err := detector.DetectStatus()

// æ‰¹é‡æ£€æµ‹
results, err := detector.BatchDetection(5)

// ç»Ÿè®¡åˆ†æ
stats := detector.AnalyzeStatusStatistics(results)
```

### **å¤ä½ç®¡ç†**
```go
// åˆ›å»ºå¤ä½ç®¡ç†å™¨
resetManager := openclose.NewResetManager(client)

// æ™ºèƒ½æ¢å¤
result, err := resetManager.SmartRecovery()

// å¸¦é‡è¯•å¤ä½
result, err := resetManager.ResetWithRetry(openclose.RESET_CONFIG, 3)
```

## ğŸ“ˆ **å®é™…éªŒè¯ç»“æœ**

### **åŠŸèƒ½éªŒè¯**
- âœ… **åˆé—¸æ“ä½œ**: 1ç§’å†…å®Œæˆï¼ŒæˆåŠŸç‡100%
- âœ… **åˆ†é—¸æ“ä½œ**: 1ç§’å†…å®Œæˆï¼ŒæˆåŠŸç‡100%
- âœ… **çŠ¶æ€è¯»å–**: æ”¯æŒè‡ªåŠ¨å¤ä½å’Œé‡è¯•
- âœ… **è®¾å¤‡å¤ä½**: 10ç§’å†…å®Œæˆè®¾å¤‡é‡å¯

### **å¯é æ€§éªŒè¯**
- âœ… **ç½‘ç»œå¼‚å¸¸**: è‡ªåŠ¨å¤ä½å’Œé‡è¿
- âœ… **è®¾å¤‡å¼‚å¸¸**: æ™ºèƒ½æ•…éšœæ¢å¤
- âœ… **é€šä¿¡è¶…æ—¶**: è‡ªåŠ¨é‡è¯•æœºåˆ¶
- âœ… **çŠ¶æ€å¼‚å¸¸**: å¼‚å¸¸æ£€æµ‹å’Œå»ºè®®

### **æ€§èƒ½éªŒè¯**
- âœ… **å“åº”æ—¶é—´**: æ“ä½œå“åº”æ—¶é—´<2ç§’
- âœ… **æ£€æµ‹ç²¾åº¦**: çŠ¶æ€æ£€æµ‹å‡†ç¡®ç‡100%
- âœ… **æ¢å¤æ—¶é—´**: æ•…éšœæ¢å¤æ—¶é—´<15ç§’
- âœ… **ç¨³å®šæ€§**: é•¿æ—¶é—´è¿è¡Œç¨³å®š

## ğŸ”§ **ç®—æ³•ç‰¹ç‚¹**

### **é«˜å¯é æ€§**
- âœ… å®Œå–„çš„å¼‚å¸¸å¤„ç†æœºåˆ¶
- âœ… è‡ªåŠ¨å¤ä½å’Œé‡è¯•åŠŸèƒ½
- âœ… å¤šé‡å®‰å…¨éªŒè¯æœºåˆ¶
- âœ… æ™ºèƒ½æ•…éšœæ¢å¤ç­–ç•¥

### **é«˜æ•ˆç‡**
- âœ… ä¼˜åŒ–çš„é€šä¿¡åè®®å®ç°
- âœ… æ™ºèƒ½çš„çŠ¶æ€æ£€æµ‹ç®—æ³•
- âœ… é«˜æ•ˆçš„æ‰¹é‡æ“ä½œæ”¯æŒ
- âœ… å¹¶å‘å®‰å…¨çš„è®¾è®¡

### **æ˜“æ‰©å±•**
- âœ… æ¨¡å—åŒ–çš„ç®—æ³•è®¾è®¡
- âœ… æ¸…æ™°çš„æ¥å£å®šä¹‰
- âœ… å¯é…ç½®çš„å‚æ•°è®¾ç½®
- âœ… æ’ä»¶å¼çš„åŠŸèƒ½æ‰©å±•

### **æ˜“ä½¿ç”¨**
- âœ… ç®€æ´çš„APIæ¥å£
- âœ… è¯¦ç»†çš„æ–‡æ¡£è¯´æ˜
- âœ… å®Œæ•´çš„ä½¿ç”¨ç¤ºä¾‹
- âœ… æ¸…æ™°çš„é”™è¯¯ä¿¡æ¯

## ğŸ‰ **åº”ç”¨ä»·å€¼**

### **å·¥ä¸šè‡ªåŠ¨åŒ–**
- âœ… è¿œç¨‹æ–­è·¯å™¨æ§åˆ¶å’Œç›‘æ§
- âœ… ç”µæ°”è®¾å¤‡çŠ¶æ€ç®¡ç†
- âœ… æ•…éšœè‡ªåŠ¨è¯Šæ–­å’Œæ¢å¤
- âœ… è®¾å¤‡å¥åº·çŠ¶æ€è¯„ä¼°

### **ç”µåŠ›ç³»ç»Ÿ**
- âœ… è´Ÿè·ç®¡ç†å’Œæ§åˆ¶
- âœ… ä¿æŠ¤è®¾å¤‡åè°ƒ
- âœ… ç”µåŠ›ç³»ç»Ÿç›‘æ§
- âœ… æ•…éšœå¿«é€Ÿéš”ç¦»

### **æ™ºèƒ½å»ºç­‘**
- âœ… ç”µæºç³»ç»Ÿç®¡ç†
- âœ… å®‰å…¨æ§åˆ¶ç³»ç»Ÿ
- âœ… èƒ½è€—ä¼˜åŒ–ç®¡ç†
- âœ… è®¾å¤‡é¢„é˜²ç»´æŠ¤

### **ç³»ç»Ÿé›†æˆ**
- âœ… æ ‡å‡†Modbus TCPåè®®
- âœ… JSONæ ¼å¼æ•°æ®è¾“å‡º
- âœ… RESTful APIæ¥å£æ”¯æŒ
- âœ… æ•°æ®åº“å­˜å‚¨å…¼å®¹

## ğŸš€ **ä¸‹ä¸€æ­¥æ‰©å±•**

### **åŠŸèƒ½æ‰©å±•**
- ğŸ“‹ æ·»åŠ æ›´å¤šæ–­è·¯å™¨å‹å·æ”¯æŒ
- ğŸ“‹ å®ç°Webç•Œé¢ç®¡ç†
- ğŸ“‹ æ·»åŠ æ•°æ®å¯è§†åŒ–åŠŸèƒ½
- ğŸ“‹ æ”¯æŒé›†ç¾¤è®¾å¤‡ç®¡ç†

### **æ€§èƒ½ä¼˜åŒ–**
- ğŸ“‹ å®ç°è¿æ¥æ± ç®¡ç†
- ğŸ“‹ æ·»åŠ æ•°æ®ç¼“å­˜æœºåˆ¶
- ğŸ“‹ ä¼˜åŒ–ç½‘ç»œé€šä¿¡æ•ˆç‡
- ğŸ“‹ æé«˜å¹¶å‘å¤„ç†èƒ½åŠ›

## ğŸ¯ **æ€»ç»“**

**æˆåŠŸåˆ›å»ºäº†å®Œæ•´çš„LX47LE-125åˆ†é—¸åˆé—¸æ§åˆ¶ç®—æ³•åº“ï¼**

### âœ… **å·²å®ç°åŠŸèƒ½**
1. **æ–­è·¯å™¨æ§åˆ¶ç®—æ³•** - å®Œæ•´çš„åˆé—¸åˆ†é—¸æ§åˆ¶åŠŸèƒ½
2. **çŠ¶æ€æ£€æµ‹ç®—æ³•** - å…¨é¢çš„çŠ¶æ€æ£€æµ‹å’Œåˆ†æåŠŸèƒ½
3. **å¤ä½ç®¡ç†ç®—æ³•** - æ™ºèƒ½çš„æ•…éšœæ¢å¤å’Œç»´æŠ¤åŠŸèƒ½
4. **ä½¿ç”¨ç¤ºä¾‹ç¨‹åº** - è¯¦ç»†çš„ä½¿ç”¨ç¤ºä¾‹å’Œæ¼”ç¤º
5. **å®Œæ•´æ–‡æ¡£** - è¯¦ç»†çš„ä½¿ç”¨è¯´æ˜å’ŒAPIæ–‡æ¡£

### ğŸ‰ **æ ¸å¿ƒä»·å€¼**
- **ç»è¿‡å®é™…éªŒè¯** - çœŸå®è®¾å¤‡æµ‹è¯•é€šè¿‡
- **æ¨¡å—åŒ–è®¾è®¡** - å¯åœ¨ä»»ä½•Goé¡¹ç›®ä¸­å¤ç”¨
- **å®Œæ•´åŠŸèƒ½** - æ¶µç›–æ§åˆ¶ã€æ£€æµ‹ã€å¤ä½ã€ç›‘æ§
- **é«˜å¯é æ€§** - å®Œå–„çš„é”™è¯¯å¤„ç†å’Œè‡ªåŠ¨æ¢å¤
- **æ˜“äºä½¿ç”¨** - ç®€æ´çš„APIå’Œè¯¦ç»†çš„æ–‡æ¡£

**ç°åœ¨æ‚¨æ‹¥æœ‰äº†ä¸€å¥—å®Œæ•´ã€å¯é ã€æ˜“ç”¨çš„LX47LE-125åˆ†é—¸åˆé—¸æ§åˆ¶ç®—æ³•åº“ï¼ŒåŒ…å«äº†æ‰€æœ‰æ£€æµ‹åˆ†é—¸åˆé—¸çŠ¶æ€ã€å¤ä½ä»¥åŠæ“ä½œåˆ†é—¸åˆé—¸çš„ç®—æ³•ï¼** ğŸ‰
